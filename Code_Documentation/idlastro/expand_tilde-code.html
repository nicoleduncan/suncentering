<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Mon Sep 30 16:57:29 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>expand_tilde.pro (Documentation for ./)</title>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="expand_tilde.pro (Documentation for ./)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">
    <div class="content">
      <code class="source"><span class="comments">;+</span>
<span class="comments">; NAME:</span>
<span class="comments">;      EXPAND_TILDE()</span>
<span class="comments">;               </span>
<span class="comments">; PURPOSE: </span>
<span class="comments">;       Expand tilde in UNIX directory names</span>
<span class="comments">;               </span>
<span class="comments">; CALLING SEQUENCE: </span>
<span class="comments">;       IDL> output=expand_tilde(input)</span>
<span class="comments">;    </span>
<span class="comments">; INPUTS: </span>
<span class="comments">;       INPUT = input file or directory name, scalar string</span>
<span class="comments">;</span>
<span class="comments">; OUTPUT:</span>
<span class="comments">;       Returns expanded filename, scalar string</span>
<span class="comments">;               </span>
<span class="comments">; EXAMPLES: </span>
<span class="comments">;       output=expand_tilde('~zarro/test.doc')</span>
<span class="comments">;               ---> output='/usr/users/zarro'</span>
<span class="comments">;</span>
<span class="comments">; NOTES:</span>
<span class="comments">;       This version of EXPAND_TILDE differs from the version in the Solar</span>
<span class="comments">;       Library in that it does not call the functions EXIST and IDL_RELEASE.</span>
<span class="comments">;       However, it should work identically.</span>
<span class="comments">; PROCEDURE CALLS:</span>
<span class="comments">;       None.</span>
<span class="comments">; REVISION HISTORY: </span>
<span class="comments">;       Version 1,  17-Feb-1997,  D M Zarro.  Written</span>
<span class="comments">;       Transfered from Solar Library   W. Landsman   Sep. 1997</span>
<span class="comments">;       Made more robust  D. Zarro/W. Landsman  Sep. 2000</span>
<span class="comments">;       Made even more robust (since things like ~zarro weren't being expanded)</span>
<span class="comments">;       Zarro (EITI/GSFC, Mar 2001)</span>
<span class="comments">;-            </span>

<a id="expand_tilde:source"></a> function expand_tilde,name
 if N_elements(name) EQ 0 then return,''
 if size(name,/TNAME) ne 'STRING' then return,name
 tpos=strpos(name,'~')
 if tpos eq -1 then return,name
 apos = strpos(name,'~/')
 bpos = strpos(name,'/~')

 tilde=name
 if apos GT -1 then begin
    tilde = strmid(name,0,apos+1)
    post = strmid(name,apos+1,strlen(name))
 endif else begin
   if bpos gt -1 then begin
            pre = strmid(name,0,bpos+1)
            tilde = strmid(name,bpos+1,strlen(name))
   endif
 endelse
 
  error=0
  catch,error
  if error ne 0 then begin
     catch,/cancel
     return,name
  endif
 
 cd,tilde,curr=curr
 cd,curr,curr=dcurr
 tname = dcurr
 if N_elements(pre) GT 0 then tname = pre+tname else $
    if N_elements(post) GT 0 then tname = tname + post

 return,tname & end
</code>
    </div>
  </body>
</html>