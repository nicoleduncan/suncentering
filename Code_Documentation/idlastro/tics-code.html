<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Mon Sep 30 16:58:09 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>tics.pro (Documentation for ./)</title>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="tics.pro (Documentation for ./)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">
    <div class="content">
      <code class="source"><a id="tics:source"></a>pro tics,radec_min,radec_max,numx,ticsize,incr,RA=ra
<span class="comments">;+</span>
<span class="comments">; NAME:</span>
<span class="comments">;       TICS</span>
<span class="comments">; PURPOSE:</span>
<span class="comments">;       Compute a nice increment between tic marks for astronomical images.</span>
<span class="comments">; EXPLANATION:       </span>
<span class="comments">;       For use in labelling a displayed image with right ascension</span>
<span class="comments">;       or declination axes.  An approximate distance between tic </span>
<span class="comments">;       marks is input, and a new value is computed such that the </span>
<span class="comments">;       distance between tic marks is in simple increments of the </span>
<span class="comments">;       tic label values.</span>
<span class="comments">;</span>
<span class="comments">; CALLING SEQUENCE:</span>
<span class="comments">;       tics, radec_min, radec_max, numx, ticsize, incr, [ /RA ]</span>
<span class="comments">;</span>
<span class="comments">; INPUTS:</span>
<span class="comments">;       radec_min - minimum axis value (degrees)</span>
<span class="comments">;       radec_max - maximum axis value (degrees)</span>
<span class="comments">;       numx  - number of pixels in x direction</span>
<span class="comments">;</span>
<span class="comments">; INPUT/OUTPUT  </span>
<span class="comments">;       ticsize - distance between tic marks (pixels)</span>
<span class="comments">;</span>
<span class="comments">; OUTPUTS:</span>
<span class="comments">;       incr    - incremental value for tic labels (in minutes of </span>
<span class="comments">;               time for R.A., minutes of arc for dec.)</span>
<span class="comments">;</span>
<span class="comments">; REVISON HISTORY:</span>
<span class="comments">;       written by B. Pfarr, 4/14/87</span>
<span class="comments">;       Added some more tick precision (i.e. 1 & 2 seconds in case:) EWD May92</span>
<span class="comments">;       Added sub arcsecond tick precision   W. Landsman   May 2000</span>
<span class="comments">;       Plate scale off by 1 pixel  W. Landsman July 2004</span>
<span class="comments">;-</span>
  On_error,2

  numtics = numx/ticsize                   <span class="comments">;initial number of tics</span>

<span class="comments">;     Convert total distance to arc minutes for dec. or to</span>
<span class="comments">;     minutes of time for r.a.</span>

  if keyword_set(RA) then mul = 4.0 else mul = 60.
  mins = abs(radec_min-radec_max)*mul       <span class="comments">;total distance in minutes</span>
  rapix = (numx-1)/mins                        <span class="comments">;pixels per minute</span>
  incr = mins/numtics                      <span class="comments">;minutes per tic</span>

<span class="comments">;                                        determine increment</span>
  case 1 of 
    incr GE 120.0  : incr = 480.0       <span class="comments">; 4 hours</span>
    incr GE  60.0  : incr = 120.0       <span class="comments">; 2 hours</span>
    incr GE  30.0  : incr =  60.0       <span class="comments">; 1 hour</span>
    incr GE  15.0  : incr =  30.0       <span class="comments">; 30 minutes </span>
    incr GE  10.0  : incr =  15.0       <span class="comments">; 15 minutes</span>
    incr GE   5.0  : incr =  10.0       <span class="comments">; 10 minutes</span>
    incr GE   2.0  : incr =   5.0       <span class="comments">;  5 minutes</span>
    incr GE   1.0  : incr =   2.0       <span class="comments">;  2 minutes</span>
    incr GE   0.5  : incr =   1.0       <span class="comments">;  1 minute</span>
    incr GE   0.25 : incr =   0.5       <span class="comments">; 30 seconds</span>
    incr GE   10/60.0d  : incr =   0.25      <span class="comments">; 15 seconds</span>
    incr GE   5/60.0d   : incr =   10/60.0d  <span class="comments">; 10 seconds</span>
    incr GE   2/60.0d   : incr =   5/60.0d   <span class="comments">;  5 seconds</span>
    incr GE   1/60.0d   : incr =   2/60.0d   <span class="comments">;  2 seconds</span>
    incr GE   0.5/60.0d : incr =   1./60.0d  <span class="comments">;  1 seconds</span>
    incr GE   0.2/60.0d : incr = 0.5/60.0d   <span class="comments">;  0.5 seconds</span>
    incr GE   0.1/60.0d  : incr = 0.2/60.0d    <span class="comments">;  0.2 seconds</span>
    incr GE   0.05/60.0d : incr = 0.1/60.0d    <span class="comments">;  0.1 seconds</span>
    incr GE   0.02/60.0d : incr = 0.05/60.0d   <span class="comments">;  0.05 seconds</span>
    incr GE   0.01/60.0d : incr = 0.02/60.0d   <span class="comments">;  0.02 seconds</span>
    incr GE   0          : incr = 0.01/60.0d   <span class="comments">;  0.01 seconds</span>
  endcase

   ticsize = rapix*incr                 <span class="comments">;determine ticsize</span>
   if ( radec_min GT radec_max ) then incr = -incr 

   return 
  end
</code>
    </div>
  </body>
</html>