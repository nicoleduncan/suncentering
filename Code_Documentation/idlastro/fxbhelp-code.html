<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Mon Sep 30 16:57:34 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>fxbhelp.pro (Documentation for ./)</title>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="fxbhelp.pro (Documentation for ./)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">
    <div class="content">
      <code class="source">	PRO FXBHELP,UNIT
<span class="comments">;+</span>
<span class="comments">; NAME: </span>
<span class="comments">;	FXBHELP</span>
<span class="comments">; Purpose     : </span>
<span class="comments">;	Prints short description of columns in a FITS binary table.</span>
<span class="comments">; Explanation : </span>
<span class="comments">;	Prints a short description of the columns in a FITS binary table to the</span>
<span class="comments">;	terminal screen.</span>
<span class="comments">; Use         : </span>
<span class="comments">;	FXBHELP, UNIT</span>
<span class="comments">; Inputs      : </span>
<span class="comments">;	UNIT	= Logical unit number of file opened by FXBOPEN.</span>
<span class="comments">; Opt. Inputs : </span>
<span class="comments">;	None.</span>
<span class="comments">; Outputs     : </span>
<span class="comments">;	None.</span>
<span class="comments">; Opt. Outputs: </span>
<span class="comments">;	None.</span>
<span class="comments">; Keywords    : </span>
<span class="comments">;	None.</span>
<span class="comments">; Calls       : </span>
<span class="comments">;	FXBFIND, FXBFINDLUN, FXPAR</span>
<span class="comments">; Common      : </span>
<span class="comments">;	Uses common block FXBINTABLE--see "fxbintable.pro" for more</span>
<span class="comments">;	information.</span>
<span class="comments">; Restrictions: </span>
<span class="comments">;	The file must have been opened with FXBOPEN.</span>
<span class="comments">; Side effects: </span>
<span class="comments">;	Certain fields may be truncated in the display.</span>
<span class="comments">; Category    : </span>
<span class="comments">;	Data Handling, I/O, FITS, Generic.</span>
<span class="comments">; Prev. Hist. : </span>
<span class="comments">;	William Thompson, Feb. 1992, from TBHELP by W. Landsman.</span>
<span class="comments">; Written     : </span>
<span class="comments">;	William Thompson, GSFC, February 1992.</span>
<span class="comments">; Modified    : </span>
<span class="comments">;	Version 1, William Thompson, GSFC, 12 April 1993.</span>
<span class="comments">;		Incorporated into CDS library.</span>
<span class="comments">;	Version 2, William Thompson, GSFC, 12 May 1993.</span>
<span class="comments">;		Modified to not write to a logical unit number assigned to the</span>
<span class="comments">;		terminal.  This makes it compatible with IDL for Windows.</span>
<span class="comments">;       Version 3, Wayne Landsman GSFC April 2010</span>
<span class="comments">;                Remove use of obsolete !ERR system variable</span>
<span class="comments">; Version     : </span>
<span class="comments">;	Version 3, April 2010.</span>
<span class="comments">;-</span>
<span class="comments">;</span>
@fxbintable
	ON_ERROR,2
	COMPILE_OPT IDL2
<span class="comments">;</span>
<span class="comments">;  Check the number of parameters.</span>
<span class="comments">;</span>
	IF N_PARAMS() LT 1 THEN MESSAGE,'Syntax:  FXBHELP, UNIT'
<span class="comments">;</span>
<span class="comments">;  Get the header.</span>
<span class="comments">;</span>
	ILUN = FXBFINDLUN(UNIT)
	HEADER = HEAD[*,ILUN]
<span class="comments">;</span>
<span class="comments">;  Get the extension name.</span>
<span class="comments">;</span>
	EXTNAME = FXPAR(HEADER,'EXTNAME', COUNT=N_EXTNAME)
	IF N_EXTNAME LE 0 THEN EXTNAME = ''
<span class="comments">;</span>
<span class="comments">;  Print the labels.</span>
<span class="comments">;</span>
	PRINT,' '
	PRINT,'FITS Binary Table:  ' + EXTNAME
	PRINT,'Table contains ' + STRTRIM(TFIELDS[ILUN],2) +	$
		' columns, by ' + STRTRIM(NAXIS2[ILUN],2) + ' rows'
	PRINT,' '
	T_FORMAT = 26	<span class="comments">;Starting column for Format/Size</span>
	T_UNITS = 46	<span class="comments">;Starting column for Units</span>
	T_NULL = 58	<span class="comments">;Starting column for Null</span>
	PRINT,FORMAT="('Col',2X,'Name',T" + STRTRIM(T_FORMAT,2) +	$
		",'Type Size',T" + STRTRIM(T_UNITS,2) + ",'Units',T" + $
		STRTRIM(T_NULL,2) + ",6X,'Null')"
	PRINT,' '
<span class="comments">;</span>
<span class="comments">;  Get the values of the information to be printed.</span>
<span class="comments">;</span>
	FXBFIND,HEADER,'TDIM', COL,TDIM0, N_FOUND,''
	FXBFIND,HEADER,'TUNIT',COL,TUNIT0,N_FOUND,''
<span class="comments">;</span>
	FXBFIND,HEADER,'TNULL',COL,TNULL0,N_FOUND
	SNULL = STRARR(TFIELDS[ILUN])
	IF N_FOUND GT 0 THEN FOR I = 0,N_ELEMENTS(COL)-1 DO	$
		SNULL[COL[I]-1] = STRTRIM(TNULL0[I],2)
<span class="comments">;</span>
<span class="comments">;  Print the column information.</span>
<span class="comments">;</span>
	FOR ICOL = 0,TFIELDS[ILUN]-1 DO BEGIN
		CASE FORMAT[ICOL,ILUN] OF
			'L':  TYPE0 = 'Log'
			'A':  TYPE0 = 'Asc'
			'B':  TYPE0 = 'Byt'
			'I':  TYPE0 = 'Int'
			'J':  TYPE0 = 'Lng'
			'E':  TYPE0 = 'Flt'
			'D':  TYPE0 = 'Dbl'
			'C':  TYPE0 = 'Cmp'
			'M':  TYPE0 = 'DbC'
			'X':  TYPE0 = 'Bit'
		ENDCASE			
		IF MAXVAL[ICOL,ILUN] GT 0 THEN BEGIN
			ELEM = MAXVAL[ICOL,ILUN]
			IF FORMAT[ICOL,ILUN] EQ 'M' THEN ELEM = ELEM/2
			ELEM = "&lt; " + STRTRIM(ELEM,2)
		END ELSE IF TDIM0[ICOL] NE '' THEN BEGIN
			ELEM = TDIM0[ICOL]
		END ELSE BEGIN
			ELEM = N_ELEM[ICOL,ILUN]
			IF FORMAT[ICOL,ILUN] EQ 'M' THEN ELEM = ELEM/2
			ELEM = STRTRIM(ELEM,2)
		ENDELSE
		PRINT,ICOL+1,TTYPE[ICOL,ILUN],TYPE0,ELEM,		$
			TUNIT0[ICOL],SNULL[ICOL], FORMAT='(I3,2X,A,T' +	$
			STRTRIM(T_FORMAT-2,2) + ',2X,A3,2X,A,T' +	$
			STRTRIM(T_UNITS-2,2) + ',2X,A,T' +		$
			STRTRIM(T_NULL-2,2) + ',2X,A10)'
	ENDFOR
	PRINT,' '
<span class="comments">;</span>
	RETURN
	END

</code>
    </div>
  </body>
</html>