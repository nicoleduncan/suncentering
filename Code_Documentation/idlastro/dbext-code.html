<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Mon Sep 30 16:57:25 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>dbext.pro (Documentation for ./)</title>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="dbext.pro (Documentation for ./)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">
    <div class="content">
      <code class="source"><a id="dbext:source"></a>pro dbext,list,items,v1,v2,v3,v4,v5,v6,v7,v8,v9,v10,v11,v12
<span class="comments">;+</span>
<span class="comments">; NAME:</span>
<span class="comments">;       DBEXT</span>
<span class="comments">; PURPOSE:</span>
<span class="comments">;       Extract values of up to 12 items from an IDL database </span>
<span class="comments">; EXPLANATION:</span>
<span class="comments">;       Procedure to extract values of up to 12 items from</span>
<span class="comments">;       data base file, and place into IDL variables</span>
<span class="comments">;</span>
<span class="comments">; CALLING SEQUENCE:</span>
<span class="comments">;       dbext,list,items,v1,[v2,v3,v4,v5,v6,v7,v8,v9,v10,v11,v12]</span>
<span class="comments">;</span>
<span class="comments">; INPUTS:</span>
<span class="comments">;       list - list of entry numbers to be printed, vector or scalar</span>
<span class="comments">;               If list = -1, then all entries will be extracted.</span>
<span class="comments">;               list may be converted to a vector by DBEXT </span>
<span class="comments">;       items - standard item list specification.  See DBPRINT for </span>
<span class="comments">;               the 6 different ways that items may be specified. </span>
<span class="comments">;</span>
<span class="comments">; OUTPUTS:</span>
<span class="comments">;       v1...v12 - the vectors of values for up to 12 items.</span>
<span class="comments">;</span>
<span class="comments">; EXAMPLE:</span>
<span class="comments">;       Extract all RA and DEC values from the currently opened database, and</span>
<span class="comments">;       place into the IDL vectors, IDLRA and IDLDEC.</span>
<span class="comments">;</span>
<span class="comments">;               IDL> DBEXT,-1,'RA,DEC',idlra,idldec</span>
<span class="comments">;</span>
<span class="comments">; HISTORY</span>
<span class="comments">;       version 2  D. Lindler  NOV. 1987</span>
<span class="comments">;       check for INDEXED items   W. Landsman   Feb. 1989</span>
<span class="comments">;       Converted to IDL V5.0   W. Landsman   September 1997</span>
<span class="comments">;       Avoid EXECUTE() call for V6.1 or later  W. Landsman   December 2006</span>
<span class="comments">;       Assume since V6.1   W. Landsman June 2009</span>
<span class="comments">;-</span>
<span class="comments">;*****************************************************************</span>
 On_error,2
 compile_opt idl2

 if N_params() lt 3 then begin
        print,'Syntax - dbext, list, items, v1, [ v2, v3....v12 ]'
        return
 endif

 zparcheck,'DBEXT',list,1,[1,2,3,4,5],[0,1],'Entry List'

 db_item,items,it,ivalnum,idltype,sbyte,numvals,nbytes

 nitems = N_elements(it)
 nentries = db_info('entries')
 if max(list) GT nentries[0] then $
         message,db_info('name',0)+' entry numbers must be between 1 and ' + $
         strtrim(nentries[0],2)
 if nitems GT N_params()-2 then $
        message,'Insufficient output variables supplied'
 if nitems LT N_params()-2 then message, /INF, $
        'WARNING - More output variables supplied than items specified'

<span class="comments">; get item info.</span>

 dbno = db_item_info('dbnumber',it)
 if max(dbno) eq 0 then dbno=0 $                <span class="comments">;flag that it is first db only</span>
                  else dbno=-1
 index = db_item_info('index',it)
 ind = where( (index ge 1) and (index ne 3), Nindex ) 

 if (Nindex eq nitems) and (dbno eq 0) then begin     <span class="comments">;All indexed items?</span>

        if N_elements(list) eq 1 then list = lonarr(1) + list
        for i=0,nitems - 1 do begin                         <span class="comments">;Get indexed items</span>
          itind = it[ind[i]]
   	  dbext_ind,list,itind,dbno,scope_varfetch('v' + strtrim(ind[i]+1,2))
       endfor

 endif else begin     

         nvalues = db_item_info('nvalues',it)
         dbext_dbf,list,dbno,sbyte,nbytes*nvalues,idltype,nvalues, $
                    v1,v2,v3,v4,v5,v6,v7,v8,v9,v10,v11,v12

 endelse

 return
 end
</code>
    </div>
  </body>
</html>