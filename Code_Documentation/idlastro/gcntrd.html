<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Mon Sep 30 16:57:38 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>gcntrd.pro (Documentation for ./)</title>

    

    <script type="text/javascript" src="../idldoc-resources/js/jquery.js"></script>
    <script type="text/javascript" src="../idldoc-resources/js/copybutton.js"></script>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="gcntrd.pro (Documentation for ./)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">

    <div class="header">
      <h1>Documentation for ./</h1>
      <h2>Generated by IDLdoc</h2>
    </div>
    
    
    <table class="navbar smaller" summary="Navigation header" cellspacing="0">
      <tr>
        <td >
          <a href="../overview.html">Overview</a>
        </td>
    
        <td >
          Directory
        </td>
    
        <td class="selected">File</td>
    
        
        <td >
          <a href="gcntrd-code.html" title="Chromocoded source">Source</a> <a href="gcntrd.pro" title=".pro file"><img src="../idldoc-resources/attach.png" alt="[attach.png]" align="top"/></a>
        </td>
        
    
        <td >Etc</td>
    
        <td >
        	<a href="../categories.html">Categories</a>
        </td>
    
        <td >
        	<a href="../search.html">Search</a>
        </td>
    
        
        <td >
          <a href="../idldoc-index.html">Index</a>
        </td>
        
    
        
    
        <td >
          <a href="../idldoc-help.html">Help</a>
        </td>
    
        <td class="flexible">
          User documentation
        </td>
      </tr>
    </table>
    
    
    
    <p class="localnavbar smallest"><a href="" target="_top">single page</a> | <a href="../index.html" target="_top">use frames</a> &nbsp;&nbsp;&nbsp; summary &nbsp;&nbsp;&nbsp; class &nbsp;&nbsp;&nbsp; fields &nbsp;&nbsp;&nbsp; <a href="#routine-details">routine details</a> &nbsp;&nbsp;&nbsp; <a href="#attributes">file attributes</a></p>
    
    
    
    
    
    
    
    
    

    <div class="content">
      <h2 class="directory">idlastro/</h2>
      <h1 class="basename">gcntrd.pro<span class="file-attributes"></span></h1>
      

      
      
      
      <br/>

      

      

      

      

      

      


      
      <div id="routine-details">
        

        
        <div class="routine-details details" id="gcntrd">
          <h2 class="routine-name"><a href="#root" class="top">top</a> <a href="gcntrd-code.html#gcntrd:source" class="top">source</a> gcntrd<span class="routine-attributes"></span></h2>

          

          <p class="syntax"><code>gcntrd<span class="argument">, <a href="#gcntrd:p:img">img</a></span><span class="argument">, <a href="#gcntrd:p:x">x</a></span><span class="argument">, <a href="#gcntrd:p:y">y</a></span><span class="argument">, <a href="#gcntrd:p:xcen">xcen</a></span><span class="argument">, <a href="#gcntrd:p:ycen">ycen</a></span><span class="argument">, <a href="#gcntrd:p:fwhm">fwhm</a></span><span class="argument">, <a href="#gcntrd:k:maxgood">maxgood</a>=<span class="var">maxgood</span></span><span class="argument">, <a href="#gcntrd:k:keepcenter">keepcenter</a>=<span class="var">keepcenter</span></span><span class="argument">, <a href="#gcntrd:k:SILENT">SILENT</a>=<span class="var">SILENT</span></span><span class="argument">, <a href="#gcntrd:k:DEBUG">DEBUG</a>=<span class="var">DEBUG</span></span></code></p>

          
          <div class="small "><p>  NAME:
       GCNTRD
  PURPOSE:
       Compute the stellar centroid by Gaussian fits to marginal X,Y, sums
 EXPLANATION:
       GCNTRD uses the DAOPHOT "FIND" centroid algorithm by fitting Gaussians
       to the marginal X,Y distributions.     User can specify bad pixels
       (either by using the MAXGOOD keyword or setting them to NaN) to be
       ignored in the fit.    Pixel values are weighted toward the center to
       avoid contamination by neighboring stars.
</p>

<p>  CALLING SEQUENCE:
       GCNTRD, img, x, y, xcen, ycen, [ fwhm , /SILENT, /DEBUG, MAXGOOD = ,
                            /KEEPCENTER ]
</p>

<p>  INPUTS:
       IMG - Two dimensional image array
       X,Y - Scalar or vector integers giving approximate stellar center
</p>

<p>  OPTIONAL INPUT:
       FWHM - floating scalar; Centroid is computed using a box of half
               width equal to 1.5 sigma = 0.637* FWHM.  GCNTRD will prompt
               for FWHM if not supplied
</p>

<p>  OUTPUTS:
       XCEN - the computed X centroid position, same number of points as X
       YCEN - computed Y centroid position, same number of points as Y
</p>

<p>       Values for XCEN and YCEN will not be computed if the computed
       centroid falls outside of the box, or if there are too many bad pixels,
       or if the best-fit Gaussian has a negative height.   If the centroid
       cannot be computed, then a  message is displayed (unless /SILENT is
       set) and XCEN and YCEN are set to -1.
</p>

<p>  OPTIONAL OUTPUT KEYWORDS:
       MAXGOOD=  Only pixels with values less than MAXGOOD are used to in
               Gaussian fits to determine the centroid.    For non-integer
               data, one can also flag bad pixels using NaN values.
       /SILENT - Normally GCNTRD prints an error message if it is unable
               to compute the centroid.   Set /SILENT to suppress this.
       /DEBUG - If this keyword is set, then GCNTRD will display the subarray
               it is using to compute the centroid.
       /KeepCenter  By default, GCNTRD first convolves a small region around
              the supplied position with a lowered Gaussian filter, and then
              finds the maximum pixel in a box centered on the input X,Y
              coordinates, and then extracts a new box about this maximum
              pixel.   Set the /KeepCenter keyword  to skip the convolution
              and finding the maximum pixel, and instead use a box
              centered on the input X,Y coordinates.
  PROCEDURE:
       Unless /KEEPCENTER is set, a small area around the initial X,Y is
       convolved with a Gaussian kernel, and the maximum pixel is found.
       This pixel is used as the  center of a square, within
       which the centroid is computed as the Gaussian least-squares fit
       to the  marginal sums in the X and Y directions.
</p>

<p>  EXAMPLE:
       Find the centroid of a star in an image im, with approximate center
       631, 48.    Assume that bad (saturated) pixels have a value of 4096 or
       or higher, and that the approximate FWHM is 3 pixels.
</p>

<p>       IDL&gt; GCNTRD, IM, 631, 48, XCEN, YCEN, 3, MAXGOOD = 4096
  MODIFICATION HISTORY:
       Written June 2004, W. Landsman  following algorithm used by P. Stetson
             in DAOPHOT2.
       Modified centroid computation (as in IRAF/DAOFIND) to allow shifts of
      more than 1 pixel from initial guess.    March 2008
      First perform Gaussian convolution prior to finding maximum pixel
      to smooth out noise  W. Landsman  Jan 2009
</p>

</div>
          

          

          
          <h3>Parameters</h3>
            <dl>
              
              <dt id="gcntrd:p:img">img <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="gcntrd:p:x">x <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="gcntrd:p:y">y <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="gcntrd:p:xcen">xcen <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="gcntrd:p:ycen">ycen <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="gcntrd:p:fwhm">fwhm <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
            </dl>
          

          
          <h3>Keywords</h3>
            <dl>
              
              <dt id="gcntrd:k:maxgood">maxgood <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="gcntrd:k:keepcenter">keepcenter <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="gcntrd:k:SILENT">SILENT <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="gcntrd:k:DEBUG">DEBUG <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
            </dl>
          

          

          

          

          

        </div>
        

      </div>
      

      <div id="attributes">
        <h2>File attributes</h2>

        <table class="attribute small" summary="File attributes">
          <tr>
            <td class="name">Modification date:</td>
            <td>Tue Oct 23 10:15:50 2012</td>
          </tr>

          <tr>
            <td class="name">Lines:</td>
            <td>326</td>
          </tr>

          
        </table>
      </div>

      
    </div>

    <div class="footer">
    
      <table class="smaller" summary="footer">
        <tr>
          <td class="left">Produced by IDLdoc 3.5.1 on Mon Sep 30 16:57:38 2013</td>
          <td class="right"><a target="_top" href="http://idldoc.idldev.com">IDLdoc project information</a></td>
        </tr>
      </table>
    
    </div>
  </body>
</html>