<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Mon Sep 30 16:58:33 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>recpol.pro (Documentation for ./)</title>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="recpol.pro (Documentation for ./)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">
    <div class="content">
      <code class="source"><span class="comments">;-------------------------------------------------------------</span>
<span class="comments">;+</span>
<span class="comments">; NAME:</span>
<span class="comments">;       RECPOL</span>
<span class="comments">; PURPOSE:</span>
<span class="comments">;       Convert 2-d rectangular coordinates to polar coordinates.</span>
<span class="comments">; CATEGORY:</span>
<span class="comments">; CALLING SEQUENCE:</span>
<span class="comments">;       recpol, x, y, r, a</span>
<span class="comments">; INPUTS:</span>
<span class="comments">;       x, y = vector in rectangular form.           in</span>
<span class="comments">; KEYWORD PARAMETERS:</span>
<span class="comments">;       Keywords:</span>
<span class="comments">;         /DEGREES means angle is in degrees, else radians.</span>
<span class="comments">; OUTPUTS:</span>
<span class="comments">;       r, a = vector in polar form: radius, angle.  out</span>
<span class="comments">; COMMON BLOCKS:</span>
<span class="comments">; NOTES:</span>
<span class="comments">; MODIFICATION HISTORY:</span>
<span class="comments">;       R. Sterner. 18 Aug, 1986.</span>
<span class="comments">;       Johns Hopkins University Applied Physics Laboratory.</span>
<span class="comments">;       RES 13 Feb, 1991 --- added /degrees.</span>
<span class="comments">;       R. Sterner, 30 Dec, 1991 --- simplified.</span>
<span class="comments">;       R. Sterner, 25 May, 1993 --- Fixed atan (0,0) problem.</span>
<span class="comments">;</span>
<span class="comments">; Copyright (C) 1986, Johns Hopkins University/Applied Physics Laboratory</span>
<span class="comments">; This software may be used, copied, or redistributed as long as it is not</span>
<span class="comments">; sold and this copyright notice is reproduced on each copy made.  This</span>
<span class="comments">; routine is provided as is without any express or implied warranties</span>
<span class="comments">; whatsoever.  Other limitations apply as described in the file disclaimer.txt.</span>
<span class="comments">;	Converted to IDL V5.0   W. Landsman   September 1997</span>
<span class="comments">;-</span>
<span class="comments">;-------------------------------------------------------------</span>
 
 
<a id="recpol:source"></a>	pro recpol, x, y, r, a, help=hlp, degrees=degrees
 
	if (n_params(0) lt 4) or keyword_set(hlp) then begin
	  print,' Convert 2-d rectangular coordinates to polar coordinates.
	  print,' recpol, x, y, r, a
	  print,'   x, y = vector in rectangular form.           in'
	  print,'   r, a = vector in polar form: radius, angle.  out'
	  print,' Keywords:'
	  print,'   /DEGREES means angle is in degrees, else radians.'
	  return
	endif
 
	<span class="comments">;----------------------------------------------------------------</span>
	<span class="comments">;  Angle complicated because atan won't take (0,0) and</span>
	<span class="comments">;  also because want to keep angle in 0 to 360 (2 pi) range.</span>
	<span class="comments">;----------------------------------------------------------------</span>
	w = where((x ne 0) or (y ne 0), count)	<span class="comments">; Where not both X,Y eq 0.</span>
	a = x*0.				<span class="comments">; Output angle array.</span>
	if count gt 0 then a[w]=atan(y[w],x[w])	<span class="comments">; Find angles.</span>
	w = where(a lt 0, count)		<span class="comments">; find A &lt; 0 and fix.</span>
	if count gt 0 then a[w]= a[w]+2*!dpi	<span class="comments">; add 2 pi to angles &lt; 0.</span>
 
	r = sqrt(x^2 + y^2)			<span class="comments">; Find radii.</span>
 
	if keyword_set(degrees) then a = a*!radeg
 
	return
	end
</code>
    </div>
  </body>
</html>