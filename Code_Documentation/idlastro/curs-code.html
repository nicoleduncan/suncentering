<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Mon Sep 30 16:57:23 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>curs.pro (Documentation for ./)</title>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="curs.pro (Documentation for ./)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">
    <div class="content">
      <code class="source"><a id="curs:source"></a>pro curs, sel
<span class="comments">;+</span>
<span class="comments">; NAME:</span>
<span class="comments">;       CURS</span>
<span class="comments">; PURPOSE:</span>
<span class="comments">;       Selects an X windows cursor shape</span>
<span class="comments">; CALLING SEQUENCE:</span>
<span class="comments">;       curs            ;Interactively select a cursor shape.</span>
<span class="comments">;       curs, sel       ;Make the given CURSOR_STANDARD value the cursor</span>
<span class="comments">;                        shape.</span>
<span class="comments">; OPTIONAL INPUT:</span>
<span class="comments">;       sel  -  Either an integer giving the CURSOR_STANDARD value (usually an </span>
<span class="comments">;               even value between 0 and 152) indicating the cursor shape, or </span>
<span class="comments">;               a string from the following menu</span>
<span class="comments">;       a -- Up arrow              </span>
<span class="comments">;       b -- Left-angled arrow</span>
<span class="comments">;       c -- Right-angled arrow</span>
<span class="comments">;       d -- Crosshair</span>
<span class="comments">;       e -- Finger pointing left </span>
<span class="comments">;       f -- Finger pointing right</span>
<span class="comments">;       g -- Narrow crosshair</span>
<span class="comments">;       h -- Cycle through all possible standard cursor shapes</span>
<span class="comments">; </span>
<span class="comments">;       The full list of available cursor values is given in </span>
<span class="comments">;      /usr/include/X11/cursorfont.h</span>
<span class="comments">; OUTPUTS:</span>
<span class="comments">;       None.</span>
<span class="comments">; RESTRICTIONS:</span>
<span class="comments">;       Uses the CURSOR_STANDARD keyword of the DEVICE procedure.  Although </span>
<span class="comments">;       this keyword is available in Windows IDL, the values</span>
<span class="comments">;       used by this procedure are specific to the X windows device.</span>
<span class="comments">;</span>
<span class="comments">; PROCEDURE:</span>
<span class="comments">;       If the user supplies a valid cursor shape value, it is set.  Otherwise,</span>
<span class="comments">;       an interactive command loop is entered; it will continue until a valid</span>
<span class="comments">;       value is given.</span>
<span class="comments">; MODIFICATION HISTORY:</span>
<span class="comments">;       Converted to VAX 3100 workstations / IDL V2.  M. Greason, STX, May 1990.</span>
<span class="comments">;       Avoid bad cursor parameter values  W. Landsman   February, 1991</span>
<span class="comments">;       Don't change value of input param        W. Landsman   August 1995</span>
<span class="comments">;       Use SIZE(/TNAME) instead of DATATYPE()   W. Landsman  October 2001</span>
<span class="comments">;-</span>
On_error,2
if !D.NAME NE 'X' then message, $
     'ERROR - Requires an X-windows display, current device is ' + !D.NAME
<span class="comments">;                       Check parameter.</span>
<span class="comments">;</span>
isel = indgen(76)*2
nsel = n_elements(isel)
<span class="comments">;</span>
IF N_elements( sel ) EQ 0 THEN sel = 0
<span class="comments">;</span>
<span class="comments">;                       Get the selection interactively, if not already</span>
<span class="comments">;                       specified.</span>
<span class="comments">;</span>
<span class="comments">;                               Initialize.</span>
<span class="comments">;</span>
mnu = ["  a -- Up arrow", "  b -- Left-angled arrow", $
       "  c -- Right-angled arrow", "  d -- Crosshair", $
       "  e -- Finger pointing left", "  f -- Finger pointing right", $
       "  g -- Narrow crosshair", $
       "  h -- Cycle through all possible standard cursor shapes", $
       "  i -- Enter cursor shape number directly", "  j -- Quit"]
nmnu = n_elements(mnu)
fmt = "($,'Code ',I3,'      ',I3,' of ',I3,'      ')"
IF size(sel,/TNAME) EQ 'STRING' then begin
             cmd = strupcase(sel)
             csel = -99
ENDIF ELSE csel = sel
<span class="comments">;</span>
<span class="comments">;                               While loop until a selection is made.</span>
<span class="comments">;</span>
WHILE (csel LE 0) OR (csel GT isel[nsel-1]) DO BEGIN
<span class="comments">;</span>
<span class="comments">;                                       Get command.</span>
<span class="comments">;</span>
if csel NE -99 then begin
        print, "Cursor selection:"
        print, "   "
        FOR i = 0, (nmnu-1) DO print, mnu[i]
        print, "   "
        cmd = ''
        read, "Enter the letter of the desired command: ",cmd
endif
<span class="comments">;</span>
<span class="comments">;                                       Perform the command.</span>
<span class="comments">;</span>
MENU:   CASE strupcase(cmd) OF
                 'A' : csel = 22                        <span class="comments">; Up arrow</span>
                 'B' : csel = 132               <span class="comments">; Left arrow</span>
                 'C' : csel = 2                 <span class="comments">; Right arrow</span>
                 'D' : csel = 34                        <span class="comments">; X-hair.</span>
                 'E' : csel = 56                        <span class="comments">; Left hand.</span>
                 'F' : csel = 58                        <span class="comments">; Right hand.</span>
                 'G' : csel = 33                        <span class="comments">; Narrow crosshair.</span>
                 'H' : BEGIN                    <span class="comments">; Cycle thru all cursors.</span>
                          print, "  "
                          print, "  "
                          print, "Cycling through the possible cursors."
                          print, "  "
                          print, "Strike the space bar to select, any other"
                          print, "key to reject." 
                          print, "  "
                          print, "  "
                          scr_curmov, 0, 1
                          cont = 1
                          FOR i = 0, (nsel-1) DO BEGIN
                                IF cont THEN BEGIN
                                        csel = isel[i]
                                        print, format=fmt, csel, i+1, nsel
                                        scr_curmov, 2, 31
                                        device, cursor_standard=csel
                                        IF get_kbrd(1) EQ ' ' THEN cont = 0
                                ENDIF
                          ENDFOR
                       END
                 'I' : BEGIN                    <span class="comments">; Get # from user.</span>
                          print, "  "
                          print, "  "
                          print, format="(A14,$)", "Enter cursor #"
                          read, csel
                          IF (csel LE 0) OR (csel GT isel[nsel-1]) THEN $
                                print, "Invalid entry."
                       END
                 'J' : csel = 34                <span class="comments">; Quit.  Set to X-hair.</span>
                ELSE : csel = 0                 <span class="comments">; Invalid command.</span>
        ENDCASE
ENDWHILE
<span class="comments">;</span>
<span class="comments">;                       Set the cursor shape</span>
<span class="comments">;</span>
device, cursor_standard=csel
<span class="comments">;</span>
RETURN
END
</code>
    </div>
  </body>
</html>