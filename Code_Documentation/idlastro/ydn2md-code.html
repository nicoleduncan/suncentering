<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Mon Sep 30 16:58:14 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>ydn2md.pro (Documentation for ./)</title>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="ydn2md.pro (Documentation for ./)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">
    <div class="content">
      <code class="source"><span class="comments">;-------------------------------------------------------------</span>
<span class="comments">;+</span>
<span class="comments">; NAME:</span>
<span class="comments">;       YDN2MD</span>
<span class="comments">; PURPOSE:</span>
<span class="comments">;       Convert from year and day number of year to month and day of month.       </span>
<span class="comments">; CALLING SEQUENCE:</span>
<span class="comments">;       YDN2MD,yr,dy,m,d</span>
<span class="comments">; INPUTS:</span>
<span class="comments">;       yr = 4 digit year (like 1988), integer scalar</span>
<span class="comments">;       dy = day number in year (like 310), integer scalar or vector</span>
<span class="comments">;</span>
<span class="comments">; OUTPUTS:</span>
<span class="comments">;       m = month number (1-12, e.g. 11 = Nov)   </span>
<span class="comments">;       d = day of month (like 5).          </span>
<span class="comments">;       Note: On error returns m = d = -1.</span>
<span class="comments">;</span>
<span class="comments">; EXAMPLE:</span>
<span class="comments">;       Find the month/day of days 155 and 255 in the year 2001</span>
<span class="comments">;</span>
<span class="comments">;       IDL> ydn2md, 2001, [155,255], m, d</span>
<span class="comments">;         ==> m = [6,9]   & d = [4,12]        ; = June 4 and September 12 </span>
<span class="comments">;       </span>
<span class="comments">; MODIFICATION HISTORY:</span>
<span class="comments">;       Adapted from Johns Hopkins University/Applied Physics Laboratory</span>
<span class="comments">;       Update to use VALUE_LOCATE,   W. Landsman    January 2001  </span>
<span class="comments">;-</span>
<span class="comments">;-------------------------------------------------------------</span>
 
	PRO YDN2MD,YR,DY,M,D, help=hlp
 
	IF (N_PARAMS() LT 4) or keyword_set(hlp) THEN BEGIN
	  PRINT,' Convert from year and day number of year to month '+$
	    'and day of month.'
	  PRINT,' ydn2md,yr,dy,m,d'
	  PRINT,'   yr = year (like 1988), scalar input'
	  PRINT,'   dy = day number in year (like 310), scalar or vector input'
	  PRINT,'   m = month number (like 11 = Nov).    out'
	  PRINT,'   d = day of month (like 5).           out'
	  PRINT,' Note: On error returns m = d = -1.'
	  RETURN
	ENDIF
 
	<span class="comments">; Days before start of each month.</span>
	YDAYS = [0,31,59,90,120,151,181,212,243,273,304,334,366] + 1
 
	LEAP =  (((YR MOD 4) EQ 0) AND ((YR MOD 100) NE 0)) OR $
                ((YR MOD 400) EQ 0) 
                    
        IF LEAP THEN YDAYS[2] = YDAYS[2:*] + 1
        M = VALUE_LOCATE(YDAYS, DY) + 1
	D = DY - YDAYS[M-1] + 1
        BAD = WHERE(M GT 12, NBAD)

        IF NBAD GT 0 THEN BEGIN
            M[BAD] = -1
            D[BAD] = -1
            MESSAGE,'Error in Day Number',/CON
        ENDIF
	RETURN
 
	END
</code>
    </div>
  </body>
</html>