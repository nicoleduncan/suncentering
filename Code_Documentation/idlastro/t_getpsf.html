<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Mon Sep 30 16:58:05 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>t_getpsf.pro (Documentation for ./)</title>

    

    <script type="text/javascript" src="../idldoc-resources/js/jquery.js"></script>
    <script type="text/javascript" src="../idldoc-resources/js/copybutton.js"></script>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="t_getpsf.pro (Documentation for ./)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">

    <div class="header">
      <h1>Documentation for ./</h1>
      <h2>Generated by IDLdoc</h2>
    </div>
    
    
    <table class="navbar smaller" summary="Navigation header" cellspacing="0">
      <tr>
        <td >
          <a href="../overview.html">Overview</a>
        </td>
    
        <td >
          Directory
        </td>
    
        <td class="selected">File</td>
    
        
        <td >
          <a href="t_getpsf-code.html" title="Chromocoded source">Source</a> <a href="t_getpsf.pro" title=".pro file"><img src="../idldoc-resources/attach.png" alt="[attach.png]" align="top"/></a>
        </td>
        
    
        <td >Etc</td>
    
        <td >
        	<a href="../categories.html">Categories</a>
        </td>
    
        <td >
        	<a href="../search.html">Search</a>
        </td>
    
        
        <td >
          <a href="../idldoc-index.html">Index</a>
        </td>
        
    
        
    
        <td >
          <a href="../idldoc-help.html">Help</a>
        </td>
    
        <td class="flexible">
          User documentation
        </td>
      </tr>
    </table>
    
    
    
    <p class="localnavbar smallest"><a href="" target="_top">single page</a> | <a href="../index.html" target="_top">use frames</a> &nbsp;&nbsp;&nbsp; summary &nbsp;&nbsp;&nbsp; class &nbsp;&nbsp;&nbsp; fields &nbsp;&nbsp;&nbsp; <a href="#routine-details">routine details</a> &nbsp;&nbsp;&nbsp; <a href="#attributes">file attributes</a></p>
    
    
    
    
    
    
    
    
    

    <div class="content">
      <h2 class="directory">idlastro/</h2>
      <h1 class="basename">t_getpsf.pro<span class="file-attributes"></span></h1>
      

      
      
      
      <br/>

      

      

      

      

      

      


      
      <div id="routine-details">
        

        
        <div class="routine-details details" id="t_getpsf">
          <h2 class="routine-name"><a href="#root" class="top">top</a> <a href="t_getpsf-code.html#t_getpsf:source" class="top">source</a> t_getpsf<span class="routine-attributes"></span></h2>

          

          <p class="syntax"><code>t_getpsf<span class="argument">, <a href="#t_getpsf:p:image">image</a></span><span class="argument">, <a href="#t_getpsf:p:fitsfile">fitsfile</a></span><span class="argument">, <a href="#t_getpsf:p:idpsf">idpsf</a></span><span class="argument">, <a href="#t_getpsf:p:psfrad">psfrad</a></span><span class="argument">, <a href="#t_getpsf:p:fitrad">fitrad</a></span><span class="argument">, <a href="#t_getpsf:p:psfname">psfname</a></span><span class="argument">, <a href="#t_getpsf:k:NEWTABLE">NEWTABLE</a>=<span class="var">NEWTABLE</span></span><span class="argument">, <a href="#t_getpsf:k:DEBUG">DEBUG</a>=<span class="var">DEBUG</span></span></code></p>

          
          <div class="small "><p> NAME:
       T_GETPSF
 PURPOSE:
       Driver procedure (for GETPSF) to generate a PSF from isolate stars.
 EXPLANATION:
       Generates a point-spread function from one or more isolated stars.
       List of stars is read from the FITS ASCII table output of T_APER.
       PSF is represented as a sum of a Gaussian plus residuals.
       Ouput residuals are written to a FITS image file.
</p>

<p> CALLING SEQUENCE:
       T_GETPSF, image, fitsfile, [ idpsf, psfrad, fitrad, psfname,
                                       /DEBUG, NEWTABLE =]
</p>

<p> INPUTS:
       IMAGE - image array
       FITSFILE  - scalar string giving name of disk FITS ASCII table.  Must
               contain the keywords 'X','Y' (from T_FIND) and 'AP1_MAG','SKY'
               (from T_APER).
</p>

<p> OPTIONAL INPUTS:
       IDPSF - vector of stellar ID indices indicating which stars are to be
               used to create the PSF.    Not that the PSF star should be
               specified *not* by its STAR_ID value, but rather by the its
               row number (starting with 0) in the FITS table
       PSFRAD - the radius for which the PSF will be defined
       FITRAD - fitting radius, always smaller than PSFRAD
       PSFNAME - name of FITS image file to contain PSF residuals,
               scalar string
       GETPSF will prompt for all the above values if not supplied.
</p>

<p> OPTIONAL KEYWORD INPUT
       NEWTABLE - scalar string specifying the name of the output FITS ASCII
               table.   If not supplied, then the input table is updated with
               the keyword PSF_CODE, specifying which stars were used for the
               PSF.
       DEBUG - if this keyword is set and non-zero, then the result of each
               fitting iteration will be displayed.
</p>

<p> PROMPTS:
       T_GETPSF will prompt for the readout noise (in data numbers), and
       the gain (in photons or electrons per data number) so that pixels can
       be weighted during the PSF fit.   To avoid the prompt, add the
       keywords RONOIS and PHPADU to the FITS ASCII table header.
</p>

<p> PROCEDURES USED:
       FTADDCOL, FTGET(), FTPUT, GETPSF, READFITS(), SXADDHIST, SXADDPAR,
       SXPAR(), WRITEFITS, ZPARCHECK
 REVISION HISTORY:
       Written  W. Landsman     STX           May, 1988
       Update PSF_CODE to indicate PSF stars in order used, W. Landsman Mar 96
       I/O to FITS ASCII disk files  W. Landsman    May 96
       Converted to IDL V5.0   W. Landsman   September 1997
       Update for new FTINFO call   W. Landsman   May 2000
</p>

</div>
          

          

          
          <h3>Parameters</h3>
            <dl>
              
              <dt id="t_getpsf:p:image">image <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="t_getpsf:p:fitsfile">fitsfile <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="t_getpsf:p:idpsf">idpsf <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="t_getpsf:p:psfrad">psfrad <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="t_getpsf:p:fitrad">fitrad <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="t_getpsf:p:psfname">psfname <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
            </dl>
          

          
          <h3>Keywords</h3>
            <dl>
              
              <dt id="t_getpsf:k:NEWTABLE">NEWTABLE <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="t_getpsf:k:DEBUG">DEBUG <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
            </dl>
          

          

          

          

          

        </div>
        

      </div>
      

      <div id="attributes">
        <h2>File attributes</h2>

        <table class="attribute small" summary="File attributes">
          <tr>
            <td class="name">Modification date:</td>
            <td>Tue Oct 23 10:15:50 2012</td>
          </tr>

          <tr>
            <td class="name">Lines:</td>
            <td>120</td>
          </tr>

          
        </table>
      </div>

      
    </div>

    <div class="footer">
    
      <table class="smaller" summary="footer">
        <tr>
          <td class="left">Produced by IDLdoc 3.5.1 on Mon Sep 30 16:58:05 2013</td>
          <td class="right"><a target="_top" href="http://idldoc.idldev.com">IDLdoc project information</a></td>
        </tr>
      </table>
    
    </div>
  </body>
</html>