<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Mon Sep 30 16:57:53 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>nint.pro (Documentation for ./)</title>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="nint.pro (Documentation for ./)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">
    <div class="content">
      <code class="source"><a id="nint:source"></a>function nint, x, LONG = long             <span class="comments">;Nearest Integer Function</span>
<span class="comments">;+</span>
<span class="comments">; NAME:</span>
<span class="comments">;	NINT</span>
<span class="comments">; PURPOSE:</span>
<span class="comments">;	Nearest integer function.</span>
<span class="comments">; EXPLANATION:   </span>
<span class="comments">;	NINT() is similar to the intrinsic ROUND function, with the following</span>
<span class="comments">;	two differences:</span>
<span class="comments">;	(1) if no absolute value exceeds 32767, then the array is returned as</span>
<span class="comments">;		as a type INTEGER instead of LONG</span>
<span class="comments">;	(2) NINT will work on strings, e.g. print,nint(['3.4','-0.9']) will</span>
<span class="comments">;		give [3,-1], whereas ROUND() gives an error message</span>
<span class="comments">;</span>
<span class="comments">; CALLING SEQUENCE:</span>
<span class="comments">;	result = nint( x, [ /LONG] )</span>
<span class="comments">;</span>
<span class="comments">; INPUT:</span>
<span class="comments">;	X - An IDL variable, scalar or vector, usually floating or double</span>
<span class="comments">;		Unless the LONG keyword is set, X must be between -32767.5 and </span>
<span class="comments">;		32767.5 to avoid integer overflow</span>
<span class="comments">;</span>
<span class="comments">; OUTPUT</span>
<span class="comments">;	RESULT - Nearest integer to X</span>
<span class="comments">;</span>
<span class="comments">; OPTIONAL KEYWORD INPUT:</span>
<span class="comments">;	LONG - If this keyword is set and non-zero, then the result of NINT</span>
<span class="comments">;		is of type LONG.   Otherwise, the result is of type LONG if</span>
<span class="comments">;		any absolute values exceed 32767, and type INTEGER if all</span>
<span class="comments">;		all absolute values are less than 32767.</span>
<span class="comments">; EXAMPLE:</span>
<span class="comments">;	If X = [-0.9,-0.1,0.1,0.9] then NINT(X) = [-1,0,0,1]</span>
<span class="comments">;</span>
<span class="comments">; PROCEDURE CALL:</span>
<span class="comments">;	None:</span>
<span class="comments">; REVISION HISTORY:</span>
<span class="comments">;	Written W. Landsman        January 1989</span>
<span class="comments">;	Added LONG keyword         November 1991</span>
<span class="comments">;	Use ROUND if since V3.1.0  June 1993</span>
<span class="comments">;	Always start with ROUND function    April 1995</span>
<span class="comments">;	Return LONG values, if some input value exceed 32767</span>
<span class="comments">;		and accept string values   February 1998 </span>
<span class="comments">;       Use size(/TNAME) instead of DATATYPE()      October 2001</span>
<span class="comments">;-</span>
 xmax = max(x,min=xmin)
 xmax = abs(xmax) > abs(xmin)
 if (xmax gt 32767) or keyword_set(long) then begin
    if size(x,/TNAME) eq 'STRING' then b = round(float(x)) else b = round(x)
 end else begin
    if size(x,/TNAME) eq 'STRING' then b = fix(round(float(x))) else	$
	    b = fix(round(x))
 endelse

  return, b 
  end
</code>
    </div>
  </body>
</html>