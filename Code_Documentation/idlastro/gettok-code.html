<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Mon Sep 30 16:57:39 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>gettok.pro (Documentation for ./)</title>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="gettok.pro (Documentation for ./)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">
    <div class="content">
      <code class="source"><a id="gettok:source"></a>function gettok,st,char, exact=exact, notrim=notrim
<span class="comments">;+</span>
<span class="comments">; NAME:</span>
<span class="comments">;	GETTOK                                    </span>
<span class="comments">; PURPOSE:</span>
<span class="comments">;	Retrieve the first part of a (vector) string up to a specified character</span>
<span class="comments">; EXPLANATION:</span>
<span class="comments">;	GET TOKen - Retrieve first part of string until the character char </span>
<span class="comments">;	is encountered.   </span>
<span class="comments">;</span>
<span class="comments">; CALLING SEQUENCE:</span>
<span class="comments">;	token = gettok( st, char, [ /EXACT, /NOTRIM ] )</span>
<span class="comments">;</span>
<span class="comments">; INPUT:</span>
<span class="comments">;	char - character separating tokens, scalar string</span>
<span class="comments">;</span>
<span class="comments">; INPUT-OUTPUT:</span>
<span class="comments">;	st - string to get token from (on output token is removed unless</span>
<span class="comments">;            /NOTRIM is set), scalar or vector</span>
<span class="comments">;</span>
<span class="comments">; OUTPUT:</span>
<span class="comments">;	token - extracted string value is returned, same dimensions as st</span>
<span class="comments">; OPTIONAL INPUT KEYWORD:</span>
<span class="comments">;       /EXACT -  The default behaviour of GETTOK is to remove any leading </span>
<span class="comments">;              blanks and (if the token is a blank) convert tabs to blanks.    </span>
<span class="comments">;              Set the /EXACT keyword to skip these steps and leave the </span>
<span class="comments">;              input string unchanged before searching for the  character </span>
<span class="comments">;              tokens. </span>
<span class="comments">;</span>
<span class="comments">;      /NOTRIM - if set, then the input string is left unaltered </span>
<span class="comments">; EXAMPLE:</span>
<span class="comments">;	If ST is ['abc=999','x=3.4234'] then gettok(ST,'=') would return</span>
<span class="comments">;	['abc','x'] and ST would be left as ['999','3.4234'] </span>
<span class="comments">;</span>
<span class="comments">; PROCEDURE CALLS:</span>
<span class="comments">;       REPCHR()</span>
<span class="comments">; HISTORY</span>
<span class="comments">;	version 1  by D. Lindler APR,86</span>
<span class="comments">;	Remove leading blanks    W. Landsman (from JKF)    Aug. 1991</span>
<span class="comments">;       V5.3 version, accept vector input   W. Landsman February 2000</span>
<span class="comments">;       Slightly faster implementation  W. Landsman   February 2001</span>
<span class="comments">;       Added EXACT keyword  W. Landsman March 2004</span>
<span class="comments">;       Assume since V5.4, Use COMPLEMENT keyword to WHERE W. Landsman Apr 2006</span>
<span class="comments">;       Added NOTRIM keyword W. L. March 2011</span>
<span class="comments">;-</span>
<span class="comments">;----------------------------------------------------------------------</span>
  On_error,2                           <span class="comments">;Return to caller</span>
  compile_opt idl2

   if N_params() LT 2 then begin
       print,'Syntax - token = gettok( st, char, [ /EXACT, /NOTRIM] )'
       return,-1
   endif

<span class="comments">; if char is a blank treat tabs as blanks</span>

 if ~keyword_set(exact) then begin
    st = strtrim(st,1)              <span class="comments">;Remove leading blanks and tabs</span>
    if char EQ ' ' then begin 
       tab = string(9b)                 
       if max(strpos(st,tab)) GE 0 then st = repchr(st,tab,' ')
    endif
  endif
  token = st

<span class="comments">; find character in string</span>

  pos = strpos(st,char)
  test = pos EQ -1
  bad = where(test, Nbad, Complement = good, Ncomplement=Ngood)
  if Nbad GT 0 && ~keyword_set(notrim) then st[bad] = ''
 
<span class="comments">; extract token</span>
 if Ngood GT 0 then begin
    stg = st[good]
    pos = reform( pos[good], 1, Ngood )
    token[good] = strmid(stg,0,pos)
    if ~keyword_set(notrim) then st[good] = strmid(stg,pos+1)
 endif

<span class="comments">;  Return the result.</span>

 return,token
 end
</code>
    </div>
  </body>
</html>