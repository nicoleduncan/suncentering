<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Mon Sep 30 16:58:07 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>table_help.pro (Documentation for ./)</title>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="table_help.pro (Documentation for ./)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">
    <div class="content">
      <code class="source"><a id="table_help:source"></a>pro table_help,tcb,header
<span class="comments">;+</span>
<span class="comments">; NAME:</span>
<span class="comments">;	TABLE_HELP</span>
<span class="comments">; PURPOSE:</span>
<span class="comments">;	Procedure to decribe an SDAS table file.</span>
<span class="comments">;</span>
<span class="comments">; CALLING SEQUENCE:</span>
<span class="comments">;	table_help, tcb, header</span>
<span class="comments">;	table_help, name</span>
<span class="comments">;</span>
<span class="comments">; INPUTS:</span>
<span class="comments">;	tcb - table control block returned by TAB_READ or TAB_CREATE</span>
<span class="comments">;	name -	the table name</span>
<span class="comments">;</span>
<span class="comments">; OPTIONAL INPUTS:</span>
<span class="comments">;	header - header array returned by TAB_READ.  If supplied</span>
<span class="comments">;		it will be printed, otherwise it won't.</span>
<span class="comments">;</span>
<span class="comments">; SIDE EFFECTS:</span>
<span class="comments">;	text output as specified by !textout</span>
<span class="comments">;</span>
<span class="comments">; HISTORY:</span>
<span class="comments">;	version 1  D. Lindler  JAN 1988</span>
<span class="comments">;	Converted to IDL V5.0   W. Landsman   September 1997</span>
<span class="comments">;-</span>
<span class="comments">;----------------------------------------------------------------------</span>
s=size(tcb) & type=s[s[0]+1]
if type eq 7 then begin		<span class="comments">;file name supplied</span>
	tab_read,tcb,tcbx,tab,header
   end else begin		<span class="comments">;table control block supplied</span>
	tcbx=tcb
end
<span class="comments">;</span>
<span class="comments">; open output</span>
<span class="comments">;</span>
textopen,'TABLE_HELP'
<span class="comments">;</span>
<span class="comments">; print header info</span>
<span class="comments">;</span>
ncol=tcbx[5,0]
printf,!textunit,'	'+string(byte(tcbx[*,tcbx[6,0]+1],0,64))
printf,!textunit,'         nrows=',tcbx[3,0],'               ncols=',tcbx[5,0]
printf,!textunit,'       maxrows=',tcbx[4,0],'             maxcols=',tcbx[6,0]
printf,!textunit,'          npar=',tcbx[1,0],'          row length=',tcbx[7,0],' words'
printf,!textunit,'     max n_par=',tcbx[2,0],'      max row length=',tcbx[8,0],' words'
ttype='Row-ordered'
if tcbx[9,0] eq 12 then ttype='Column-ordered'
printf,!textunit,'    Table type=  ',ttype
printf,!textunit,' '
<span class="comments">;</span>
<span class="comments">; print column information</span>
<span class="comments">;</span>
if ncol gt 0 then begin
   printf,!textunit,$
      ' col. number    column_name            units     type    SPP format code'
   printf,!textunit,' '
   for i=1,ncol do begin
	desc=tcbx[*,i]		<span class="comments">;column description</span>
	name=nulltrim(string(byte(desc,16,20)))
	units=nulltrim(string(byte(desc,36,20)))
	form=nulltrim(string(byte(desc,56,8)))
	if desc[3] lt 0 then dtype = 2 else dtype = desc[3]
	case dtype of
		6: type='Real*4'
		7: type='Real*8'
		4: type='Integer*4'
		1: type='Boolean'
		2: type='String'
	endcase
	printf,!textunit,'$(i6,a20,a20,a10,a10)',i,name,units,type,form
   end
end
if n_elements(header) gt 0 then begin
	printf,!textunit,' '
	for i=0,n_elements(header)-1 do begin
		printf,!textunit,header[i]
		if strmid(header[i],0,3) eq 'END' then goto,at_the_end
	endfor
at_the_end:
endif
textclose
return
end
</code>
    </div>
  </body>
</html>