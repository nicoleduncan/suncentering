<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Mon Sep 30 16:58:05 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>tab_modcol.pro (Documentation for ./)</title>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="tab_modcol.pro (Documentation for ./)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">
    <div class="content">
      <code class="source"><a id="tab_modcol:source"></a>pro tab_modcol,tcb,column,units,format,newname
<span class="comments">;+</span>
<span class="comments">; NAME:</span>
<span class="comments">;	TAB_MODCOL</span>
<span class="comments">; PURPOSE:</span>
<span class="comments">;	Modify column description in a STSDAS table</span>
<span class="comments">;</span>
<span class="comments">; CALLING SEQUENCE:</span>
<span class="comments">;	tab_modcol, tcb, column, units, format, newname</span>
<span class="comments">;</span>
<span class="comments">; INPUTS:</span>
<span class="comments">;	tcb - table control block</span>
<span class="comments">;	column - column name or number to be modified</span>
<span class="comments">;</span>
<span class="comments">; OPTIONAL INPUTS:</span>
<span class="comments">;	units - string giving physical units for the column.</span>
<span class="comments">;		If not supplied or set to the null string</span>
<span class="comments">;		the units are not changed.</span>
<span class="comments">;	format - print format (either fortran or SPP format)</span>
<span class="comments">;		An spp format should be preceeded by a '%'.</span>
<span class="comments">;		If not supplied or set to a null string, the</span>
<span class="comments">;		print format for the column is not changed.</span>
<span class="comments">;	newname - new name for the column.  If not supplied</span>
<span class="comments">;		or set to a null string, the name is not</span>
<span class="comments">;		changed</span>
<span class="comments">; EXAMPLES:</span>
<span class="comments">;</span>
<span class="comments">;	change the wavelength column to WAVE with a new format</span>
<span class="comments">;	of 'F10.3' and columns units of ANGSTROMS.</span>
<span class="comments">;</span>
<span class="comments">;	   tab_modcol,tcb,'wavelength','ANGSTROMS','F10.3','WAVE'</span>
<span class="comments">;</span>
<span class="comments">;	Change to print format of column 3 to spp format</span>
<span class="comments">;	20.10e</span>
<span class="comments">;	   tab_modcol,tcb,3,'','%20.10e'</span>
<span class="comments">; HISTORY:</span>
<span class="comments">;	version 1  D. Lindler   Apr 1989</span>
<span class="comments">;	Converted to IDL V5.0   W. Landsman   September 1997</span>
<span class="comments">;-</span>
<span class="comments">;-----------------------------------------------------------------------------</span>
<span class="comments">;</span>
<span class="comments">; set defaults for missing parameters</span>
<span class="comments">;</span>
	if n_params(0) lt 3 then units=''
	if n_params(0) lt 4 then format=''
	if n_params(0) lt 5 then newname=''
<span class="comments">;</span>
<span class="comments">; check that the column exists and get its number</span>
<span class="comments">;</span>
	tab_col,tcb,column
	colnum=!err
	if colnum lt 1 then begin
		print,'TAB_MODCOL-- column '+strtrim(column)+' does not exist'
		retall
	endif
<span class="comments">;</span>
<span class="comments">; update name</span>
<span class="comments">;</span>
	col_desc=byte(tcb[*,colnum],0,64)
	if strtrim(newname) ne '' then begin
		name=bytarr(19)
		name[0]=byte(strtrim(newname))
		col_desc[16]=name
	endif
<span class="comments">;</span>
<span class="comments">; update column units</span>
<span class="comments">;</span>
	if units ne '' then begin
		u=bytarr(19)
		u[0]=byte(units)
		col_desc[36]=u
	endif
<span class="comments">;</span>
<span class="comments">; update print format</span>
<span class="comments">;</span>
	if strtrim(format) ne '' then begin
		if strmid(format,0,1) eq '%' then $	<span class="comments">;spp format?</span>
			sppformat=strmid(format,1,strlen(format)-1) $
			else tab_fortospp,format,sppformat
		f = bytarr(8)
		f[0]=byte(sppformat)
		col_desc[56]=f
	endif
<span class="comments">;</span>
<span class="comments">; place new column description into the table control block</span>
<span class="comments">;</span>
	tcb[0,colnum]=long(col_desc,0,16)
return
end	
</code>
    </div>
  </body>
</html>