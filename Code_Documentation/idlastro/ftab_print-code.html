<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Mon Sep 30 16:57:32 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>ftab_print.pro (Documentation for ./)</title>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="ftab_print.pro (Documentation for ./)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">
    <div class="content">
      <code class="source"><a id="ftab_print:source"></a>pro ftab_print,filename,columns,rows, TEXTOUT = textout, FMT = fmt, $
        EXTEN_NO = exten_no, num_header_lines=num_header_lines, $
	nval_per_line=nval_per_line
<span class="comments">;+</span>
<span class="comments">; NAME:</span>
<span class="comments">;       FTAB_PRINT</span>
<span class="comments">; PURPOSE:</span>
<span class="comments">;       Print the contents of a FITS (binary or ASCII) table extension.</span>
<span class="comments">; EXPLANATION:</span>
<span class="comments">;       User can specify which rows or columns to print</span>
<span class="comments">;</span>
<span class="comments">; CALLING SEQUENCE:</span>
<span class="comments">;       FTAB_PRINT, filename, columns, rows, </span>
<span class="comments">;                   [ TEXTOUT=, FMT=, EXTEN_NO= NUM_HEADER_LINES ]</span>
<span class="comments">;</span>
<span class="comments">; INPUTS:</span>
<span class="comments">;       filename - scalar string giving name of a FITS file containing a </span>
<span class="comments">;               binary or ASCII table</span>
<span class="comments">;       columns - string giving column names, or vector giving</span>
<span class="comments">;               column numbers (beginning with 1).  If a string </span>
<span class="comments">;               supplied then column names should be separated by comma's.</span>
<span class="comments">;               if not supplied, then all columns are printed.</span>
<span class="comments">;               If set to '*' then all columns are printed in table format </span>
<span class="comments">;               (1 row per line, binary tables only).</span>
<span class="comments">;       rows - (optional) vector of row numbers to print (beginning with 0).  </span>
<span class="comments">;               If not supplied or set to scalar, -1, then all rows</span>
<span class="comments">;               are printed.</span>
<span class="comments">; OPTIONAL KEYWORD INPUT:</span>
<span class="comments">;       EXTEN_NO - Extension number to read.   If not set, then the first </span>
<span class="comments">;               extension is printed (EXTEN_NO=1)</span>
<span class="comments">;       FMT = Format string for print display (binary tables only).   If not</span>
<span class="comments">;               supplied, then any formats in the TDISP keyword fields will be</span>
<span class="comments">;               used, otherwise IDL default formats.    For ASCII tables, the</span>
<span class="comments">;               format used is always as stored in the FITS table.</span>
<span class="comments">;       NUM_HEADER_LINES - Number of lines to display the column headers (default</span>
<span class="comments">;               = 1).  By setting NUM_HEADER_LINES to an integer larger than 1,</span>
<span class="comments">;               one can avoid truncation of the headers.   In addition, setting </span>
<span class="comments">;               NUM_HEADER_LINES will display commented lines indicating</span>
<span class="comments">;               a FORMAT for reading the data, and a suggested call to </span>
<span class="comments">;              readfmt.pro.    Works for binary tables only</span>
<span class="comments">;       NVAL_PER_LINE - The maximum number of values displayed from a </span>
<span class="comments">;               multivalued column when printing in table format.   Default = 6</span>
<span class="comments">;       TEXTOUT - scalar number (0-7) or string (file name) determining</span>
<span class="comments">;               output device (see TEXTOPEN).  Default is TEXTOUT=1, output </span>
<span class="comments">;               to the user's terminal    </span>
<span class="comments">; EXAMPLE:</span>
<span class="comments">;       (1) Print all rows of the first 5 columns of the first extension of the</span>
<span class="comments">;       file 'wfpc.fits'</span>
<span class="comments">;               IDL> ftab_print,'vizier.fits',indgen(5)+1</span>
<span class="comments">; </span>
<span class="comments">;       (2) Print all columns of the first row to a file 'vizier.dat' in </span>
<span class="comments">;       'table' format</span>
<span class="comments">;               IDL> ftab_print,'vizier.fits',t='vizier.dat','*',0     </span>
<span class="comments">; SYSTEM VARIABLES:</span>
<span class="comments">;       Uses the non-standard system variables !TEXTOUT and !TEXTUNIT</span>
<span class="comments">;       which must be defined (e.g. with ASTROLIB) prior to compilation.</span>
<span class="comments">; PROCEDURES USED:</span>
<span class="comments">;       FITS_CLOSE, FITS_OPEN, FITS_READ, FTPRINT, TBPRINT</span>
<span class="comments">; HISTORY:</span>
<span class="comments">;       version 1  W. Landsman    August 1997</span>
<span class="comments">;       Check whether data exists   W. Landsman    Feb 2007</span>
<span class="comments">;       Check whether extension exists  W. Landsman  Mar 2010</span>
<span class="comments">;       Added NUM_HEADER_LINES, NVAL_PER_LINE keywords for binary tables </span>
<span class="comments">;                  W. Landsman Apr 2010</span>
<span class="comments">;-</span>
<span class="comments">;----------------------------------------------------------------------</span>
 On_error,2
 compile_opt idl2
 if N_params() LT 1 then begin
        print,'Syntax - ftab_print, filename, columns, rows,' 
        print,'              [EXTEN_NO=, FMT= , TEXTOUT=  ]'
        return
 endif

 if not keyword_set(exten_no) then exten_no = 1

 fits_open,filename,fcb
 if fcb.nextend LT exten_no then begin
     message,/CON, $
       'ERROR - Extension ' + strtrim(exten_no,2) + ' not present in FITS file'
     return
 endif      
 
 if fcb.axis[1,exten_no] EQ 0 then begin
     message,/CON, $
      'ERROR - Extension ' + strtrim(exten_no,2) + ' contains no data'
     return
 endif    
 fits_read,fcb,tab,htab,exten_no=exten_no
 fits_close,fcb

 ext_type = fcb.xtension[exten_no]

 case ext_type of
 'A3DTABLE': binary = 1b
 'BINTABLE': binary = 1b
 'TABLE': binary = 0b
 else: message,'ERROR - Extension type of ' + $
                ext_type + ' is not a FITS table format'
 endcase

 if binary then tbprint,htab,tab,columns,rows, TEXTOUT = textout,fmt=fmt, $
                   num_header_lines=num_header_lines,  $
		   nval_per_line=nval_per_line         $
           else ftprint,htab,tab,columns,rows, TEXTOUT = textout
 return
 end
</code>
    </div>
  </body>
</html>