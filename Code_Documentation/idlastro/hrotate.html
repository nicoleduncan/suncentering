<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Mon Sep 30 16:57:42 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>hrotate.pro (Documentation for ./)</title>

    

    <script type="text/javascript" src="../idldoc-resources/js/jquery.js"></script>
    <script type="text/javascript" src="../idldoc-resources/js/copybutton.js"></script>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="hrotate.pro (Documentation for ./)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">

    <div class="header">
      <h1>Documentation for ./</h1>
      <h2>Generated by IDLdoc</h2>
    </div>
    
    
    <table class="navbar smaller" summary="Navigation header" cellspacing="0">
      <tr>
        <td >
          <a href="../overview.html">Overview</a>
        </td>
    
        <td >
          Directory
        </td>
    
        <td class="selected">File</td>
    
        
        <td >
          <a href="hrotate-code.html" title="Chromocoded source">Source</a> <a href="hrotate.pro" title=".pro file"><img src="../idldoc-resources/attach.png" alt="[attach.png]" align="top"/></a>
        </td>
        
    
        <td >Etc</td>
    
        <td >
        	<a href="../categories.html">Categories</a>
        </td>
    
        <td >
        	<a href="../search.html">Search</a>
        </td>
    
        
        <td >
          <a href="../idldoc-index.html">Index</a>
        </td>
        
    
        
    
        <td >
          <a href="../idldoc-help.html">Help</a>
        </td>
    
        <td class="flexible">
          User documentation
        </td>
      </tr>
    </table>
    
    
    
    <p class="localnavbar smallest"><a href="" target="_top">single page</a> | <a href="../index.html" target="_top">use frames</a> &nbsp;&nbsp;&nbsp; summary &nbsp;&nbsp;&nbsp; class &nbsp;&nbsp;&nbsp; fields &nbsp;&nbsp;&nbsp; <a href="#routine-details">routine details</a> &nbsp;&nbsp;&nbsp; <a href="#attributes">file attributes</a></p>
    
    
    
    
    
    
    
    
    

    <div class="content">
      <h2 class="directory">idlastro/</h2>
      <h1 class="basename">hrotate.pro<span class="file-attributes"></span></h1>
      

      
      
      
      <br/>

      

      

      

      

      

      


      
      <div id="routine-details">
        

        
        <div class="routine-details details" id="hrotate">
          <h2 class="routine-name"><a href="#root" class="top">top</a> <a href="hrotate-code.html#hrotate:source" class="top">source</a> hrotate<span class="routine-attributes"></span></h2>

          

          <p class="syntax"><code>hrotate<span class="argument">, <a href="#hrotate:p:oldim">oldim</a></span><span class="argument">, <a href="#hrotate:p:oldhd">oldhd</a></span><span class="argument">, <a href="#hrotate:p:newim">newim</a></span><span class="argument">, <a href="#hrotate:p:newhd">newhd</a></span><span class="argument">, <a href="#hrotate:p:direction">direction</a></span><span class="argument">, <a href="#hrotate:k:ERRMSG">ERRMSG</a>=<span class="var">ERRMSG</span></span></code></p>

          
          <div class="small "><p> NAME:
     HROTATE
 PURPOSE:
     Apply the IDL ROTATE function and update astrometry in a FITS header
 EXPLANATION:
     Apply the intrinsic IDL ROTATE function to an image and update
     astrometry in the associated FITS header.
</p>

<p> CALLING SEQUENCE:
     HROTATE, oldim, oldhd, newim, newhd, direction
               or
     HROTATE, oldim, oldhd, direction
</p>

<p> INPUTS:
     OLDIM - the original image array
     OLDHD - the original FITS image header, string array
     DIRECTION - Scalar integer (0-7) specifying rotation direction,
               exactly as specified by the IDL ROTATE function.
</p>

<h2>        Direction  Transpose?  Rot. CCW  X1  Y1</h2>

<p>       0          No          None     X0  Y0    (no change)
       1          No          90      -Y0  X0
       2          No          180     -X0 -Y0
       3          No          270      Y0 -X0
       4          Yes         None     Y0  X0
       5          Yes         90      -X0  Y0
       6          Yes         180     -Y0 -X0
       7          Yes         270      X0 -Y0
</p>

<p> OPTIONAL OUTPUTS:
     NEWIM - the rotated image, with the same dimensions as Oldim
     NEWHD - header for newim containing updated astrometry info
               If output parameters are not supplied, the program
               will modify the input parameters OLDIM and OLDHD
               to contain the rotated image and updated header.
</p>

<p> OPTIONAL KEYWORD OUTPUT:
     ERRMSG - If this keyword is supplied, then any error mesasges will be
               returned to the user in this parameter rather than depending on
               on the MESSAGE routine in IDL.   If no errors are encountered
               then a null string is returned.
 EXAMPLE:
     Rotate an image exactly 90 degrees counterclockwise and update the
     FITS image array and header.
</p>

<p>       IDL&gt;  HROT, im, h, im_new, h_new, 1
</p>

<p> PROCEDURE:
      The image array is rotated using the ROTATE function.
      The CD (or CROTA) and CRPIX parameters, if present in the FITS header,
      are updated for the new rotation.
      History records are also added to the header
</p>

<p> RESTRICTIONS:
     Does not work Guide Star Survey (GSS) astrometry.    Use GSSS_STDAST to
     first convert
 PROCEDURES USED:
     CHECK_FITS(), SXADDPAR, EXTAST
</p>

<p> MODIFICATION HISTORY:
     Written,  Mar 1997    W. Landsman,  Hughes STX
     Work for non-square images   W. Landsman   June 1998 Raytheon STX
     Fix for different plate scales, and CROTA2 defined, November 1998
     Added ERRMSG, Use double precision formatting, W. Landsman April 2000
     Consistent conversion between CROTA and CD matrix W. Landsman Oct 2000
     Correct update when CROTA keyword present W. Landsman  June 2003
     Update CDELT for AIPS-style astrometry headers M. Perrin/WL Jul 2003
     Convert GSS astrometry to WCS W. Landsman  November 2004
     Work even if no astrometry present, just update NAXIS* WL June 2011
</p>

</div>
          

          

          
          <h3>Parameters</h3>
            <dl>
              
              <dt id="hrotate:p:oldim">oldim <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="hrotate:p:oldhd">oldhd <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="hrotate:p:newim">newim <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="hrotate:p:newhd">newhd <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="hrotate:p:direction">direction <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
            </dl>
          

          
          <h3>Keywords</h3>
            <dl>
              
              <dt id="hrotate:k:ERRMSG">ERRMSG <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
            </dl>
          

          

          

          

          

        </div>
        

      </div>
      

      <div id="attributes">
        <h2>File attributes</h2>

        <table class="attribute small" summary="File attributes">
          <tr>
            <td class="name">Modification date:</td>
            <td>Tue Oct 23 10:15:49 2012</td>
          </tr>

          <tr>
            <td class="name">Lines:</td>
            <td>214</td>
          </tr>

          
        </table>
      </div>

      
    </div>

    <div class="footer">
    
      <table class="smaller" summary="footer">
        <tr>
          <td class="left">Produced by IDLdoc 3.5.1 on Mon Sep 30 16:57:42 2013</td>
          <td class="right"><a target="_top" href="http://idldoc.idldev.com">IDLdoc project information</a></td>
        </tr>
      </table>
    
    </div>
  </body>
</html>