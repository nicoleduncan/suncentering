<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Mon Sep 30 16:57:21 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>co_refract.pro (Documentation for ./)</title>

    

    <script type="text/javascript" src="../idldoc-resources/js/jquery.js"></script>
    <script type="text/javascript" src="../idldoc-resources/js/copybutton.js"></script>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="co_refract.pro (Documentation for ./)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">

    <div class="header">
      <h1>Documentation for ./</h1>
      <h2>Generated by IDLdoc</h2>
    </div>
    
    
    <table class="navbar smaller" summary="Navigation header" cellspacing="0">
      <tr>
        <td >
          <a href="../overview.html">Overview</a>
        </td>
    
        <td >
          Directory
        </td>
    
        <td class="selected">File</td>
    
        
        <td >
          <a href="co_refract-code.html" title="Chromocoded source">Source</a> <a href="co_refract.pro" title=".pro file"><img src="../idldoc-resources/attach.png" alt="[attach.png]" align="top"/></a>
        </td>
        
    
        <td >Etc</td>
    
        <td >
        	<a href="../categories.html">Categories</a>
        </td>
    
        <td >
        	<a href="../search.html">Search</a>
        </td>
    
        
        <td >
          <a href="../idldoc-index.html">Index</a>
        </td>
        
    
        
    
        <td >
          <a href="../idldoc-help.html">Help</a>
        </td>
    
        <td class="flexible">
          User documentation
        </td>
      </tr>
    </table>
    
    
    
    <p class="localnavbar smallest"><a href="" target="_top">single page</a> | <a href="../index.html" target="_top">use frames</a> &nbsp;&nbsp;&nbsp; summary &nbsp;&nbsp;&nbsp; class &nbsp;&nbsp;&nbsp; fields &nbsp;&nbsp;&nbsp; <a href="#routine-details">routine details</a> &nbsp;&nbsp;&nbsp; <a href="#attributes">file attributes</a></p>
    
    
    
    
    
    
    
    
    

    <div class="content">
      <h2 class="directory">idlastro/</h2>
      <h1 class="basename">co_refract.pro<span class="file-attributes"></span></h1>
      

      
      
      
      <br/>

      

      

      

      

      

      
      <div>
        <h2>Routines</h2>

        <dl class="routine-summary">
          
            <dt class="syntax"><a href="#co_refract_forward"><code><span class="var">result</span> = co_refract_forward(<span class="argument">a</span><span class="argument">, P=<span class="var">P</span></span><span class="argument">, T=<span class="var">T</span></span>)</code></a></dt>
            <dd class="small"><p> NAME:   CO_REFRACT()</p>

</dd>
          
            <dt class="syntax"><a href="#co_refract"><code><span class="var">result</span> = co_refract(<span class="argument">a</span><span class="argument">, altitude=<span class="var">altitude</span></span><span class="argument">, pressure=<span class="var">pressure</span></span><span class="argument">, temperature=<span class="var">temperature</span></span><span class="argument">, To_observed=<span class="var">To_observed</span></span><span class="argument">, epsilon=<span class="var">epsilon</span></span>)</code></a></dt>
            <dd class="small"></dd>
          
        </dl>
      </div>
      


      
      <div id="routine-details">
        <h2>Routine details</h2>

        
        <div class="routine-details details" id="co_refract_forward">
          <h2 class="routine-name"><a href="#root" class="top">top</a> <a href="co_refract-code.html#co_refract_forward:source" class="top">source</a> co_refract_forward<span class="routine-attributes"></span></h2>

          

          <p class="syntax"><code><span class="var">result</span> = co_refract_forward(<span class="argument"><a href="#co_refract_forward:p:a">a</a></span><span class="argument">, <a href="#co_refract_forward:k:P">P</a>=<span class="var">P</span></span><span class="argument">, <a href="#co_refract_forward:k:T">T</a>=<span class="var">T</span></span>)</code></p>

          
          <div class="small "><p> NAME:
   CO_REFRACT()
</p>

<p> PURPOSE:
   Calculate correction to altitude due to atmospheric refraction.
</p>

<p> DESCRIPTION:
   CO_REFRACT can calculate both apparent altitude from observed altitude and
   vice-versa.
</p>

<p> CALLING SEQUENCE:
   new_alt  = CO_REFRACT(old_alt, [ ALTITUDE= , PRESSURE= , $
                                  TEMPERATURE= , /TO_OBSERVED , EPSILON= ])
</p>

<p> INPUT:
   old_alt - Observed (apparent) altitude, in DEGREES.  (apparent if keyword
             /TO_OBSERVED set).    May be scalar or vector.
</p>

<p> OUTPUT:
     Function returns apparent (observed) altitude, in DEGREES. (observed if
         keyword /TO_OBSERVED set).    Will be of same type as input
         altitude(s).
</p>

<p> OPTIONAL KEYWORD INPUTS:
      ALTITUDE :  The height of the observing location, in meters.  This is
             only used to determine an approximate temperature and pressure,
             if these are not specified separately. [default=0, i.e. sea level]
      PRESSURE :  The pressure at the observing location, in millibars.
      TEMPERATURE:    The temperature at the observing location, in Kelvin.
      EPSILON:  When keyword /TO_OBSERVED has been set, this is the accuracy
               to  obtain via the iteration, in arcseconds [default = 0.25
                arcseconds].
      /TO_OBSERVED:  Set this keyword to go from Apparent-&gt;Observed altitude,
                 using the iterative technique.
</p>

<p>       Note, if altitude is set, but temperature or pressure are not, the
       program will make an intelligent guess for the temperature and pressure.
</p>

<p> DESCRIPTION:
</p>

<p>   Because the index of refraction of air is not precisely 1.0, the atmosphere
   bends all incoming light, making a star or other celestial object appear at
   a slightly different altitude (or elevation) than it really is.  It is
   important to understand the following definitions:
</p>

<p>   Observed Altitude:  The altitude that a star is SEEN to BE, with a telescope.
                       This is where it appears in the sky.  This is always
                       GREATER than the apparent altitude.
</p>

<p>   Apparent Altitude:  The altitude that a star would be at, if *there were no
                     atmosphere* (sometimes called "true" altitude). This is
                     usually calculated from an object's celestial coordinates.
                     Apparent altitude is always LOWER than the observed
                     altitude.
</p>

<p>   Thus, for example, the Sun's apparent altitude when you see it right on the
   horizon is actually -34 arcminutes.
</p>

<p>   This program uses couple simple formulae to estimate the effect for most
   optical and radio wavelengths.  Typically, you know your observed altitude
   (from an observation), and want the apparent altitude.  To go the other way,
   this program uses an iterative approach.
</p>

<p> EXAMPLE:
    The lower limb of the Sun is observed to have altitude of 0d 30'.
    Calculate the the true (=apparent) altitude of the Sun's lower limb using
    mean  conditions of air pressure and temperature
</p>

<p>    IDL&gt; print, co_refract(0.5)     ===&gt;  0.025degrees (1.55')
 WAVELENGTH DEPENDENCE:
    This correction is 0 at zenith, about 1 arcminute at 45 degrees, and 34
    arcminutes at the horizon FOR OPTICAL WAVELENGTHS.  The correction is
    NON-NEGLIGIBLE at all wavelengths, but is not very easily calculable.
    These formulae assume a wavelength of 550 nm, and will be accurate to
    about 4 arcseconds for all visible wavelengths, for elevations of 10
    degrees and higher.    Amazingly, they are also ACCURATE FOR RADIO
    FREQUENCIES LESS THAN ~ 100 GHz.
</p>

<p>    It is important to understand that these formulae really can't do better
    than about 30 arcseconds of accuracy very close to the horizon, as
    variable atmospheric effects become very important.
</p>

<p> REFERENCES:
    1.  Meeus, Astronomical Algorithms, Chapter 15.
    2.  Explanatory Supplement to the Astronomical Almanac, 1992.
    3.  Methods of Experimental Physics, Vol 12 Part B, Astrophysics,
        Radio Telescopes, Chapter 2.5, "Refraction Effects in the Neutral
        Atmosphere", by R.K. Crane.
</p>

<p> DEPENDENCIES:
    CO_REFRACT_FORWARD (contained in this file and automatically compiled).
</p>

<p> AUTHOR:
   Chris O'Dell
       Univ. of Wisconsin-Madison
   Observational Cosmology Laboratory
   Email: odell@cmb.physics.wisc.edu
</p>

<p> REVISION HISTORY:
    version 1 (May 31, 2002)
    Update iteration formula,   W. Landsman    June 2002
    Corrected slight bug associated with scalar vs. vector temperature and
               pressure inputs. 6/10/2002
    Fixed problem with vector input when /TO_OBSERVED set W. Landsman Dec 2005
    Allow arrays with more than 32767 elements W.Landsman/C.Dickinson Feb 2010
</p>

</div>
          

          

          
          <h3>Parameters</h3>
            <dl>
              
              <dt id="co_refract_forward:p:a">a <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
            </dl>
          

          
          <h3>Keywords</h3>
            <dl>
              
              <dt id="co_refract_forward:k:P">P <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="co_refract_forward:k:T">T <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
            </dl>
          

          

          

          

          

        </div>
        
        <div class="routine-details details" id="co_refract">
          <h2 class="routine-name"><a href="#root" class="top">top</a> <a href="co_refract-code.html#co_refract:source" class="top">source</a> co_refract<span class="routine-attributes"></span></h2>

          

          <p class="syntax"><code><span class="var">result</span> = co_refract(<span class="argument"><a href="#co_refract:p:a">a</a></span><span class="argument">, <a href="#co_refract:k:altitude">altitude</a>=<span class="var">altitude</span></span><span class="argument">, <a href="#co_refract:k:pressure">pressure</a>=<span class="var">pressure</span></span><span class="argument">, <a href="#co_refract:k:temperature">temperature</a>=<span class="var">temperature</span></span><span class="argument">, <a href="#co_refract:k:To_observed">To_observed</a>=<span class="var">To_observed</span></span><span class="argument">, <a href="#co_refract:k:epsilon">epsilon</a>=<span class="var">epsilon</span></span>)</code></p>

          

          

          
          <h3>Parameters</h3>
            <dl>
              
              <dt id="co_refract:p:a">a <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
            </dl>
          

          
          <h3>Keywords</h3>
            <dl>
              
              <dt id="co_refract:k:altitude">altitude <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="co_refract:k:pressure">pressure <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="co_refract:k:temperature">temperature <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="co_refract:k:To_observed">To_observed <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="co_refract:k:epsilon">epsilon <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
            </dl>
          

          

          

          

          

        </div>
        

      </div>
      

      <div id="attributes">
        <h2>File attributes</h2>

        <table class="attribute small" summary="File attributes">
          <tr>
            <td class="name">Modification date:</td>
            <td>Tue Oct 23 10:15:49 2012</td>
          </tr>

          <tr>
            <td class="name">Lines:</td>
            <td>186</td>
          </tr>

          
        </table>
      </div>

      
    </div>

    <div class="footer">
    
      <table class="smaller" summary="footer">
        <tr>
          <td class="left">Produced by IDLdoc 3.5.1 on Mon Sep 30 16:57:21 2013</td>
          <td class="right"><a target="_top" href="http://idldoc.idldev.com">IDLdoc project information</a></td>
        </tr>
      </table>
    
    </div>
  </body>
</html>