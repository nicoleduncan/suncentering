<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Mon Sep 30 16:57:46 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>list_with_path.pro (Documentation for ./)</title>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="list_with_path.pro (Documentation for ./)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">
    <div class="content">
      <code class="source">	FUNCTION LIST_WITH_PATH, FILENAME, PATHS, NOCURRENT=NOCURRENT, $
		COUNT = COUNT
<span class="comments">;+</span>
<span class="comments">; NAME: </span>
<span class="comments">;	LIST_WITH_PATH</span>
<span class="comments">; PURPOSE: </span>
<span class="comments">;	Search for files in a specified directory path.</span>
<span class="comments">; EXPLANATION:</span>
<span class="comments">;	Lists files in a set of default paths, similar to using FILE_SEARCH,</span>
<span class="comments">;	except that a list of paths to be searched can be given.</span>
<span class="comments">;</span>
<span class="comments">; CALLING SEQUENCE: </span>
<span class="comments">;	Result = LIST_WITH_PATH( FILENAME, PATHS )</span>
<span class="comments">;</span>
<span class="comments">; INPUTS: </span>
<span class="comments">;	FILENAME   = Name of file to be searched for.  It may contain wildcard</span>
<span class="comments">;		     characters, e.g. "*.dat".</span>
<span class="comments">;</span>
<span class="comments">;	PATHS	   = One or more default paths to use in the search in case</span>
<span class="comments">;		     FILENAME does not contain a path itself.  The individual</span>
<span class="comments">;		     paths are separated by commas, although in UNIX, colons</span>
<span class="comments">;		     can also be used.  In other words, PATHS has the same</span>
<span class="comments">;		     format as !PATH, except that commas can be used as a</span>
<span class="comments">;		     separator regardless of operating system.  The current</span>
<span class="comments">;		     directory is always searched first, unless the keyword</span>
<span class="comments">;		     NOCURRENT is set.</span>
<span class="comments">;</span>
<span class="comments">;		     A leading $ can be used in any path to signal that what</span>
<span class="comments">;		     follows is an environmental variable, but the $ is not</span>
<span class="comments">;		     necessary.    Environmental variables can themselves </span>
<span class="comments">;                    contain multiple paths.</span>
<span class="comments">;</span>
<span class="comments">; OUTPUTS: </span>
<span class="comments">;	The result of the function is a list of filenames.</span>
<span class="comments">; EXAMPLE:</span>
<span class="comments">;	FILENAME = ''</span>
<span class="comments">;	READ, 'File to open: ', FILENAME</span>
<span class="comments">;	FILE = LIST_WITH_PATH( FILENAME, 'SERTS_DATA', '.fix' )</span>
<span class="comments">;	IF FILE NE '' THEN ...</span>
<span class="comments">; PROCEDURE CALLS: </span>
<span class="comments">;	BREAK_PATH, CONCAT_DIR()</span>
<span class="comments">; Category    : </span>
<span class="comments">;	Utilities, Operating_system</span>
<span class="comments">; REVISION HISTORY:</span>
<span class="comments">;	Version 1, William Thompson, GSFC, 3 November 1994</span>
<span class="comments">;	Documentation modified Wayne Landsman HSTX  November 1994</span>
<span class="comments">;	Assume since V5.5, vector call to FILE_SEARCH()  W. Landsman Sep 2006</span>
<span class="comments">;       Restore pre-Sep 2006 behavior of not searching subdirectories </span>
<span class="comments">;                      W.Landsman. Feb 2007</span>
<span class="comments">;-</span>
<span class="comments">;</span>
        COMPILE_OPT IDL2
	ON_ERROR, 2
<span class="comments">;</span>
<span class="comments">;  Check the number of parameters:</span>
<span class="comments">;</span>
	IF N_PARAMS() NE 2 THEN MESSAGE, 'Syntax:  Result = ' + $
		'LIST_WITH_PATH(FILENAME, PATHS)'

       PATH = BREAK_PATH(PATHS)
<span class="comments">;</span>
<span class="comments">;  If NOCURRENT was set, then remove the first (blank) entry from the PATH</span>
<span class="comments">;  array.</span>
<span class="comments">;</span>
	IF KEYWORD_SET(NOCURRENT) THEN PATH = PATH[1:*]

	FILES = FILE_SEARCH( CONCAT_DIR(PATH, FILENAME), COUNT=COUNT) 
<span class="comments">;</span>
	RETURN, FILES
	END
</code>
    </div>
  </body>
</html>