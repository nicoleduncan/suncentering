<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Mon Sep 30 16:57:42 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>host_to_ieee.pro (Documentation for ./)</title>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="host_to_ieee.pro (Documentation for ./)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">
    <div class="content">
      <code class="source"><a id="host_to_ieee:source"></a>pro host_to_ieee, data, IDLTYPE = idltype
<span class="comments">;+</span>
<span class="comments">; NAME:</span>
<span class="comments">;     HOST_TO_IEEE</span>
<span class="comments">; PURPOSE:</span>
<span class="comments">;     Translate an IDL variable from host to IEEE representation </span>
<span class="comments">; EXPLANATION:</span>
<span class="comments">;     The variable is converted from the format used by the host architecture</span>
<span class="comments">;     into IEEE-754 representation ("big endian" as used, e.g., in FITS data ).</span>
<span class="comments">;</span>
<span class="comments">;     Duplicates most of the functionality of the SWAP_ENDIAN_INPLACE procedure</span>
<span class="comments">;     with the addition of the IDLTYPE keyword.</span>
<span class="comments">; CALLING SEQUENCE:</span>
<span class="comments">;     HOST_TO_IEEE, data, [ IDLTYPE = ]</span>
<span class="comments">;</span>
<span class="comments">; INPUT-OUTPUT PARAMETERS:</span>
<span class="comments">;     data - any IDL variable, scalar or vector.   It will be modified by</span>
<span class="comments">;             HOST_TO_IEEE to convert from host to IEEE representation.  Byte </span>
<span class="comments">;             and string variables are returned by HOST_TO_IEEE unchanged</span>
<span class="comments">;</span>
<span class="comments">; OPTIONAL KEYWORD INPUTS:</span>
<span class="comments">;     IDLTYPE - scalar integer (1-15) specifying the IDL datatype according</span>
<span class="comments">;               to the code given by the SIZE function.      This keyword</span>
<span class="comments">;               will usually be used when supplying a byte array that needs</span>
<span class="comments">;               to be interpreted as another data type (e.g. FLOAT).</span>
<span class="comments">;</span>
<span class="comments">; EXAMPLE:</span>
<span class="comments">;     Suppose FITARR is a 2880 element byte array to be converted to a FITS</span>
<span class="comments">;     record and interpreted a FLOAT data.</span>
<span class="comments">;</span>
<span class="comments">;       IDL> host_to_ieee, FITARR, IDLTYPE = 4</span>
<span class="comments">;</span>
<span class="comments">; METHOD:</span>
<span class="comments">;     The BYTEORDER procedure is called with the appropriate keywords</span>
<span class="comments">;</span>
<span class="comments">; MODIFICATION HISTORY:</span>
<span class="comments">;      Adapted from CONV_UNIX_VAX, W. Landsman   Hughes/STX    January, 1992</span>
<span class="comments">;      Version for IDL V5.0  August 1997</span>
<span class="comments">;      Converted to IDL V5.0   W. Landsman   September 1997</span>
<span class="comments">;      Added new integer datatypes  C. Markwardt/W. Landsman  July 2000</span>
<span class="comments">;      Use /SWAP_IF_LITTLE_ENDIAN keyword for 64bit types W. Landsman Feb 2003</span>
<span class="comments">;      Do not use XDR keywords to BYTEORDER for much improved speed</span>
<span class="comments">;                               W. Landsman   April 2006</span>
<span class="comments">;-</span>
 On_error,2 

 if N_params() EQ 0 then begin
    print,'Syntax - HOST_TO_IEEE, data, [IDLTYPE = ]'
    return
 endif  

 npts = N_elements( data )
 if npts EQ 0 then $
     message,'ERROR - IDL data variable (first parameter) not defined'

 if not keyword_set( idltype) then idltype = size(data,/type)

 case idltype of

      1: return                             <span class="comments">;byte</span>

      2: byteorder, data, /SSWAP,/SWAP_IF_LITTLE            <span class="comments">;integer</span>

      3: byteorder, data, /LSWAP,/SWAP_IF_LITTLE            <span class="comments">;long</span>

      4: byteorder, data, /LSWAP, /SWAP_IF_LITTLE           <span class="comments">;float</span>

      5: byteorder,data,/L64SWAP, /SWAP_IF_LITTLE              <span class="comments">;double</span>
 
      6: byteorder, data, /LSWAP, /SWAP_IF_LITTLE
     
      7: return                             <span class="comments">;string</span>

      8: BEGIN                              <span class="comments">;structure</span>

        Ntag = N_tags( data )

        for t=0,Ntag-1 do  begin
          temp = data.(t)
          host_to_ieee, temp
          data.(t) = temp
        endfor 
       END

     9: byteorder, data, /L64SWAP, /SWAP_IF_LITTLE
 
     12: byteorder, data, /SSWAP, /SWAP_IF_LITTLE

     13: byteorder, data, /LSWAP, /SWAP_IF_LITTLE

     14: byteorder, data, /L64swap, /SWAP_IF_LITTLE

     15: byteorder, data, /L64swap, /SWAP_IF_LITTLE

     else: message,'Unrecognized datatype ' + strtrim(idltype,2)

 ENDCASE

 return
 end 
</code>
    </div>
  </body>
</html>