<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Mon Sep 30 16:57:28 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>eqpole_grid.pro (Documentation for ./)</title>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="eqpole_grid.pro (Documentation for ./)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">
    <div class="content">
      <code class="source"><span class="comments">;+</span>
<span class="comments">; NAME:</span>
<span class="comments">;       EQPOLE_GRID</span>
<span class="comments">;</span>
<span class="comments">; PURPOSE:</span>
<span class="comments">;       Produce an equal area polar projection grid overlay</span>
<span class="comments">; EXPLANATION:</span>
<span class="comments">;       Grid is written on the current graphics device using the equal area </span>
<span class="comments">;       polar projection.   EQPOLE_GRID assumes that the output plot </span>
<span class="comments">;       coordinates span the x and y ranges of -90 to 90 for a region that </span>
<span class="comments">;       covers the equator to the chosen pole. The grid is assumed to go from </span>
<span class="comments">;       the equator to the chosen pole.</span>
<span class="comments">;</span>
<span class="comments">; CALLING SEQUENCE:</span>
<span class="comments">;</span>
<span class="comments">;       EQPOLE_GRID[,DLONG,DLAT,[/SOUTHPOLE, LABEL = , /NEW, _EXTRA=]</span>
<span class="comments">;</span>
<span class="comments">; INPUTS:</span>
<span class="comments">;</span>
<span class="comments">;       DLONG   = Optional input longitude line spacing in degrees. If left</span>
<span class="comments">;                 out, defaults to 30.</span>
<span class="comments">;       DLAT    = Optional input lattitude line spacing in degrees. If left</span>
<span class="comments">;                 out, defaults to 30.</span>
<span class="comments">;</span>
<span class="comments">; INPUT KEYWORDS:</span>
<span class="comments">;</span>
<span class="comments">;       /SOUTHPOLE       = Optional flag indicating that the output plot is</span>
<span class="comments">;                         to be centered on the south rather than the north</span>
<span class="comments">;                         pole.</span>
<span class="comments">;       LABEL           = Optional flag for creating labels on the output</span>
<span class="comments">;                         grid on the prime meridian and the equator for</span>
<span class="comments">;                         lattitude and longitude lines. If set =2, then</span>
<span class="comments">;                         the longitude lines are labeled in hours and minutes.</span>
<span class="comments">;       CHARSIZE       = If /LABEL is set, then CHARSIZE specifies the size</span>
<span class="comments">;                         of the label characters (passed to XYOUTS)</span>
<span class="comments">;       CHARTHICK     =  If /LABEL is set, then CHARTHICK specifies the </span>
<span class="comments">;                         thickness of the label characters (passed to XYOUTS)</span>
<span class="comments">;       /NEW          =   If this keyword is set, then EQPOLE_GRID will create</span>
<span class="comments">;                         a new plot, rather than overlay an existing plot.</span>
<span class="comments">;</span>
<span class="comments">;       Any valid keyword to OPLOT such as COLOR, LINESTYLE, THICK can be </span>
<span class="comments">;       passed to AITOFF_GRID (though the _EXTRA facility) to to specify the</span>
<span class="comments">;       color, style, or thickness of the grid lines.</span>
<span class="comments">; OUTPUTS:</span>
<span class="comments">;       Draws grid lines on current graphics device.</span>
<span class="comments">;</span>
<span class="comments">; EXAMPLE:</span>
<span class="comments">;       Create a labeled equal area projection grid of the Galaxy, centered on</span>
<span class="comments">;       the South pole, and overlay stars at specified Galactic longitudes, </span>
<span class="comments">;       glong and latitudes, glat</span>
<span class="comments">;</span>
<span class="comments">;       IDL> eqpole_grid,/label,/new,/south       ;Create labeled grid</span>
<span class="comments">;       IDL> eqpole, glong, glat, x,y      ;Convert to X,Y coordinates</span>
<span class="comments">;       IDL> plots,x,y,psym=2              ;Overplot "star" positions.</span>
<span class="comments">;</span>
<span class="comments">;</span>
<span class="comments">; COPYRIGHT NOTICE:</span>
<span class="comments">;</span>
<span class="comments">;       Copyright 1992, The Regents of the University of California. This</span>
<span class="comments">;       software was produced under U.S. Government contract (W-7405-ENG-36)</span>
<span class="comments">;       by Los Alamos National Laboratory, which is operated by the</span>
<span class="comments">;       University of California for the U.S. Department of Energy.</span>
<span class="comments">;       The U.S. Government is licensed to use, reproduce, and distribute</span>
<span class="comments">;       this software. Neither the Government nor the University makes</span>
<span class="comments">;       any warranty, express or implied, or assumes any liability or</span>
<span class="comments">;       responsibility for the use of this software.</span>
<span class="comments">;</span>
<span class="comments">; AUTHOR AND MODIFICATIONS:</span>
<span class="comments">;</span>
<span class="comments">;       J. Bloch        1.4     10/28/92</span>
<span class="comments">;       Converted to IDL V5.0   W. Landsman   September 1997</span>
<span class="comments">;       Create default plotting coords, if needed   W. Landsman  August 2000</span>
<span class="comments">;       Added _EXTRA, CHARTHICK, CHARSIZE keywords  W. Landsman  March 2001</span>
<span class="comments">;-</span>
PRO EQPOLE_GRID,DLONG,DLAT,_EXTRA=E,LABELS=LABEL,SOUTHPOLE=SOUTHPOLE,NEW=NEW, $
               CHARSIZE = charsize, CHARTHICK =charthick

        if n_params() lt 2 then dlong = 30.0
        if n_params() lt 1 then dlat = 30.0


<span class="comments">; If no plotting axis has been defined, then create a default one</span>

        new = keyword_set(new)
        if not new then new =  (!X.crange[0] EQ 0) and (!X.crange[1] EQ 0)
        if new then plot,[-130,130],[-130,130],/nodata,xsty=5,ysty=5

<span class="comments">;</span>
<span class="comments">;       Do lines of constant longitude</span>
<span class="comments">;</span>
        lat=90.0-findgen(180)
        if keyword_set(southpole) then lat = -lat
        lng=fltarr(180)
        lngtot = long(360.0/dlong)
        for i=0,lngtot do begin
                lng[*]=-180.0+(i*dlong)
                eqpole,lng,lat,x,y,southpole=southpole
                oplot,x,y,_EXTRA=e
        endfor
<span class="comments">;</span>
<span class="comments">;       Do lines of constant latitude</span>
<span class="comments">;</span>
        lng=findgen(360)
        lat=fltarr(360)
        lattot=long(180.0/dlat)
        for i=1,lattot do begin
                if not keyword_set(southpole) then lat[*]=90.0-(i*dlat) $
                        else lat[*]=-90.0+(i*dlat)
                eqpole,lng,lat,x,y,southpole=southpole
                oplot,x,y,_EXTRA=e
        endfor
<span class="comments">;</span>
<span class="comments">;       Do labeling if requested</span>
<span class="comments">;</span>
        if keyword_set(label) then begin
<span class="comments">;</span>
<span class="comments">;       Label equator</span>
<span class="comments">;</span>
            for i=0,lngtot-1 do begin
                lng = (i*dlong)
                eqpole,lng,0.0,x,y,southpole=southpole
                if label eq 1 then xyouts,x[0],y[0],noclip=0,$
                        charsize = charsize, charthick = charthick, $
                        strcompress(string(lng,format="(I4)"),/remove_all) $
                else begin
                        tmp=sixty(lng*24.0/360.0)
                        xyouts,x[0],y[0],noclip=0,$
                           charsize = charsize, charthick = charthick, $
                             strcompress(string(tmp[0],tmp[1],$
                            format='(I2,"h",I2,"m")'),/remove_all),alignment=0.5
                endelse
            endfor
<span class="comments">;</span>
<span class="comments">;       Label prime meridian</span>
<span class="comments">;</span>
            for i=1,lattot-1 do begin
                if not keyword_set(southpole) then $
                        lat=90-(i*dlat) else lat=-90+(i*dlat)
                eqpole,0.0,lat,x,y,southpole=southpole
                xyouts,x[0],y[0],noclip=0,$
                        charsize = charsize, charthick = charthick, $
                        strcompress(string(lat,format="(I4)"),/remove_all)
            endfor
        endif
        return
end

</code>
    </div>
  </body>
</html>