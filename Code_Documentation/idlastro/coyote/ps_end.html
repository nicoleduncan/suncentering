<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Mon Sep 30 16:58:30 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>ps_end.pro (Documentation for ./)</title>

    

    <script type="text/javascript" src="../../idldoc-resources/js/jquery.js"></script>
    <script type="text/javascript" src="../../idldoc-resources/js/copybutton.js"></script>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="ps_end.pro (Documentation for ./)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">

    <div class="header">
      <h1>Documentation for ./</h1>
      <h2>Generated by IDLdoc</h2>
    </div>
    
    
    <table class="navbar smaller" summary="Navigation header" cellspacing="0">
      <tr>
        <td >
          <a href="../../overview.html">Overview</a>
        </td>
    
        <td >
          Directory
        </td>
    
        <td class="selected">File</td>
    
        
        <td >
          <a href="ps_end-code.html" title="Chromocoded source">Source</a> <a href="ps_end.pro" title=".pro file"><img src="../../idldoc-resources/attach.png" alt="[attach.png]" align="top"/></a>
        </td>
        
    
        <td >Etc</td>
    
        <td >
        	<a href="../../categories.html">Categories</a>
        </td>
    
        <td >
        	<a href="../../search.html">Search</a>
        </td>
    
        
        <td >
          <a href="../../idldoc-index.html">Index</a>
        </td>
        
    
        
    
        <td >
          <a href="../../idldoc-help.html">Help</a>
        </td>
    
        <td class="flexible">
          User documentation
        </td>
      </tr>
    </table>
    
    
    
    <p class="localnavbar smallest"><a href="" target="_top">single page</a> | <a href="../../index.html" target="_top">use frames</a> &nbsp;&nbsp;&nbsp; summary &nbsp;&nbsp;&nbsp; class &nbsp;&nbsp;&nbsp; fields &nbsp;&nbsp;&nbsp; <a href="#routine-details">routine details</a> &nbsp;&nbsp;&nbsp; <a href="#attributes">file attributes</a></p>
    
    
    
    
    
    
    
    
    

    <div class="content">
      <h2 class="directory">idlastro/coyote/</h2>
      <h1 class="basename">ps_end.pro<span class="file-attributes"></span></h1>
      

      
      
      
      <br/>

      

      

      

      

      

      


      
      <div id="routine-details">
        

        
        <div class="routine-details details" id="PS_END">
          <h2 class="routine-name"><a href="#root" class="top">top</a> <a href="ps_end-code.html#PS_END:source" class="top">source</a> PS_END<span class="routine-attributes"></span></h2>

          
          <p class="small categories">Utilities, Graphics</p>
          

          <p class="syntax"><code>PS_END<span class="argument"> [, /<a href="#PS_END:k:ALLOW_TRANSPARENT">ALLOW_TRANSPARENT</a>]</span><span class="argument"> [, /<a href="#PS_END:k:BMP">BMP</a>]</span><span class="argument"> [, /<a href="#PS_END:k:DELETE_PS">DELETE_PS</a>]</span><span class="argument"> [, <a href="#PS_END:k:DENSITY">DENSITY</a>=<span class="var">integer</span>]</span><span class="argument"> [, <a href="#PS_END:k:IM_OPTIONS">IM_OPTIONS</a>=<span class="var">string</span>]</span><span class="argument"> [, <a href="#PS_END:k:FILETYPE">FILETYPE</a>=<span class="var">string</span>]</span><span class="argument"> [, /<a href="#PS_END:k:GIF">GIF</a>]</span><span class="argument"> [, <a href="#PS_END:k:GS_PATH">GS_PATH</a>=<span class="var">string</span>]</span><span class="argument"> [, /<a href="#PS_END:k:JPEG">JPEG</a>]</span><span class="argument"> [, /<a href="#PS_END:k:NOFIX">NOFIX</a>]</span><span class="argument"> [, /<a href="#PS_END:k:NOMESSAGE">NOMESSAGE</a>]</span><span class="argument"> [, <a href="#PS_END:k:OUTFILENAME">OUTFILENAME</a>=<span class="var">string</span>]</span><span class="argument"> [, /<a href="#PS_END:k:PDF">PDF</a>]</span><span class="argument"> [, /<a href="#PS_END:k:PNG">PNG</a>]</span><span class="argument"> [, <a href="#PS_END:k:RESIZE">RESIZE</a>=<span class="var">integer</span>]</span><span class="argument"> [, /<a href="#PS_END:k:SHOWCMD">SHOWCMD</a>]</span><span class="argument"> [, /<a href="#PS_END:k:TIFF">TIFF</a>]</span><span class="argument"> [, <a href="#PS_END:k:UNIX_CONVERT_CMD">UNIX_CONVERT_CMD</a>=<span class="var">string</span>]</span><span class="argument"> [, <a href="#PS_END:k:WIDTH">WIDTH</a>=<span class="var">integer</span>]</span></code></p>

          
          <div class="small "><p> The purpose of PS_START and PS_END is to make it easy to set-up
 and close a PostScript file. These programs are used extensively
 in all Coyote Graphics routines.
</p>

<p> If <a href="http://www.imagemagick.org/script/index.php">ImageMagick </a> is installed
 on your computer, you can easily convert PostScript output to GIF, JPEG, PNG, and TIFF
 raster output. If <a href="http://www.ghostscript.com/download/">Ghostscript</a> is installed
 you can convert PostScript output to PDF files. See the appropriate keywords below.
</p>

<p> When PS_START is called, the current graphics device is set to "PS" (the PostScript
 device). When PS_END is called the current graphics device is returned to the device
 in effect when PS_START was called.
</p>

</div>
          

          

          

          
          <h3>Keywords</h3>
            <dl>
              
              <dt id="PS_END:k:ALLOW_TRANSPARENT">ALLOW_TRANSPARENT <span class="smaller">in optional type=boolean default=0</span></dt>
              <dd class="small"><p>         To make the background of some image files white, rather than transparent,
         you have to set the "-alpha off" string in the ImageMagick call. This
         string is automatically added to the ImageMagick call unless this keyword
         is set, in which case the string is not added and the image background will
         be transparent.
</p>

</dd>
              
              <dt id="PS_END:k:BMP">BMP <span class="smaller">in optional type=boolean default=0</span></dt>
              <dd class="small"><p>        Set this keyword to convert the PostScript output file to a BMP image. Requires ImageMagick.
</p>

</dd>
              
              <dt id="PS_END:k:DELETE_PS">DELETE_PS <span class="smaller">in optional type=boolean default=0</span></dt>
              <dd class="small"><p>        Setting this keyword will delete the PostScript file that is used as the intermediate
        file in the conversion to other file types.
</p>

</dd>
              
              <dt id="PS_END:k:DENSITY">DENSITY <span class="smaller">in optional type=integer default=300</span></dt>
              <dd class="small"><p>        The horizontal and vertical density (in dots per inch, DPI) of the image when the PostScript file
        is converted to a raster format by ImageMagick.
</p>

</dd>
              
              <dt id="PS_END:k:IM_OPTIONS">IM_OPTIONS <span class="smaller">in optional type=string </span></dt>
              <dd class="small"><p>        A string of ImageMagick "convert" options that can be passed to the ImageMagick convert
        command. No error checking occurs with this string.
</p>

</dd>
              
              <dt id="PS_END:k:FILETYPE">FILETYPE <span class="smaller">in optional type=string </span></dt>
              <dd class="small"><p>        This keyword provides a generic way of setting the <a href="../../idlastro/coyote/ps_end.html#PS_END:k:BMP"><code>BMP</code></a>, <a href="../../idlastro/coyote/ps_end.html#PS_END:k:GIF"><code>GIF</code></a>, <a href="../../idlastro/coyote/ps_end.html#PS_END:k:JPEG"><code>JPEG</code></a>, <a href="../../idlastro/coyote/ps_end.html#PS_END:k:PNG"><code>PNG</code></a>, and <a href="../../idlastro/coyote/ps_end.html#PS_END:k:TIFF"><code>TIFF</code></a>
        keywords. Set this keyword to the type of file output desired, and the correct "output"
        keyword will be set.
</p>

</dd>
              
              <dt id="PS_END:k:GIF">GIF <span class="smaller">in optional type=boolean default=0</span></dt>
              <dd class="small"><p>        Set this keyword to convert the PostScript output file to a GIF image. Requires ImageMagick.
</p>

</dd>
              
              <dt id="PS_END:k:GS_PATH">GS_PATH <span class="smaller">in optional type=string </span></dt>
              <dd class="small"><p>        This program assumes that UNIX users can access Ghostscript with the "gs"
        command. It assumes WINDOWS users have installed Ghostscript in either
        the C:\gs or C:\Program Files\gs directories. If either of these assumptions
        is incorrect, you can specify the directory where the Ghostscript executable
        resides with this keyword. (The Windows 32-bit executable is named gswin32c.exe
        and the 64-bit executable is named gswin64c.exe.) Passed directly to cgPS2PDF.
</p>

</dd>
              
              <dt id="PS_END:k:JPEG">JPEG <span class="smaller">in optional type=boolean default=0</span></dt>
              <dd class="small"><p>        Set this keyword to convert the PostScript output file to a JPEG image. Requires ImageMagick.
</p>

</dd>
              
              <dt id="PS_END:k:NOFIX">NOFIX <span class="smaller">in optional type=boolean default=0</span></dt>
              <dd class="small"><p>        If this keyword is set, then the cgFixPS program to fix IDL landscape
        PostScript files is not called.
</p>

</dd>
              
              <dt id="PS_END:k:NOMESSAGE">NOMESSAGE <span class="smaller">in optional type=boolean default=0</span></dt>
              <dd class="small"><p>        If this keyword is set, then no error messages are issued. The keyword is used primarily
        to allow PS_END to reset the internal structure without a lot of ruckus.
</p>

</dd>
              
              <dt id="PS_END:k:OUTFILENAME">OUTFILENAME <span class="smaller">out optional type=string </span></dt>
              <dd class="small"><p>        The name of the output filename created by the program.
</p>

</dd>
              
              <dt id="PS_END:k:PDF">PDF <span class="smaller">in optional type=boolean default=0</span></dt>
              <dd class="small"><p>        Set this keyword to convert the PostScript output file to a PDF file. Requires Ghostscript.
</p>

</dd>
              
              <dt id="PS_END:k:PNG">PNG <span class="smaller">in optional type=boolean default=0</span></dt>
              <dd class="small"><p>        Set this keyword to convert the PostScript output file to a PNG image. Requires ImageMagick.
        Normally, 24-bit PNG files are created. However, if the IM_PNG8 keyword is set with
        cgWindow_SetDefs, then PS_End will create an 8-bit PNG file instead.
</p>

</dd>
              
              <dt id="PS_END:k:RESIZE">RESIZE <span class="smaller">in optional type=integer default=25</span></dt>
              <dd class="small"><p>        If an image is being created from the PostScript file, it is often resized by some
        amount. You can use this keyword to change the value (e.g, RESIZE=100).
        The value is passed on to resize argument as a percentage in the ImageMagick call.
</p>

</dd>
              
              <dt id="PS_END:k:SHOWCMD">SHOWCMD <span class="smaller">in optional type=boolean default=0</span></dt>
              <dd class="small"><p>        Set this command to show the command used to do any PostScript coversions.
</p>

</dd>
              
              <dt id="PS_END:k:TIFF">TIFF <span class="smaller">in optional type=boolean default=0</span></dt>
              <dd class="small"><p>        Set this keyword to convert the PostScript output file to a TIFF image. Requires ImageMagick.
</p>

</dd>
              
              <dt id="PS_END:k:UNIX_CONVERT_CMD">UNIX_CONVERT_CMD <span class="smaller">in optional type=string </span></dt>
              <dd class="small"><p>         There are a number of commands on UNIX machines for converting PostScript files
         to PDF files. This program assumes you are using Ghostscript to do the conversion
         for you. The Ghostscript command on most UNIX machines is "gs", which is used if
         this keyword is undefined. However, if you would prefer to use another program to do
         the conversion for you, you can specify the name of the command here. For example,
         "pstopdf" or "epstopdf". In creating the actual command, this command will be
         separated by a space from the input file name. In other words, if the alternative
         conversion command was "pstopdf", the actual command would be "pstopdf" + " " + ps_file.
         Any output filename is ignored. This command does not apply to Macintosh or Windows
         computers. Passed directly to cgPS2PDF.
</p>

</dd>
              
              <dt id="PS_END:k:WIDTH">WIDTH <span class="smaller">in optional type=integer </span></dt>
              <dd class="small"><p>         Set the keyword to the final pixel width of the output raster image. Applies
         only to raster image file output (e.g., JPEG, PNG, TIFF, etc.). The height of
         the image is chosen to preserve the image aspect ratio.
</p>

<p></p>

</dd>
              
            </dl>
          

          
          <h3>Examples</h3>
          <div><p>    To create a line plot in a PostScript file named lineplot.ps and
    also create a PNG file named lineplot.png for display in a browser,
    type these commands:
<div><div><code class="listing"><span class="code-output">   PS_Start, FILENAME='lineplot.ps'</span>
<span class="code-output">   cgPlot, Findgen(11), COLOR='navy', /NODATA, XTITLE='Time', YTITLE='Signal'</span>
<span class="code-output">   cgPlot, Findgen(11), COLOR='indian red', /OVERPLOT</span>
<span class="code-output">   cgPlot, Findgen(11), COLOR='olive', PSYM=2, /OVERPLOT</span>
<span class="code-output">   PS_End, /PNG</span>
</code></div></div></p>

</div>
          

          
          <h3>Author information</h3>

            <dl class="attribute small" summary="Routine author information">
              
                <dt>Author:</dt>
                <dd><p>       FANNING SOFTWARE CONSULTING:
<div><div><code class="listing"><span class="code-output">   David W. Fanning</span>
<span class="code-output">   1645 Sheely Drive</span>
<span class="code-output">   Fort Collins, CO 80526 USA</span>
<span class="code-output">   Phone: 970-221-0438</span>
<span class="code-output">   E-mail: david@idlcoyote.com</span>
<span class="code-output">   Coyote's Guide to IDL Programming: http://www.idlcoyote.com</span>
</code></div></div></p>

</dd>
              

              
                <dt>Copyright:</dt>
                <dd><p>     Copyright (c) 2008-2012, Fanning Software Consulting, Inc.
</p>

</dd>
              

              
                <dt>History:</dt>
                <dd><p>     Change History:
<div><div><code class="listing"><span class="code-output"> Written by: David W. Fanning, 20 May 2008.</span>
<span class="code-output"> Slight modification to allow filenames with spaces in them.</span>
<span class="code-output"> Added NoMatch keyword. 17 March 2009. DWF.</span>
<span class="code-output"> Added a number of keywords to make these commands more configurable. 19 March 2009. DWF.</span>
<span class="code-output"> Only set thickness system variables if starting system variables are set to their</span>
<span class="code-output">     default values (namely, 0). This allows users to set their own system variables</span>
<span class="code-output">     before they call PS_START, rather than after. 23 March  2009. DWF.</span>
<span class="code-output"> Moved PS_END to its own file to allow the IDLExBr_Assistant to work properly. 7 April 2009. DWF.</span>
<span class="code-output"> Reordered ImageMagick commands to put them in the proper sequence to get "alpha" switch to work. 23 April 2009. DWF.</span>
<span class="code-output"> Put the switches *ahead* of the PostScript file name. Now resizing works and default size reduction</span>
<span class="code-output">     returned to 25%. 23 April 2009. DWF.</span>
<span class="code-output"> Still having a devil of a time getting the ImageMagick "convert" command right. Fonts</span>
<span class="code-output">     have become a problem. Now trying a "flatten" option in the command. 12 May 2009. DWF.</span>
<span class="code-output"> If the PostScript file is in Landscape mode, it is now "fixed" with cgFixPS to allow it</span>
<span class="code-output">     to be displayed right-side up in PostScript viewers. 8 August 2009. DWF.</span>
<span class="code-output"> Fixed a problem in not checking the GIF keyword properly. 4 December 2009. DWF.</span>
<span class="code-output"> Added NOFIX keyword to the program. 1 November 2010. DWF.</span>
<span class="code-output"> Added better handing of errors coming from cgFixPS after update to FIXPS. 15 November 2010. DWF.</span>
<span class="code-output"> Added DELETE_PS keyword. 16 Jan 2011. DWF.</span>
<span class="code-output"> Better protection of code from not finding ImageMagick. 17 Jan 2011. DWF.</span>
<span class="code-output"> Collecting result of SPAWN command. Only printing if QUIET=0. 16 Feb 2011. DWF.</span>
<span class="code-output"> Changes to handle inability to create raster files from PS encapsulated files in</span>
<span class="code-output">     landscape mode. Added NOMESSAGE keyword. 26 Aug 2011. DWF.</span>
<span class="code-output">  Added PDF keyword. Requires Ghostscript to use. 6 Dec 2011. DWF.</span>
<span class="code-output">  Added SHOWCMD keyword. 9 Dec 2011. DWF.</span>
<span class="code-output">  Added OUTFILENAME keyword. 11 Dec 2011. DWF.</span>
<span class="code-output">  Just realized a BMP case is missing from one of the CASE statements. 12 Dec 2011. DWF.</span>
<span class="code-output">  Added GS_PATH and UNIX_CONVERT_CMD keywords to support PDF output. 14 Dec 2011. DWF.</span>
<span class="code-output">  Add the WIDTH keyword. 3 April 2012. DWF.</span>
<span class="code-output">  Added a check for IM_PNG8 keyword, using cgWindow_GetDefs to see if an 8-bit or 24-bit</span>
<span class="code-output">     PNG file should be created. 3 April 2012. DWF.</span>
<span class="code-output">  Modified the ImageMagick commands that resizes the image to a particular width. Necessary</span>
<span class="code-output">     to accommodate PNG8 file output. Using ImageMagick 6.7.2-9. 4 April 2012. DWF.</span>
<span class="code-output">  Added FILETYPE keyword to provide a generic way of creating raster file output. 30 August 2012. DWF.</span>
<span class="code-output">  Modified to use the cgPS2Raster program so code doesn't have to be maintained in</span>
<span class="code-output">      two places. 15 Oct 2012. DWF.</span>
</code></div></div></p>

</dd>
              

              
            </dl>
          

          

          

        </div>
        

      </div>
      

      <div id="attributes">
        <h2>File attributes</h2>

        <table class="attribute small" summary="File attributes">
          <tr>
            <td class="name">Modification date:</td>
            <td>Tue Oct 23 10:15:50 2012</td>
          </tr>

          <tr>
            <td class="name">Lines:</td>
            <td>314</td>
          </tr>

          
          <tr>
            <td class="name">Docformat:</td>
            <td>rst rst</td>
          </tr>
          
        </table>
      </div>

      
    </div>

    <div class="footer">
    
      <table class="smaller" summary="footer">
        <tr>
          <td class="left">Produced by IDLdoc 3.5.1 on Mon Sep 30 16:58:31 2013</td>
          <td class="right"><a target="_top" href="http://idldoc.idldev.com">IDLdoc project information</a></td>
        </tr>
      </table>
    
    </div>
  </body>
</html>