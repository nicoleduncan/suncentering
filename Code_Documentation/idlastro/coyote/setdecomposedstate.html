<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Mon Sep 30 16:58:31 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>setdecomposedstate.pro (Documentation for ./)</title>

    

    <script type="text/javascript" src="../../idldoc-resources/js/jquery.js"></script>
    <script type="text/javascript" src="../../idldoc-resources/js/copybutton.js"></script>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="setdecomposedstate.pro (Documentation for ./)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">

    <div class="header">
      <h1>Documentation for ./</h1>
      <h2>Generated by IDLdoc</h2>
    </div>
    
    
    <table class="navbar smaller" summary="Navigation header" cellspacing="0">
      <tr>
        <td >
          <a href="../../overview.html">Overview</a>
        </td>
    
        <td >
          Directory
        </td>
    
        <td class="selected">File</td>
    
        
        <td >
          <a href="setdecomposedstate-code.html" title="Chromocoded source">Source</a> <a href="setdecomposedstate.pro" title=".pro file"><img src="../../idldoc-resources/attach.png" alt="[attach.png]" align="top"/></a>
        </td>
        
    
        <td >Etc</td>
    
        <td >
        	<a href="../../categories.html">Categories</a>
        </td>
    
        <td >
        	<a href="../../search.html">Search</a>
        </td>
    
        
        <td >
          <a href="../../idldoc-index.html">Index</a>
        </td>
        
    
        
    
        <td >
          <a href="../../idldoc-help.html">Help</a>
        </td>
    
        <td class="flexible">
          User documentation
        </td>
      </tr>
    </table>
    
    
    
    <p class="localnavbar smallest"><a href="" target="_top">single page</a> | <a href="../../index.html" target="_top">use frames</a> &nbsp;&nbsp;&nbsp; summary &nbsp;&nbsp;&nbsp; class &nbsp;&nbsp;&nbsp; fields &nbsp;&nbsp;&nbsp; <a href="#routine-details">routine details</a> &nbsp;&nbsp;&nbsp; <a href="#attributes">file attributes</a></p>
    
    
    
    
    
    
    
    
    

    <div class="content">
      <h2 class="directory">idlastro/coyote/</h2>
      <h1 class="basename">setdecomposedstate.pro<span class="file-attributes"></span></h1>
      

      
      
      
      <br/>

      

      

      

      

      

      


      
      <div id="routine-details">
        

        
        <div class="routine-details details" id="SetDecomposedState">
          <h2 class="routine-name"><a href="#root" class="top">top</a> <a href="setdecomposedstate-code.html#SetDecomposedState:source" class="top">source</a> SetDecomposedState<span class="routine-attributes"></span></h2>

          
          <p class="small categories">Graphics, Utilities</p>
          

          <p class="syntax"><code>SetDecomposedState<span class="argument">, <a href="#SetDecomposedState:p:state">state</a></span><span class="argument"> [, <a href="#SetDecomposedState:k:CURRENTSTATE">CURRENTSTATE</a>=<span class="var">integer</span>]</span><span class="argument"> [, <a href="#SetDecomposedState:k:DEPTH">DEPTH</a>=<span class="var">integer</span>]</span><span class="argument"> [, <a href="#SetDecomposedState:k:ZDEPTH">ZDEPTH</a>=<span class="var">integer</span>]</span></code></p>

          
          <div class="small "><p>   Provides a device-independent way to set the color decomposition state of the
   current graphics device. Devices that do not have a DECOMPOSED keyword to the
   DEVICE command are assumed to be in indexed color mode always.
</p>

<p>   I have removed the Z-graphics buffer from being controlled by this program. I
   do so reluctantly, but I am pragmatic enough to realize that progress forward
   is necessarily slow and that I must recognize the reality of legacy IDL code.
</p>

<p>   My personal view is that all graphics routines should use 24-bit decomposed
   color. There are myriad advantages, but basically they boil down to this:
   (1) You have 16.7 million colors available to you simultaneously, and (2) you
   don't have to contaminate color tables to use drawing colors. Coyote Graphics
   routines are in the habit of switching out of whatever color mode the user happens
   to be using, into 24-bit decomposed color mode, then switching back when finished
   with its business. But, it is impossible to do this correctly in the Z-graphics
   buffer.
</p>

<p>   The reason for this is that in the Z-graphics buffer, you need to switch not only
   the color mode, but also the pixel depth. In other words, I would prefer to set
   the Z-graphics buffer up like this:
<div><div><code class="listing"><span class="code-output">   Set_Plot, 'Z'</span>
<span class="code-output">   Device, Decomposed=1, Set_Pixel_Depth=24</span>
</code></div></div>   But, if I do that, then I need to set it back (for 99 people out of a 100) like this:
<div><div><code class="listing"><span class="code-output">   Device, Decomposed=0, Set_Pixel_Depth=8</span>
</code></div></div>   Unfortunately, using this command will erase whatever is in the Z-graphics buffer!
</p>

<p>   My solution to this problem is to leave it to the user to configure the Z-graphics buffer
   the way they want it. If you configure it to use 24-bit decomposed color, all of the Coyote
   Graphics routines will work as they normally do. If you configure it to use 8-bit indexed color,
   which is the default configuration, then it will work "normally", but you will be in great
   danger of contaminating the system color table. The reason for this is that Coyote Graphics
   cannot "restore" the entry color table in the Z-buffer without obliterating what is already
   in the graphics window. Users who work with indexed color are probably already very much
   aware of this problem, so it shouldn't surprise them. (They might not expect this with
   Coyote Graphics, but this is the price that has to be paid.)
</p>

<p>   My suggestion is to put the Z-graphics configuration in your IDL startup file. Set it
   up in 24-bit decomposed color mode, use Coyote Graphics to do all your graphical output,
   and you will find things working perfectly.
   See <a href="http://www.idlcoyote.com/cg_tips/configz.php">Configuring the Z-Graphics Buffer for Coyote Graphics</a>
   for additional information.
</p>

<p></p>

</div>
          

          

          
          <h3>Parameters</h3>
            <dl>
              
              <dt id="SetDecomposedState:p:state">state <span class="smaller">in required type=integer default=0</span></dt>
              <dd class="small"><p>         Set to 1 to set the current graphics device to decomposed color. Set to 0
         to set the current graphics device to indexed color. Devices lacking a
         DECOMPOSED keyword are assumed to be perpetually in indexed color mode.
         The Z-graphics buffer is always unchanged after the 24 Dec 2011 update.
</p>

<p></p>

</dd>
              
            </dl>
          

          
          <h3>Keywords</h3>
            <dl>
              
              <dt id="SetDecomposedState:k:CURRENTSTATE">CURRENTSTATE <span class="smaller">out optional type=integer </span></dt>
              <dd class="small"><p>         The current decomposition state of the current graphics device when the
         program is called. A 1 indicates decomposed color. A 0 indicates indexed
         color.
</p>

</dd>
              
              <dt id="SetDecomposedState:k:DEPTH">DEPTH <span class="smaller">out optional type=integer </span></dt>
              <dd class="small"><p>         The currnet pixel depth of the graphics device.
</p>

</dd>
              
              <dt id="SetDecomposedState:k:ZDEPTH">ZDEPTH <span class="smaller">in optional type=integer </span></dt>
              <dd class="small"><p>         The pixel depth of the Z-graphics device. Set to 8 or 24. Applies ONLY
         when setting the Z-graphics device state to 0. If undefined, the current
         depth of the Z-graphics device is unchanged from its current state. No
         longer used after 24 Dec 2011 update. Code still in place, however.
</p>

<p></p>

</dd>
              
            </dl>
          

          
          <h3>Examples</h3>
          <div><p>     To set the device in color decomposition mode, then return it, do something like this:
<div><div><code class="listing"><span class="code-output">  SetDecomposedState, 1, CurrentState=mode</span>
<span class="code-output">  ...</span>
<span class="code-output">  SetDecomposeState, mode</span>
</code></div></div></p>

</div>
          

          
          <h3>Author information</h3>

            <dl class="attribute small" summary="Routine author information">
              
                <dt>Author:</dt>
                <dd><p>       FANNING SOFTWARE CONSULTING:
<div><div><code class="listing"><span class="code-output">   David W. Fanning</span>
<span class="code-output">   1645 Sheely Drive</span>
<span class="code-output">   Fort Collins, CO 80526 USA</span>
<span class="code-output">   Phone: 970-221-0438</span>
<span class="code-output">   E-mail: david@idlcoyote.com</span>
<span class="code-output">   Coyote's Guide to IDL Programming: http://www.idlcoyote.com</span>
</code></div></div></p>

</dd>
              

              
                <dt>Copyright:</dt>
                <dd><p>     Copyright (c) 2010, Fanning Software Consulting, Inc.
</p>

</dd>
              

              
                <dt>History:</dt>
                <dd><p>     Change History:
<div><div><code class="listing"><span class="code-output">  Written, 16 November 2010. DWF.</span>
<span class="code-output">  Changes to include SET_PIXEL_DEPTH in Z-graphics buffer. 19 Nov 2010. DWF.</span>
<span class="code-output">  Allow PostScript 7.0 to set the decomposition keyword. 12 Dec 2010. DWF.</span>
<span class="code-output">  Added DEPTH and ZDEPTH keywords. 31 Dec 2010. DWF.</span>
<span class="code-output">  Added a do-nothing NULL device to Case statement. 4 Jan 2011. DWF.</span>
<span class="code-output">  Removed the Z-graphics buffer from control by this program. 24 Dec 2011. DWF.</span>
<span class="code-output">  Added back the ability to set decomposed state for the Z-buffer, but only</span>
<span class="code-output">     if the depth buffer is 24-bits or higher. 25 May 2012. DWF.</span>
</code></div></div></p>

</dd>
              

              
            </dl>
          

          

          

        </div>
        

      </div>
      

      <div id="attributes">
        <h2>File attributes</h2>

        <table class="attribute small" summary="File attributes">
          <tr>
            <td class="name">Modification date:</td>
            <td>Tue Oct 23 10:15:50 2012</td>
          </tr>

          <tr>
            <td class="name">Lines:</td>
            <td>195</td>
          </tr>

          
          <tr>
            <td class="name">Docformat:</td>
            <td>rst rst</td>
          </tr>
          
        </table>
      </div>

      
    </div>

    <div class="footer">
    
      <table class="smaller" summary="footer">
        <tr>
          <td class="left">Produced by IDLdoc 3.5.1 on Mon Sep 30 16:58:31 2013</td>
          <td class="right"><a target="_top" href="http://idldoc.idldev.com">IDLdoc project information</a></td>
        </tr>
      </table>
    
    </div>
  </body>
</html>