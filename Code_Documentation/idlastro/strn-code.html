<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Mon Sep 30 16:58:03 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>strn.pro (Documentation for ./)</title>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="strn.pro (Documentation for ./)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">
    <div class="content">
      <code class="source"><a id="strn:source"></a>function strn, number, LENGTH = length, PADTYPE = padtype, PADCHAR = padchar, $
                       FORMAT = Format
<span class="comments">;+</span>
<span class="comments">; NAME:</span>
<span class="comments">;	STRN</span>
<span class="comments">; PURPOSE:</span>
<span class="comments">;	Convert a number to a string and remove padded blanks.</span>
<span class="comments">; EXPLANATION:</span>
<span class="comments">;	The main and original purpose of this procedure is to convert a number</span>
<span class="comments">;	to an unpadded string (i.e. with no blanks around it.)  However, it </span>
<span class="comments">;	has been expanded to be a multi-purpose formatting tool.  You may </span>
<span class="comments">;	specify a length for the output string; the returned string is either </span>
<span class="comments">;	set to that length or padded to be that length.  You may specify </span>
<span class="comments">;	characters to be used in padding and which side to be padded.  Finally,</span>
<span class="comments">;	you may also specify a format for the number.  NOTE that the input </span>
<span class="comments">;	"number" need not be a number; it may be a string, or anything.  It is</span>
<span class="comments">;	converted to string.</span>
<span class="comments">;</span>
<span class="comments">; CALLING SEQEUNCE:</span>
<span class="comments">;	tmp = STRN( number, [ LENGTH=, PADTYPE=, PADCHAR=, FORMAT = ] )</span>
<span class="comments">;</span>
<span class="comments">; INPUT:</span>
<span class="comments">;	NUMBER    This is the input variable to be operated on.  Traditionally,</span>
<span class="comments">;		 it was a number, but it may be any scalar type.</span>
<span class="comments">;</span>
<span class="comments">; OPTIONAL INPUT:</span>
<span class="comments">;	LENGTH    This KEYWORD specifies the length of the returned string.  </span>
<span class="comments">;		If the output would have been longer, it is truncated.  If </span>
<span class="comments">;		the output would have been shorter, it is padded to the right </span>
<span class="comments">;		length.</span>
<span class="comments">;	PADTYPE   This KEYWORD specifies the type of padding to be used, if any.</span>
<span class="comments">;		0=Padded at End, 1=Padded at front, 2=Centered (pad front/end)</span>
<span class="comments">;		IF not specified, PADTYPE=1</span>
<span class="comments">;	PADCHAR   This KEYWORD specifies the character to be used when padding.</span>
<span class="comments">;		The default is a space (' ').</span>
<span class="comments">;	FORMAT    This keyword allows the FORTRAN type formatting of the input</span>
<span class="comments">;		number (e.g. '(f6.2)')</span>
<span class="comments">;</span>
<span class="comments">; OUTPUT:</span>
<span class="comments">;	tmp       The formatted string</span>
<span class="comments">;</span>
<span class="comments">; USEFUL EXAMPLES:</span>
<span class="comments">;	print,'Used ',strn(stars),' stars.'  ==> 'Used 22 stars.'</span>
<span class="comments">;	print,'Attempted ',strn(ret,leng=6,padt=1,padch='0'),' retries.'</span>
<span class="comments">;		==> 'Attempted 000043 retries.'</span>
<span class="comments">;	print,strn('M81 Star List',length=80,padtype=2)</span>
<span class="comments">;		==> an 80 character line with 'M81 Star List' centered.</span>
<span class="comments">;	print,'Error: ',strn(err,format='(f15.2)')</span>
<span class="comments">;		==> 'Error: 3.24'     or ==> 'Error: 323535.22'</span>
<span class="comments">;</span>
<span class="comments">; HISTORY:</span>
<span class="comments">;	03-JUL-90 Version 1 written by Eric W. Deutsch</span>
<span class="comments">;	10-JUL-90 Trimming and padding options added         (E. Deutsch)</span>
<span class="comments">;	29-JUL-91 Changed to keywords and header spiffed up     (E. Deutsch)</span>
<span class="comments">;	Ma7 92 Work correctly for byte values (W. Landsman)</span>
<span class="comments">;	19-NOV-92 Added Patch to work around IDL 2.4.0 bug which caused an</span>
<span class="comments">;	error when STRN('(123)') was encountered.            (E. Deutsch)</span>
<span class="comments">;	Converted to IDL V5.0   W. Landsman   September 1997</span>
<span class="comments">;-</span>
 On_error,2
  if ( N_params() LT 1 ) then begin
    print,'Call: IDL> tmp=STRN(number,[length=,padtype=,padchar=,format=])'
    print,"e.g.: IDL> print,'Executed ',strn(ret,leng=6,padt=1,padch='0'),' retries.'"
    return,''
    endif
  if (N_elements(padtype) eq 0) then padtype=1
  if (N_elements(padchar) eq 0) then padchar=' '
  if (N_elements(Format) eq 0) then Format=''

  padc = byte(padchar)
  pad = string(replicate(padc[0],200))

  ss=size(number) & PRN=1 & if (ss[1] eq 7) then PRN=0
  if ( Format EQ '') then tmp = strtrim( string(number, PRINT=PRN),2) $
    else tmp = strtrim( string( number, FORMAT=Format, PRINT=PRN),2)

  if (N_elements(length) eq 0) then length=strlen(tmp)

  if (strlen(tmp) gt length) then tmp=strmid(tmp,0,length)

  if (strlen(tmp) lt length) and (padtype eq 0) then begin
    tmp = tmp+strmid(pad,0,length-strlen(tmp))
    endif

  if (strlen(tmp) lt length) and (padtype eq 1) then begin
    tmp = strmid(pad,0,length-strlen(tmp))+tmp
    endif

  if (strlen(tmp) lt length) and (padtype eq 2) then begin
    padln=length-strlen(tmp) & padfr=padln/2 & padend=padln-padfr
    tmp=strmid(pad,0,padfr)+tmp+strmid(pad,0,padend)
    endif

  return,tmp
end
</code>
    </div>
  </body>
</html>