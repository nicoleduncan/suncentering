<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Mon Sep 30 16:58:01 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>sixty.pro (Documentation for ./)</title>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="sixty.pro (Documentation for ./)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">
    <div class="content">
      <code class="source">      FUNCTION sixty,scalar, Trailsign = trailsign
<span class="comments">;+</span>
<span class="comments">; NAME:</span>
<span class="comments">;	SIXTY()</span>
<span class="comments">; PURPOSE:</span>
<span class="comments">;	Converts a decimal number to sexagesimal.</span>
<span class="comments">; EXPLANATION:</span>
<span class="comments">;	Reverse of the TEN() function.</span>
<span class="comments">;</span>
<span class="comments">; CALLING SEQUENCE:</span>
<span class="comments">;	X = SIXTY( SCALAR, [ /TrailSign ] ) </span>
<span class="comments">;</span>
<span class="comments">; INPUTS:</span>
<span class="comments">;	SCALAR -- Decimal quantity.  </span>
<span class="comments">; OUTPUTS:</span>
<span class="comments">;	Function value returned = real vector of three elements, </span>
<span class="comments">;	sexagesimal equivalent of input decimal quantity.    Double</span>
<span class="comments">;       precision if the input is double, otherwise floating point.</span>
<span class="comments">;	By default, a negative number is signified by making the first non-zero</span>
<span class="comments">;	element of the output vection negative, but this can be modfied with</span>
<span class="comments">;       the /TrailSign keyword.</span>
<span class="comments">;</span>
<span class="comments">; OPTIONAL INPUT KEYWORD:</span>
<span class="comments">;      /TrailSign - By default, SIXTY() returns a negative sign in the first</span>
<span class="comments">;         nonzero element.   If /TrailSign is set, then SIXTY() will return</span>
<span class="comments">;         always return a negative sign in the first element, even if it is</span>
<span class="comments">;         zero</span>
<span class="comments">; PROCEDURE:</span>
<span class="comments">;	Mostly involves checking arguments and setting the sign.</span>
<span class="comments">;</span>
<span class="comments">; EXAMPLE:</span>
<span class="comments">;	If x = -0.345d then sixty(x) = [0.0, -20.0, 42.0]</span>
<span class="comments">;                      and sixty(x,/trail) = [-0.0, 20.0, 42.0]</span>
<span class="comments">; MODIFICATION HISTORY:</span>
<span class="comments">;	Written by R. S. Hill, STX, 19-OCT-87         </span>
<span class="comments">;	Output changed to single precision.  RSH, STX, 1/26/88</span>
<span class="comments">;	Accept single element vector   W. Landsman   Sep. 1996</span>
<span class="comments">;	Converted to IDL V5.0   W. Landsman   September 1997</span>
<span class="comments">;       Added /TrailSign keyword, preserve data type  </span>
<span class="comments">;                 B. Stecklum/ W. Landsman   March 2006</span>
<span class="comments">;-</span>

      if N_elements(scalar) NE 1 then begin
	      message,'ERROR - First parameter must contain 1 element',/CON
	      return,replicate(100.0e0,3)
      endif	

      ss=abs(3600.0d0*scalar)
      mm=abs(60.0d0*scalar) 
      dd=abs(scalar) 
      if size(scalar,/tname) EQ 'DOUBLE' then result = dblarr(3) else $
                                             result=fltarr(3)
      result[0]= fix(dd) 
      result[1]= fix(mm-60.0d0*result[0])
      result[2]= ss - 3600.d0*result[0] - 60.0d0*result[1]
     
      if scalar[0] lt 0.0d0 then begin 
         if keyword_set(trailsign) then result[0] = -result[0] else begin
            if result[0] ne 0 then result[0] = -result[0] else $
            if result[1] ne 0 then result[1] = -result[1] else $
            result[2] = -result[2]
	 endelse 
      endif

      return,result
      end
</code>
    </div>
  </body>
</html>