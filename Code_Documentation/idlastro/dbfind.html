<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Mon Sep 30 16:57:26 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>dbfind.pro (Documentation for ./)</title>

    

    <script type="text/javascript" src="../idldoc-resources/js/jquery.js"></script>
    <script type="text/javascript" src="../idldoc-resources/js/copybutton.js"></script>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="dbfind.pro (Documentation for ./)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">

    <div class="header">
      <h1>Documentation for ./</h1>
      <h2>Generated by IDLdoc</h2>
    </div>
    
    
    <table class="navbar smaller" summary="Navigation header" cellspacing="0">
      <tr>
        <td >
          <a href="../overview.html">Overview</a>
        </td>
    
        <td >
          Directory
        </td>
    
        <td class="selected">File</td>
    
        
        <td >
          <a href="dbfind-code.html" title="Chromocoded source">Source</a> <a href="dbfind.pro" title=".pro file"><img src="../idldoc-resources/attach.png" alt="[attach.png]" align="top"/></a>
        </td>
        
    
        <td >Etc</td>
    
        <td >
        	<a href="../categories.html">Categories</a>
        </td>
    
        <td >
        	<a href="../search.html">Search</a>
        </td>
    
        
        <td >
          <a href="../idldoc-index.html">Index</a>
        </td>
        
    
        
    
        <td >
          <a href="../idldoc-help.html">Help</a>
        </td>
    
        <td class="flexible">
          User documentation
        </td>
      </tr>
    </table>
    
    
    
    <p class="localnavbar smallest"><a href="" target="_top">single page</a> | <a href="../index.html" target="_top">use frames</a> &nbsp;&nbsp;&nbsp; summary &nbsp;&nbsp;&nbsp; class &nbsp;&nbsp;&nbsp; fields &nbsp;&nbsp;&nbsp; <a href="#routine-details">routine details</a> &nbsp;&nbsp;&nbsp; <a href="#attributes">file attributes</a></p>
    
    
    
    
    
    
    
    
    

    <div class="content">
      <h2 class="directory">idlastro/</h2>
      <h1 class="basename">dbfind.pro<span class="file-attributes"></span></h1>
      

      
      
      
      <br/>

      

      

      

      

      

      


      
      <div id="routine-details">
        

        
        <div class="routine-details details" id="dbfind">
          <h2 class="routine-name"><a href="#root" class="top">top</a> <a href="dbfind-code.html#dbfind:source" class="top">source</a> dbfind<span class="routine-attributes"></span></h2>

          

          <p class="syntax"><code><span class="var">result</span> = dbfind(<span class="argument"><a href="#dbfind:p:spar">spar</a></span><span class="argument">, <a href="#dbfind:p:listin">listin</a></span><span class="argument">, <a href="#dbfind:k:SILENT">SILENT</a>=<span class="var">SILENT</span></span><span class="argument">, <a href="#dbfind:k:fullstring">fullstring</a>=<span class="var">fullstring</span></span><span class="argument">, <a href="#dbfind:k:errmsg">errmsg</a>=<span class="var">errmsg</span></span><span class="argument">, <a href="#dbfind:k:Count">Count</a>=<span class="var">Count</span></span>)</code></p>

          
          <div class="small "><p> NAME:
    DBFIND()
 PURPOSE:
     Search data base for entries with specified characteristics
 EXPLANATION:
     Function to search data base for entries with specified
     search characteristics.
</p>

<p> CALLING SEQUENCE:
     result = dbfind(spar,[ listin, /SILENT, /FULLSTRING, ERRMSG=, Count = ])
</p>

<p> INPUTS:
     spar - search_parameters (string)...each search parameter
               is of the form:
</p>

<p>               option 1) min_val &lt; item_name &lt; max_val
               option 2) item_name = value
               option 3) item_name = [value_1, value_10]
                       Note: option 3 is also the slowest.
               option 4) item_name &gt; value
               option 5) item_name &lt; value
               option 6) item_name = value(tolerance) ;eg. temp=25.0(5.2)
               option 7) item_name                     ;must be non-zero
</p>

<p>               Multiple search parameters are separated by a comma.
               eg.     'cam_no=2,14&lt;ra&lt;20'
</p>

<p>               Note: &lt; is interpreted as less than or equal.
                     &gt; is interpreted as greater than or equal.
</p>

<p>               RA and DEC keyfields are stored as floating point numbers
               in the data base may be entered as HH:MM:SEC and
               DEG:MIN:SEC. Where:
</p>

<p>                       HH:MM:SEC   equals  HH + MM/60.0  + SEC/3600.
                       DEG:MIN:SEC equals DEG + MIN/60.0 + SEC/3600.
</p>

<p>               For example:
                       40:34:10.5 &lt; dec &lt; 43:25:19 , 8:22:1.0 &lt; ra &lt; 8:23:23.0
</p>

<p>               Specially encoded date/time in the data base may
               be entered by  CCYY/DAY:hr:min:sec which is
               interpreted as
                       CCYY*1000+DAY+hr/24.0+min/24.0/60.+sec/24.0/3600.
               If a two digit year is supplied and YY GE 40 then it is
               understood to refer to year 1900 +YY;  if YY LT 40 then it is
               understood to refer to year 2000 +YY
               For example
                       1985/201:10:35:30&lt;date_time&lt;1985/302:10:33:33.4
               would specify all entries between:
                       year 1985 day 201 at 10:35:30 to
                       day 302 at 10:33:33.4
               The date/time may also be encoded as:
                       DD-MMM-YEAR HH::MM:SS.SS
                       eg.  12-JUL-86 10:23:33.45
               (this is the format of system variable !stime)
</p>

<p>               Multiple search parameters may be stored in a string
               array (one parameter per array element) instead of
               concatenating them with commas in a single string.
               Example:
                       input_array = strarr(2)
                       input_array[0] = '14&lt;ra&lt;16'   ; 14-16 hrs of ra.
                       input_array[1] = '8&lt;dec&lt;20'   ; + 8-20 deg. decl.
</p>

<p> OPTIONAL INPUT:
       listin - gives list of entries to be searched.  If not supplied or
               set to -1 then all entries are searched.
</p>

<p> OUTPUT:
       List of ENTRY numbers satisfying search characteristics
               is returned as the function value.
</p>

<p> OPTIONAL INPUT KEYWORDS:
       /SILENT  - If the keyword SILENT is set and non-zero, then DBFIND
               will not print the number of entries found.
</p>

<p>       /FULLSTRING - By default, one has a match if a search string is
               included in any part of a database value (substring match).
               But if /FULLSTRING is set, then all characters in the database
               value must match the search string (excluding leading and
               trailing blanks).    Both types of string searches are case
               insensitive.
</p>

<p>       ERRMSG   = If defined and passed, then any error messages will
                  be returned to the user in this parameter rather
                  than depending on the MESSAGE routine in IDL.  If no
                  errors are encountered, then a null string is
                  returned.  In order to use this feature, ERRMSG must
                  be defined first, e.g.
</p>

<p>                       ERRMSG = ''
                       DB_ITEM, ERRMSG=ERRMSG, ...
                       IF ERRMSG NE '' THEN ...;
</p>

<p> OPTIONAL OUTPUT KEYWORD:
       COUNT - Integer scalar giving the number of valid matches
 PROCEDURE CALLS:
       DB_INFO, DB_ITEM, DB_ITEM_INFO, DBEXT, DBEXT_IND, DBFIND_ENTRY,
       DBFIND_SORT, DBFPARSE, DBRD, DBSEARCH, ZPARCHECK,IS_IEEE_BIG
</p>

<p> RESTRICTIONS:
       The data base must be previously opened with DBOPEN.
</p>

<p> SIDE EFFECTS:
       The obsolete system variable !ERR is set to number of entries found
</p>

<p> REVISION HISTORY:
       Written     :   D. Lindler, GSFC/HRS, November 1987
       Version 2, Wayne Landsman, GSFC/UIT (STX), 1 April 1994
                       Added FULLSTRING keyword.
       Version 3, William Thompson, GSFC, 1 April 1994
                       Added check for empty database
       Version 4, William Thompson, GSFC, 5 April 1994
                       Changed so that !ERR is zero when database is empty,
                       and LISTIN is returned, based on discussion with Wayne
                       Landsman.
       Version 5, Wayne Landsman, GSFC/UIT (STX), 26 May 1994
                       Added error message when database is empty.
       Version 6, William Thompson, GSFC, 14 March 1995
                       Added FULLSTRING keyword to DBFIND_SORT call
       Version 7, Richard Schwartz, GSFC/SDAC 23 August 1996
                       Move external to host conversion from DBRD to
                       operation on extracted values only.
       Version 8, William Thompson, GSFC, 3 December 1996
                       Renamed BYTESWAP variable to BSWAP--appeared to be
                       conflicting with function of same name.
       Version 9, William Thompson, GSFC, 17-Mar-1997
                       Added keyword ERRMSG
       Version 10, July, 1997  W. Landsman, added CATCH errors
       Converted to IDL V5.0   W. Landsman   October 1997
       Update documentation for new Y2K compliant DBFPARSE W. Landsman Nov 1998
       Suppress empty database message with /SILENT, W. Landsman Jan 1999
       Added COUNT keyword, deprecate !ERR        W. Landsman March 2000
       Added new unsigned & 64bit datatypes       W. Landsman July 2001
       Fix possible floating illegand operand error W. Landsman July 2009
       Change arrays to LONG to support entries &gt;32767 bytes W.L. Oct. 2010
</p>

</div>
          

          

          
          <h3>Parameters</h3>
            <dl>
              
              <dt id="dbfind:p:spar">spar <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="dbfind:p:listin">listin <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
            </dl>
          

          
          <h3>Keywords</h3>
            <dl>
              
              <dt id="dbfind:k:SILENT">SILENT <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="dbfind:k:fullstring">fullstring <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="dbfind:k:errmsg">errmsg <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="dbfind:k:Count">Count <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
            </dl>
          

          

          

          

          

        </div>
        

      </div>
      

      <div id="attributes">
        <h2>File attributes</h2>

        <table class="attribute small" summary="File attributes">
          <tr>
            <td class="name">Modification date:</td>
            <td>Tue Oct 23 10:15:49 2012</td>
          </tr>

          <tr>
            <td class="name">Lines:</td>
            <td>381</td>
          </tr>

          
        </table>
      </div>

      
    </div>

    <div class="footer">
    
      <table class="smaller" summary="footer">
        <tr>
          <td class="left">Produced by IDLdoc 3.5.1 on Mon Sep 30 16:57:26 2013</td>
          <td class="right"><a target="_top" href="http://idldoc.idldev.com">IDLdoc project information</a></td>
        </tr>
      </table>
    
    </div>
  </body>
</html>