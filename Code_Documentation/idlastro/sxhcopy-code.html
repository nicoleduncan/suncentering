<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Mon Sep 30 16:58:04 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>sxhcopy.pro (Documentation for ./)</title>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="sxhcopy.pro (Documentation for ./)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">
    <div class="content">
      <code class="source"><a id="sxhcopy:source"></a>pro sxhcopy, h, keyword1, keyword2, hout
<span class="comments">;+</span>
<span class="comments">; NAME:</span>
<span class="comments">;	SXHCOPY                            </span>
<span class="comments">; PURPOSE:</span>
<span class="comments">;	Copies selected portions of one header to another</span>
<span class="comments">;</span>
<span class="comments">; CALLING SEQUENCE:</span>
<span class="comments">;	sxhcopy, h, keyword1, keyword2, hout</span>
<span class="comments">;</span>
<span class="comments">; INPUTS:</span>
<span class="comments">;	h - input header</span>
<span class="comments">;	keyword1 - first keyword to copy</span>
<span class="comments">;	keyword2 - last keyword to copy</span>
<span class="comments">;</span>
<span class="comments">; INPUT/OUTPUT:</span>
<span class="comments">;	hout - header to copy the information to.</span>
<span class="comments">;</span>
<span class="comments">; METHOD:</span>
<span class="comments">;	the headers lines from keyword1 to keyword2 are copied to</span>
<span class="comments">;	the end of the output header.  No check is made to verify</span>
<span class="comments">;	that a keyword value already exists in the output header.</span>
<span class="comments">;</span>
<span class="comments">; HISTORY:</span>
<span class="comments">;	version 1  D. Lindler    Sept. 1989</span>
<span class="comments">;	Converted to IDL V5.0   W. Landsman   September 1997</span>
<span class="comments">;-</span>
<span class="comments">;--------------------------------------------------------------------------</span>
<span class="comments">;</span>
<span class="comments">; make keywords 8 characters long (upper case)</span>
<span class="comments">;</span>
	key1 = strmid(strupcase(keyword1+'        '),0,8)
	key2 = strmid(strupcase(keyword2+'        '),0,8)
<span class="comments">;</span>
<span class="comments">; get header lengths</span>
<span class="comments">;</span>
	n = n_elements(h)
	nout = n_elements(hout)
<span class="comments">;</span>
<span class="comments">; find position of first keyword in h</span>
<span class="comments">;</span>
	i1 = 0

	while i1 lt n do begin
		key = strmid(h[i1],0,8)
		if key1 eq key then goto,found1
		if key eq 'END     ' then begin
			print,'SXHCOPY -- keyword '+key1+' not found in header.'
			print,'           Nothing copied to output header.'
			return
		endif
		i1 = i1+1
	endwhile
found1:
<span class="comments">;</span>
<span class="comments">; find position of second keyword</span>
<span class="comments">;</span>
	i2 = i1
	while i2 lt n do begin
		key = strmid(h[i2],0,8)
		if key eq 'END     ' then begin
			i2 = i2-1		<span class="comments">;do not copy 'END     '</span>
			goto,found2
		endif
		if key2 eq key then goto,found2
		i2 = i2+1
	endwhile
found2:
<span class="comments">;</span>
<span class="comments">; find end of output header</span>
<span class="comments">;</span>
	i = 0
	while i lt nout do begin
		if strmid(hout[i],0,8) eq 'END     ' then goto,found
		i = i+1
	endwhile
	message,'No END keyword found in output header'
found:
<span class="comments">;</span>
<span class="comments">; create new output header</span>
<span class="comments">;</span>
	if i gt 0 then hout=[hout[0:i-1],h[i1:i2],hout[i]] $
		  else hout=[h[i1:i2],hout[i]]
return
end
</code>
    </div>
  </body>
</html>