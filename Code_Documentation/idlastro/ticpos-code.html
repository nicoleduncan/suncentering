<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Mon Sep 30 16:58:09 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>ticpos.pro (Documentation for ./)</title>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="ticpos.pro (Documentation for ./)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">
    <div class="content">
      <code class="source"><a id="ticpos:source"></a>pro ticpos,deglen,pixlen,ticsize,incr,units      <span class="comments">;Compute tic positions</span>
<span class="comments">;+</span>
<span class="comments">; NAME:</span>
<span class="comments">;       TICPOS</span>
<span class="comments">; PURPOSE:</span>
<span class="comments">;       Specify distance between tic marks for astronomical coordinate overlays</span>
<span class="comments">; EXPLANATION:</span>
<span class="comments">;       User inputs number an approximate distance</span>
<span class="comments">;       between tic marks, and the axis length in degrees.  TICPOS will return </span>
<span class="comments">;       a distance between tic marks such that the separation is a round</span>
<span class="comments">;       multiple in arc seconds, arc minutes, or degrees</span>
<span class="comments">;</span>
<span class="comments">; CALLING SEQUENCE:</span>
<span class="comments">;       TICPOS, deglen, pixlen, ticsize, incr, units</span>
<span class="comments">;</span>
<span class="comments">; INPUTS:</span>
<span class="comments">;       deglen - length of axis in DEGREES</span>
<span class="comments">;       pixlen - length of axis in plotting units (pixels)</span>
<span class="comments">;       ticsize - distance between tic marks (pixels).  This value will be</span>
<span class="comments">;               adjusted by TICPOS such that the distance corresponds to</span>
<span class="comments">;               a round multiple in the astronomical coordinate.</span>
<span class="comments">;</span>
<span class="comments">; OUTPUTS:</span>
<span class="comments">;       ticsize - distance between tic marks (pixels), positive scalar </span>
<span class="comments">;       incr    - incremental value for tic marks in round units given </span>
<span class="comments">;               by the UNITS parameter</span>
<span class="comments">;       units - string giving units of ticsize, either 'ARC SECONDS',</span>
<span class="comments">;               'ARC MINUTES', or 'DEGREES'</span>
<span class="comments">;</span>
<span class="comments">; EXAMPLE:</span>
<span class="comments">;       Suppose a 512 x 512 image array corresponds to 0.2 x 0.2 degrees on</span>
<span class="comments">;       the sky.   A tic mark is desired in round angular units, approximately </span>
<span class="comments">;       every 75 pixels.</span>
<span class="comments">;</span>
<span class="comments">;       IDL> ticsize = 75</span>
<span class="comments">;       IDL> TICPOS,0.2,512,ticsize,incr,units   </span>
<span class="comments">;</span>
<span class="comments">;       ==> ticsize = 85.333, incr = 2. units = 'Arc Minutes'</span>
<span class="comments">;</span>
<span class="comments">;       i.e. a good tic mark spacing is every 2 arc minutes, corresponding</span>
<span class="comments">;       to 85.333 pixels.</span>
<span class="comments">;</span>
<span class="comments">; REVISON HISTORY:</span>
<span class="comments">;       written by W. Landsman            November, 1988</span>
<span class="comments">;       Converted to IDL V5.0   W. Landsman   September 1997</span>
<span class="comments">;       Don't use all capital letters  W. Landsman May 2003</span>
<span class="comments">;       Fix case where incr crosses degree/minute or minute/degree boundary</span>
<span class="comments">;               A. Mortier/W.Landsman April 2005</span>
<span class="comments">;-</span>
  On_error,2

  minpix = deglen*60./pixlen            <span class="comments">;Arc minute per pixel</span>
  incr = minpix*ticsize                 <span class="comments">;Arc minutes between tics</span>

  if (incr LT 0 ) then sgn = -1 else sgn = 1
  incr = abs(incr)
  if ( incr GE 30 )  then units = 'Degrees' else $
  if ( incr LE 0.5 ) then units = 'Arc Seconds'  $
                     else units = 'Arc Minutes'
<span class="comments">;                                        determine increment</span>
  case 1 of 

    incr GE 120.0  : incr =  4.         <span class="comments">;degrees</span>
    incr GE  60.0  : incr =  2.         <span class="comments">;degrees</span>
    incr GE  30.0  : incr =  1.         <span class="comments">;degrees</span>
    incr GT  15.0  : incr = 30.         <span class="comments">;minutes </span>
    incr GE  10.0  : incr = 15.         <span class="comments">;minutes  </span>
    incr GE   5.0  : incr = 10.         <span class="comments">;minutes</span>
    incr GE   2.0  : incr =  5.         <span class="comments">;minutes</span>
    incr GE   1.0  : incr =  2.         <span class="comments">;minutes</span>
    incr GT   0.5  : incr =  1.         <span class="comments">;minutes</span>
    incr GE   0.25 : incr = 30.         <span class="comments">;seconds</span>
    incr GE   0.16 : incr = 15.         <span class="comments">;seconds</span>
    incr GE   0.08 : incr = 10.         <span class="comments">;seconds</span>
    incr GE   0.04 : incr =  5.         <span class="comments">;seconds</span>
    incr GE   0.02 : incr = 2.           <span class="comments">;seconds</span>
    incr LT   0.02 : incr = 1.           <span class="comments">;seconds</span>
  
  endcase                                         

  if ( units EQ 'Arc Seconds' ) then minpix = minpix*60. else $
  if ( units EQ 'Degrees' )  then minpix = minpix/60.

  ticsize= incr/abs(minpix)                <span class="comments">;determine ticsize</span>
  incr = incr*sgn
 
  return 
  end
</code>
    </div>
  </body>
</html>