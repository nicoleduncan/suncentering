<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Mon Sep 30 16:57:33 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>fthmod.pro (Documentation for ./)</title>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="fthmod.pro (Documentation for ./)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">
    <div class="content">
      <code class="source"><a id="fthmod:source"></a>pro fthmod,h,field,parameter,value
<span class="comments">;+</span>
<span class="comments">; NAME:</span>
<span class="comments">;       FTHMOD</span>
<span class="comments">; PURPOSE:</span>
<span class="comments">;       Procedure to modify header information for a specified field</span>
<span class="comments">;       in a FITS table.</span>
<span class="comments">;</span>
<span class="comments">; CALLING SEQUENCE:</span>
<span class="comments">;       fthmod, h, field, parameter, value</span>
<span class="comments">;       </span>
<span class="comments">; INPUT:</span>
<span class="comments">;       h - FITS header for the table</span>
<span class="comments">;       field - field name or number</span>
<span class="comments">;       parameter - string name of the parameter to modify.  Choices</span>
<span class="comments">;               include:</span>
<span class="comments">;                       TTYPE - field name</span>
<span class="comments">;                       TUNIT - physical units for field (eg. 'ANGSTROMS')</span>
<span class="comments">;                       TNULL - null value (string) for field, (eg. '***')</span>
<span class="comments">;                       TFORM - format specification for the field</span>
<span class="comments">;                       TSCAL - scale factor</span>
<span class="comments">;                       TZERO - zero offset</span>
<span class="comments">;               User should be aware that the validity of the change is</span>
<span class="comments">;               not checked.  Unless you really know what you are doing,</span>
<span class="comments">;               this routine should only be used to change field names,</span>
<span class="comments">;               units, or another user specified parameter.</span>
<span class="comments">;       value - new value for the parameter.  Refer to the FITS table</span>
<span class="comments">;               standards documentation for valid values.</span>
<span class="comments">;</span>
<span class="comments">; EXAMPLE:</span>
<span class="comments">;      Change the units for a field name "FLUX" to "Janskys" in a FITS table</span>
<span class="comments">;        header,h</span>
<span class="comments">;</span>
<span class="comments">;      IDL> FTHMOD, h, 'FLUX', 'TUNIT','Janskys' </span>
<span class="comments">; METHOD:</span>
<span class="comments">;       The header keyword &lt;parameter>&lt;field number> is modified</span>
<span class="comments">;       with the new value.</span>
<span class="comments">; HISTORY:</span>
<span class="comments">;       version 1, D. Lindler  July 1987</span>
<span class="comments">;       Converted to IDL V5.0   W. Landsman   September 1997</span>
<span class="comments">;       Major rewrite to use new FTINFO call   W. Landsman   May 2000</span>
<span class="comments">;-</span>
<span class="comments">;-----------------------------------------------------------------------</span>
on_error,2

 ftinfo,h,ft_str
 sz = size(field)
 if ((sz[0] ne 0) or (sz[1] EQ 0)) then $
      message,'Invalid field specification, it must be a scalar'

 if sz[1] EQ 7 then begin
    field = strupcase(strtrim(field,2))
    ttype = strtrim(ft_str.ttype,2)
    ipos = where(ttype EQ field, Npos)
    if Npos EQ 0 then message, $ 
        'Specified field ' + strupcase(strtrim(field,2)) + ' not in table'
 endif else ipos = field -1

<span class="comments">;</span>
 par = parameter+strtrim(ipos[0]+1,2)
 sxaddpar,h,par,value
return
end
</code>
    </div>
  </body>
</html>