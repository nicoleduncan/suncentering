<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Mon Sep 30 16:57:30 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>fits_help.pro (Documentation for ./)</title>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="fits_help.pro (Documentation for ./)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">
    <div class="content">
      <code class="source"><a id="fits_help:source"></a>pro fits_help,file_or_fcb
<span class="comments">;+</span>
<span class="comments">; NAME:</span>
<span class="comments">;       FITS_HELP</span>
<span class="comments">;</span>
<span class="comments">; PURPOSE:</span>
<span class="comments">;       To print a summary of the primary data units and extensions in a</span>
<span class="comments">;       FITS file.</span>
<span class="comments">;;</span>
<span class="comments">; CALLING SEQUENCE:</span>
<span class="comments">;       FITS_HELP,filename_or_fcb</span>
<span class="comments">;</span>
<span class="comments">; INPUTS:</span>
<span class="comments">;       FILENAME_OR_FCB - name of the fits file or the FITS Control Block (FCB)</span>
<span class="comments">;               structure returned by FITS_OPEN.     The  file name is allowed </span>
<span class="comments">;               to be gzip compressed (with a .gz  extension)</span>
<span class="comments">;</span>
<span class="comments">; OUTPUTS:</span>
<span class="comments">;       A summary of the FITS file is printed.   For each extension, the values</span>
<span class="comments">;       of the XTENSION, EXTNAME EXTVER EXTLEVEL BITPIX GCOUNT, PCOUNT NAXIS </span>
<span class="comments">;       and NAXIS* keywords are displayed. </span>
<span class="comments">; </span>
<span class="comments">;</span>
<span class="comments">; EXAMPLES:</span>
<span class="comments">;       FITS_HELP,'myfile.fits'</span>
<span class="comments">;</span>
<span class="comments">;       FITS_OPEN,'anotherfile.fits',fcb</span>
<span class="comments">;       FITS_HELP,fcb</span>
<span class="comments">;</span>
<span class="comments">; PROCEDURES USED:</span>
<span class="comments">;       FITS_OPEN, FITS_CLOSE</span>
<span class="comments">; HISTORY:</span>
<span class="comments">;       Written by:     D. Lindler      August, 1995</span>
<span class="comments">;       Converted to IDL V5.0   W. Landsman   September 1997</span>
<span class="comments">;       Don't truncate EXTNAME values at 10 chars  W. Landsman Feb. 2005</span>
<span class="comments">;       Use V6.0 notation W. Landsman Jan 2012</span>
<span class="comments">;-</span>
<span class="comments">;-----------------------------------------------------------------------------</span>
 compile_opt idl2
<span class="comments">;</span>
<span class="comments">; print calling sequence</span>
<span class="comments">;</span>
        if N_params() eq 0 then begin
          print,'Syntax -  FITS_HELP,file_or_fcb'
          return
        endif
<span class="comments">;</span>
<span class="comments">; Open file if file name is supplied</span>
<span class="comments">;</span>
        fcbtype = size(file_or_fcb,/type) 
        fcbsize = n_elements(file_or_fcb)
        if (fcbsize ne 1) || ((fcbtype ne 7) && (fcbtype ne 8)) then begin
                message, 'Invalid Filename or FCB supplied',/con
                return
        end

        if fcbtype eq 7 then fits_open,file_or_fcb,fcb $
                        else fcb = file_or_fcb
                        
<span class="comments">; EXTNAME will always be displayed with a length of at least 10 characters</span>
<span class="comments">; but allow for possibility that lengths might be longer than this </span>

        maxlen = max(strlen(fcb.extname)) > 10 
        if maxlen EQ 10 then space = '' else $
            space = string(replicate(32b, maxlen -10))                  
<span class="comments">;</span>
<span class="comments">; print headings</span>
<span class="comments">;</span>
        print,' '
        print,FCB.FILENAME
        print,' '
        print,'     XTENSION  EXTNAME  '+ space + $
              'EXTVER EXTLEVEL BITPIX GCOUNT  PCOUNT NAXIS  NAXIS*'
        print,' '
<span class="comments">;</span>
<span class="comments">; loop on extensions</span>
<span class="comments">;</span>
        for i=0,fcb.nextend do begin
                st = string(i,'(I4)')
<span class="comments">;</span>
<span class="comments">; xtension, extname, extver, extlevel (except for i=0)</span>
<span class="comments">;</span>
                if i gt 0 then begin
                        t = fcb.xtension[i]
                        while strlen(t) lt 8 do t += ' '
                        st +=  ' '+ strmid(t,0,8)
                        t = fcb.extname[i]
                        while strlen(t) lt maxlen do t += ' '
                        st += ' '+ strmid(t,0,maxlen)               
                        t = fcb.extver[i]
                        if t eq 0 then st += '     ' $
                                  else st += string(t,'(I5)')
                        t = fcb.extlevel[i]
                        if t eq 0 then st +=  '        ' $
                                  else st += string(t,'(I8)')
                end else st += '                                 ' + space
<span class="comments">;</span>
<span class="comments">; bitpix, gcount, pcount, naxis</span>
<span class="comments">;</span>
                st += string(fcb.bitpix[i],'(I6)')
                st += string(fcb.gcount[i],'(I7)')
                st += string(fcb.pcount[i],'(I7)')
                st += string(fcb.naxis[i],'(I6)')
<span class="comments">;</span>
<span class="comments">; naxis*</span>
<span class="comments">;</span>
                st += '  '
                if fcb.naxis[i] gt 0 then begin
                    nax1 = fcb.naxis[i] - 1
                    st += strjoin(strtrim(fcb.axis[0:nax1,i],2),' x ')
                endif
<span class="comments">;</span>
<span class="comments">; print the info</span>
<span class="comments">;</span>
                print,st
        end
        if fcbtype eq 7 then fits_close,fcb
return
end
</code>
    </div>
  </body>
</html>