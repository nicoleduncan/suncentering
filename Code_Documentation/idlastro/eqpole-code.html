<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Mon Sep 30 16:57:28 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>eqpole.pro (Documentation for ./)</title>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="eqpole.pro (Documentation for ./)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">
    <div class="content">
      <code class="source"><a id="eqpole:source"></a>pro eqpole,l,b,x,y,southpole=southpole
<span class="comments">;+</span>
<span class="comments">; NAME:</span>
<span class="comments">;       EQPOLE</span>
<span class="comments">; PURPOSE:</span>
<span class="comments">;       Convert RA and Dec to X,Y using an equal-area polar projection.</span>
<span class="comments">; EXPLANATION:</span>
<span class="comments">;       The output X and Y coordinates are scaled to be between</span>
<span class="comments">;       -90 and +90 to go from equator to pole to equator. Output map points </span>
<span class="comments">;       can be centered on the north pole or south pole.</span>
<span class="comments">;</span>
<span class="comments">; CALLING SEQUENCE:</span>
<span class="comments">;       EQPOLE, L, B, X, Y, [ /SOUTHPOLE ]</span>
<span class="comments">;</span>
<span class="comments">; INPUTS:</span>
<span class="comments">;       L - longitude - scalar or vector, in degrees</span>
<span class="comments">;       B - latitude - same number of elements as RA, in degrees</span>
<span class="comments">;</span>
<span class="comments">; OUTPUTS:</span>
<span class="comments">;       X - X coordinate, same number of elements as RA.   X is normalized to</span>
<span class="comments">;               be between -90 and 90.</span>
<span class="comments">;       Y - Y coordinate, same number of elements as DEC.  Y is normalized to</span>
<span class="comments">;               be between -90 and 90.</span>
<span class="comments">;</span>
<span class="comments">; KEYWORDS:</span>
<span class="comments">;</span>
<span class="comments">;       /SOUTHPOLE      - Keyword to indicate that the plot is to be centered </span>
<span class="comments">;               on the south pole instead of the north pole.</span>
<span class="comments">;</span>
<span class="comments">; REVISION HISTORY:</span>
<span class="comments">;       J. Bloch        LANL, SST-9     1.1     5/16/91</span>
<span class="comments">;       Converted to IDL V5.0   W. Landsman   September 1997</span>
<span class="comments">;-</span>

 if N_params() NE 4 then begin
     print,'Syntax - EQPOLE,L, B, X, Y, [/SOUTHPOLE]'
     print,'         Input longitude L, latitude B in *degrees*'
     return
 endif

 if keyword_set(southpole) then begin
        l1 = double(-l/!RADEG)
        b1 = double(-b/!RADEG)
 endif else begin
        l1 = double(l/!RADEG)
        b1 = double(b/!RADEG)
 endelse

 sq = 2.0d0*(1.0d0 - sin(double(b1)))
 chk = where(sq lt 0.0d0)
 if chk[0] ge 0 then sq[chk] = 0.0d0
 r = 18.0d0*3.53553391d0*sqrt(sq)
 y =r*cos(l1)
 x =r*sin(l1)

 return
 end
</code>
    </div>
  </body>
</html>