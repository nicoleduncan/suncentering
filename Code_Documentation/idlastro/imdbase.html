<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Mon Sep 30 16:57:42 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>imdbase.pro (Documentation for ./)</title>

    

    <script type="text/javascript" src="../idldoc-resources/js/jquery.js"></script>
    <script type="text/javascript" src="../idldoc-resources/js/copybutton.js"></script>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="imdbase.pro (Documentation for ./)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">

    <div class="header">
      <h1>Documentation for ./</h1>
      <h2>Generated by IDLdoc</h2>
    </div>
    
    
    <table class="navbar smaller" summary="Navigation header" cellspacing="0">
      <tr>
        <td >
          <a href="../overview.html">Overview</a>
        </td>
    
        <td >
          Directory
        </td>
    
        <td class="selected">File</td>
    
        
        <td >
          <a href="imdbase-code.html" title="Chromocoded source">Source</a> <a href="imdbase.pro" title=".pro file"><img src="../idldoc-resources/attach.png" alt="[attach.png]" align="top"/></a>
        </td>
        
    
        <td >Etc</td>
    
        <td >
        	<a href="../categories.html">Categories</a>
        </td>
    
        <td >
        	<a href="../search.html">Search</a>
        </td>
    
        
        <td >
          <a href="../idldoc-index.html">Index</a>
        </td>
        
    
        
    
        <td >
          <a href="../idldoc-help.html">Help</a>
        </td>
    
        <td class="flexible">
          User documentation
        </td>
      </tr>
    </table>
    
    
    
    <p class="localnavbar smallest"><a href="" target="_top">single page</a> | <a href="../index.html" target="_top">use frames</a> &nbsp;&nbsp;&nbsp; summary &nbsp;&nbsp;&nbsp; class &nbsp;&nbsp;&nbsp; fields &nbsp;&nbsp;&nbsp; <a href="#routine-details">routine details</a> &nbsp;&nbsp;&nbsp; <a href="#attributes">file attributes</a></p>
    
    
    
    
    
    
    
    
    

    <div class="content">
      <h2 class="directory">idlastro/</h2>
      <h1 class="basename">imdbase.pro<span class="file-attributes"></span></h1>
      

      
      
      
      <br/>

      

      

      

      

      

      


      
      <div id="routine-details">
        

        
        <div class="routine-details details" id="imdbase">
          <h2 class="routine-name"><a href="#root" class="top">top</a> <a href="imdbase-code.html#imdbase:source" class="top">source</a> imdbase<span class="routine-attributes"></span></h2>

          

          <p class="syntax"><code>imdbase<span class="argument">, <a href="#imdbase:p:hdr">hdr</a></span><span class="argument">, <a href="#imdbase:p:catalogue">catalogue</a></span><span class="argument">, <a href="#imdbase:p:list">list</a></span><span class="argument">, <a href="#imdbase:k:XPOS">XPOS</a>=<span class="var">XPOS</span></span><span class="argument">, <a href="#imdbase:k:YPOS">YPOS</a>=<span class="var">YPOS</span></span><span class="argument">, <a href="#imdbase:k:SILENT">SILENT</a>=<span class="var">SILENT</span></span><span class="argument">, <a href="#imdbase:k:XRANGE">XRANGE</a>=<span class="var">XRANGE</span></span><span class="argument">, <a href="#imdbase:k:YRANGE">YRANGE</a>=<span class="var">YRANGE</span></span><span class="argument">, <a href="#imdbase:k:SUBLIST">SUBLIST</a>=<span class="var">SUBLIST</span></span><span class="argument">, <a href="#imdbase:k:ALT">ALT</a>=<span class="var">ALT</span></span></code></p>

          
          <div class="small "><p> NAME:
     IMDBASE
 PURPOSE:
     Find the sources in an IDL database that are located on a given image.
</p>

<p> CALLING SEQUENCE:
    imdbase, hdr, [catalogue, list, ALT=, XPOS= ,YPOS=, XRANGE= ,YRANGE= ,
                       SUBLIST =, /SILENT ]
</p>

<p> INPUTS:
    hdr - FITS image header containing astrometry, and the NAXIS1,
               NAXIS2 keywords giving the image size
    catalogue - string giving name of catalogue in database.   If not supplied
              then the currently open database is used.   The database must
              contain the (preferably indexed) fields RA (in hours) and DEC.
              Type DBHELP for a list of the names of available catalogues.
</p>

<p> OPTIONAL OUTPUT PARAMETER:
    LIST - A longwprd vector containing the entry numbers of sources found
           within the image.   This vector can then be used with other
           database procedures, e.g. to print specified fields (DBPRINT)
           or subselect with further criteria (DBFIND)
</p>

<p> OPTIONAL OUTPUT KEYWORD PARAMETER:
     XPOS - REAL*4 vector giving X positions of catalogue sources found
            within the image
     YPOS - REAL*4 vector giving Y positions of catalogue sources found
            within the image
</p>

<p> OPTIONAL INPUT KEYWORD PARAMETERS
       ALT -  single character 'A' through 'Z' or ' ' specifying an alternate
              astrometry system present in the FITS header.    The default is
              to use the primary astrometry or ALT = ' '.   If /ALT is set,
              then this is equivalent to ALT = 'A'.   See Section 3.3 of
              Greisen & Calabretta (2002, A&A, 395, 1061) for information about
              alternate astrometry keywords.
     SILENT - If set, then informational messages are suppressed
     SUBLIST - vector giving entries in the database to consider in the
               search.  If not supplied, or set equal to -1, then all entries
               are considered.
     XRANGE - 2 element vector giving the X range of the image to consider.
              The default is to search for catalogue sources within the entire
             image
     YRANGE - 2 element vector giving the Y range of the image to consider.
</p>

<p> NOTES:
     If an output list vector is not supplied, then the found objects are
     diplayed at the terminal.
</p>

<p> EXAMPLE:
      Find all existing IUE observations within the field of the FITS
      file fuv0435fc.fits.  Subselect those taken with the SWP camera
</p>

<p>      H = HEADFITS('fuv0435f.fits')             ;Read FITS header
      IMDBASE,H,'IUE',list              ;Find IUE obs. within image
      list2 = DBFIND('CAM_NO=3',list)   ;Subselect on SWP images
</p>

<p> SIDE EFFECTS:
      The IDL database is left open upon exiting IMDBASE.
 NOTES:
      IMDBASE checks the description of the RA item in the database for the
      string '1950'.    If found, the database RA and Dec are assumed to be
      in equinox B1950.   Otherwise they are assumed to be in ICRS or J2000.
</p>

<p> SYSTEM VARIABLES:
      The non-standard system variable !TEXTOUT is required for use with the
      database procedures.
</p>

<p> PROCEDURES USED:
      AD2XY, DBEXT, DB_ITEM, DB_ITEM_INFO(), DBOPEN, DBFIND(), EXTAST,
      GET_EQUINOX(), GSSSADXY, GSSSXYAD, HPRECESS, SXPAR(), XY2AD
 REVISION HISTORY:
      Written W. Landsman            September, 1988
      Added SUBLIST keyword          September, 1991
      Updated to use ASTROMETRY structures    J.D. Offenberg, HSTX, Jan 1993
      Conversion for precession fixed.   R.Hill, HSTX, 22-Apr-93
      Check RA description for equinox   W. Landsman  Aug 96
      Call HPRECESS if header equinox does not match DB  W. Landsman Oct. 1998
      Assume Equinox J2000 if not explicitly B1950 W. Landsman Jan. 2005
      Added ALT keyword W. Landsman  April 2005
      Use open database, if no catalogue name given  W.L  April 2008
      Added /SILENT keyword W.L. Mar 2009
</p>

</div>
          

          

          
          <h3>Parameters</h3>
            <dl>
              
              <dt id="imdbase:p:hdr">hdr <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="imdbase:p:catalogue">catalogue <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="imdbase:p:list">list <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
            </dl>
          

          
          <h3>Keywords</h3>
            <dl>
              
              <dt id="imdbase:k:XPOS">XPOS <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="imdbase:k:YPOS">YPOS <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="imdbase:k:SILENT">SILENT <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="imdbase:k:XRANGE">XRANGE <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="imdbase:k:YRANGE">YRANGE <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="imdbase:k:SUBLIST">SUBLIST <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="imdbase:k:ALT">ALT <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
            </dl>
          

          

          

          

          

        </div>
        

      </div>
      

      <div id="attributes">
        <h2>File attributes</h2>

        <table class="attribute small" summary="File attributes">
          <tr>
            <td class="name">Modification date:</td>
            <td>Tue Oct 23 10:15:49 2012</td>
          </tr>

          <tr>
            <td class="name">Lines:</td>
            <td>204</td>
          </tr>

          
        </table>
      </div>

      
    </div>

    <div class="footer">
    
      <table class="smaller" summary="footer">
        <tr>
          <td class="left">Produced by IDLdoc 3.5.1 on Mon Sep 30 16:57:42 2013</td>
          <td class="right"><a target="_top" href="http://idldoc.idldev.com">IDLdoc project information</a></td>
        </tr>
      </table>
    
    </div>
  </body>
</html>