<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Mon Sep 30 16:58:12 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>webget.pro (Documentation for ./)</title>

    

    <script type="text/javascript" src="../idldoc-resources/js/jquery.js"></script>
    <script type="text/javascript" src="../idldoc-resources/js/copybutton.js"></script>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="webget.pro (Documentation for ./)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">

    <div class="header">
      <h1>Documentation for ./</h1>
      <h2>Generated by IDLdoc</h2>
    </div>
    
    
    <table class="navbar smaller" summary="Navigation header" cellspacing="0">
      <tr>
        <td >
          <a href="../overview.html">Overview</a>
        </td>
    
        <td >
          Directory
        </td>
    
        <td class="selected">File</td>
    
        
        <td >
          <a href="webget-code.html" title="Chromocoded source">Source</a> <a href="webget.pro" title=".pro file"><img src="../idldoc-resources/attach.png" alt="[attach.png]" align="top"/></a>
        </td>
        
    
        <td >Etc</td>
    
        <td >
        	<a href="../categories.html">Categories</a>
        </td>
    
        <td >
        	<a href="../search.html">Search</a>
        </td>
    
        
        <td >
          <a href="../idldoc-index.html">Index</a>
        </td>
        
    
        
    
        <td >
          <a href="../idldoc-help.html">Help</a>
        </td>
    
        <td class="flexible">
          User documentation
        </td>
      </tr>
    </table>
    
    
    
    <p class="localnavbar smallest"><a href="" target="_top">single page</a> | <a href="../index.html" target="_top">use frames</a> &nbsp;&nbsp;&nbsp; summary &nbsp;&nbsp;&nbsp; class &nbsp;&nbsp;&nbsp; fields &nbsp;&nbsp;&nbsp; <a href="#routine-details">routine details</a> &nbsp;&nbsp;&nbsp; <a href="#attributes">file attributes</a></p>
    
    
    
    
    
    
    
    
    

    <div class="content">
      <h2 class="directory">idlastro/</h2>
      <h1 class="basename">webget.pro<span class="file-attributes"></span></h1>
      

      
      
      
      <br/>

      
      <div id="file_comments">
        <div class="small "><p> NAME:
    WEBGET()
</p>

<p> PURPOSE:
    Use the IDL SOCKET procedure to get data from http servers
</p>

<p> EXPLANATION:
     WEBGET() can access http servers - even from behind a firewall -
     and perform simple downloads. Currently, text and FITS files can be
     accessed.
</p>

<p> CALLING SEQUENCE:
      a=webget(URL)
</p>

<p> INPUTS:
      URL - scalar string giving a fully qualified url of the form
          'http://server.eso.org/path/file.html'.    WEBGET() can
          also use other valid URLs that contain 'GET' or 'POST' codes.
</p>

<p> OPTIONAL INPUT KEYWORD PARAMETERS:
       COPYFILE - if set to a valid filename (file must have write permission),
            the data contents of the web server's answer is copied to that
            file.
       HTTP10 - If set, then use the HTTP 1.0
       POST - if set to a structure, the structure tags and values
              will be used as post variables and POST'ed to the URL.
              If POST is not set, the normal HTTP GET is used to
              retrieve the URL.
       /SILENT - If set, the information error messages are suppressed
       TIMEOUT - Integer scalar giving number of seconds to wait to connect
                or for data to arrive before giving up and issuing an error.
                Default=15 seconds
 OUTPUTS: A structure with the following fields:
</p>

<p>            .Header - the HTTP header sent by the server
</p>

<p>            .Text   - The text part of the downloaded file. If the
                     content type of the file was not of class
                     'text',  this will be an empty string.
</p>

<p>            .ImageHeader - Header file of a FITS-image. FITS images
                          are read when the content type is
                          'image/fits' or 'application/octet-stream'
                          (for dss-access). If the file is not a FITS
                          image,  this will be an empty string.
</p>

<p>            .Image - The FITS image read from the server. If the file
                    did not contain a FITS image,  this will be zero.
</p>

<p> RESTRICTIONS:
     The mime-type recognition is extremely limited. Only the content-type is
     determined. Any text-file  will be stored in out.Text. The only other
     category which can be fetched is FITS files,  which will be stored in
     out.Image and out.ImageHeader.
</p>

<p>     PROXY: If you are behind a firewall and have to access the net through a
         Web proxy,  set the environment variable 'http_proxy' to point to
         your proxy server and port, e.g.
         'setenv http_proxy=http://web-proxy.mpia-hd.mpg.de:3128'
</p>

<p>               The URL *MUST* begin with "http://".
</p>

<p> PROCEDURE:
     Open a socket to the webserver and download the header. After deciding
     whether it is text or binary, either store the text or try to read a
     FITS file.
</p>

<p> EXAMPLE:
      IDL&gt; a=webget('http://www.mpia.de/index.html')
      IDL&gt; print,a.Text
      or
</p>

<p>          &gt; PointingRA=0.0
          &gt; PointingDE=30.0
          &gt; QueryURL = strcompress("http://archive.eso.org/dss/dss/image?ra="+$
          &gt;                          string(PointingRA)+$
          &gt;                          "&dec="+$
          &gt;                          string(PointingDE)+$
          &gt;                          "&x=10&y=10&Sky-Survey=DSS1&mime-type=download-fits", $
          &gt;                          /remove)
          &gt; a=webget(QueryURL)
          &gt; tvscl,a.Image
          &gt; print,a.ImageHead
</p>

<p> MODIFICATION HISTORY:
     Written by M. Feldt, Heidelberg, Oct 2001 &lt;mfeldt@mpia.de&gt;
     Use /swap_if_little_endian keyword to SOCKET  W. Landsman August 2002
     Less restrictive search on Content-Type   W. Landsman   April 2003
     Modified to work with FIRST image server-  A. Barth, Nov 2006
     Better recovery from errors  W. Landsman  April 2007
     Add support for POST access               J.D. Smith    June 2007
     Recognize "fits" image type used by SKYVIEW   W. Landsman  June 2007
     Upgraded, partially, to HTTP 1.1				M. Perrin, July 2007
       The HTTP 1.1 support is presently INCOMPLETE: virtual servers are
       supported, but chunked transfer encoding is not yet supported, so
       technically this is not fully HTTP 1.1 compliant.
     Added http10 keyword  W. Landsman   August 2007
     Assume since V5.6, sockets always available  W. Landsman Nov 2007
     Fix problem when using proxy server   W. Landsman July 2008
     Fix problem with /SILENT keyword  W. Landsman  Jan 2009
     Added check for missing Mime TYPE in CLASSANDTYPE, Zarro, December 2011
     Timeout applies to connecting as well as reading, default is now 15
               seconds  W Landsman January 2012
</p>

</div>
      </div>
      

      

      

      

      

      
      <div>
        <h2>Routines</h2>

        <dl class="routine-summary">
          
            <dt class="syntax"><a href="#MimeType"><code>MimeType<span class="argument">, Header</span><span class="argument">, Class</span><span class="argument">, Type</span><span class="argument">, Length</span></code></a></dt>
            <dd class="small"></dd>
          
            <dt class="syntax"><a href="#webget"><code><span class="var">result</span> = webget(<span class="argument">url</span><span class="argument">, SILENT=<span class="var">SILENT</span></span><span class="argument">, COPYFILE=<span class="var">COPYFILE</span></span><span class="argument">, POST=<span class="var">POST</span></span><span class="argument">, HTTP10=<span class="var">HTTP10</span></span><span class="argument">, timeout=<span class="var">timeout</span></span>)</code></a></dt>
            <dd class="small"></dd>
          
        </dl>
      </div>
      


      
      <div id="routine-details">
        <h2>Routine details</h2>

        
        <div class="routine-details details" id="MimeType">
          <h2 class="routine-name"><a href="#root" class="top">top</a> <a href="webget-code.html#MimeType:source" class="top">source</a> MimeType<span class="routine-attributes"></span></h2>

          

          <p class="syntax"><code>MimeType<span class="argument">, <a href="#MimeType:p:Header">Header</a></span><span class="argument">, <a href="#MimeType:p:Class">Class</a></span><span class="argument">, <a href="#MimeType:p:Type">Type</a></span><span class="argument">, <a href="#MimeType:p:Length">Length</a></span></code></p>

          

          

          
          <h3>Parameters</h3>
            <dl>
              
              <dt id="MimeType:p:Header">Header <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="MimeType:p:Class">Class <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="MimeType:p:Type">Type <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="MimeType:p:Length">Length <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
            </dl>
          

          

          

          

          

          

        </div>
        
        <div class="routine-details details" id="webget">
          <h2 class="routine-name"><a href="#root" class="top">top</a> <a href="webget-code.html#webget:source" class="top">source</a> webget<span class="routine-attributes"></span></h2>

          

          <p class="syntax"><code><span class="var">result</span> = webget(<span class="argument"><a href="#webget:p:url">url</a></span><span class="argument">, <a href="#webget:k:SILENT">SILENT</a>=<span class="var">SILENT</span></span><span class="argument">, <a href="#webget:k:COPYFILE">COPYFILE</a>=<span class="var">COPYFILE</span></span><span class="argument">, <a href="#webget:k:POST">POST</a>=<span class="var">POST</span></span><span class="argument">, <a href="#webget:k:HTTP10">HTTP10</a>=<span class="var">HTTP10</span></span><span class="argument">, <a href="#webget:k:timeout">timeout</a>=<span class="var">timeout</span></span>)</code></p>

          

          

          
          <h3>Parameters</h3>
            <dl>
              
              <dt id="webget:p:url">url <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
            </dl>
          

          
          <h3>Keywords</h3>
            <dl>
              
              <dt id="webget:k:SILENT">SILENT <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="webget:k:COPYFILE">COPYFILE <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="webget:k:POST">POST <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="webget:k:HTTP10">HTTP10 <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="webget:k:timeout">timeout <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
            </dl>
          

          

          

          

          

        </div>
        

      </div>
      

      <div id="attributes">
        <h2>File attributes</h2>

        <table class="attribute small" summary="File attributes">
          <tr>
            <td class="name">Modification date:</td>
            <td>Tue Oct 23 10:15:50 2012</td>
          </tr>

          <tr>
            <td class="name">Lines:</td>
            <td>278</td>
          </tr>

          
        </table>
      </div>

      
    </div>

    <div class="footer">
    
      <table class="smaller" summary="footer">
        <tr>
          <td class="left">Produced by IDLdoc 3.5.1 on Mon Sep 30 16:58:12 2013</td>
          <td class="right"><a target="_top" href="http://idldoc.idldev.com">IDLdoc project information</a></td>
        </tr>
      </table>
    
    </div>
  </body>
</html>