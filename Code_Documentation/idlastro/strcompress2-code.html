<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Mon Sep 30 16:58:03 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>strcompress2.pro (Documentation for ./)</title>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="strcompress2.pro (Documentation for ./)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">
    <div class="content">
      <code class="source"><a id="strcompress2:source"></a>function strcompress2, str, chars
<span class="comments">;+</span>
<span class="comments">; NAME:</span>
<span class="comments">;	STRCOMPRESS2</span>
<span class="comments">; PURPOSE:</span>
<span class="comments">;	Remove blanks around specified characters in a string</span>
<span class="comments">; CALLING SEQUENCE</span>
<span class="comments">;	newstring = strcompress2( st, chars)</span>
<span class="comments">; INPUTS:</span>
<span class="comments">;       st - any scalar string</span>
<span class="comments">;      chars - scalar  or vector string specifing which characters around which </span>
<span class="comments">;             blanks should be removed.    For example, if chars=['=','-','+'] </span>
<span class="comments">;              then spaces around the three characters "=', '-', and '+' will </span>
<span class="comments">;             be removed.</span>
<span class="comments">; OUTPUTS:</span>
<span class="comments">;       newstring - input string with spaces removed around the specified </span>
<span class="comments">;        characters.   </span>
<span class="comments">; EXAMPLE:</span>
<span class="comments">;       The Vizier constraint string (see queryvizier.pro) does not allow </span>
<span class="comments">;       blanks around the operators '=','&lt;', or '>'.     But we do not want</span>
<span class="comments">;       to remove blanks around names (e.g. 'NGC 5342'):</span>
<span class="comments">; </span>
<span class="comments">;       IDL> st = 'name = NGC 5342, v&lt; 23'</span>
<span class="comments">;       IDL> print,strcompress2(st, ['=','&lt;','>'])</span>
<span class="comments">;            name=NGC 5342, v&lt;23</span>
<span class="comments">; MODIFICATION HISTORY:</span>
<span class="comments">;	Written by W.Landsman                   July 2008</span>
<span class="comments">;-</span>

 On_error,2
 compile_opt idl2
 st = strcompress(str)    <span class="comments">;Ok to compress to a single space</span>
 if N_elements(chars) GT 1 then op = '(' + strjoin(chars,'|') + ')'   $
                           else op = chars
 
 op1 = ' ' + op      <span class="comments">;first look for Leading space</span>
 n = stregex(st, op1)     
 while n GT 0 do begin
    st = strmid(st,0,n) + strmid(st,n+1)   <span class="comments">;piece string together</span>
    n = stregex(st,op1)      <span class="comments">; Look for another occurrence since stregex just </span>
 endwhile                    <span class="comments">; gives the first</span>

 op2 = op + ' '    <span class="comments">;Now look for Following space</span>
 n = stregex(st, op2)
 while n GT 0 do begin
    st = strmid(st,0,n+1) + strmid(st,n+2)
    n = stregex(st,op2)
 endwhile 

   return,st
 end
</code>
    </div>
  </body>
</html>