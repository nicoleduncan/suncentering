<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Mon Sep 30 16:58:12 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>wfpc2_read.pro (Documentation for ./)</title>

    

    <script type="text/javascript" src="../idldoc-resources/js/jquery.js"></script>
    <script type="text/javascript" src="../idldoc-resources/js/copybutton.js"></script>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="wfpc2_read.pro (Documentation for ./)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">

    <div class="header">
      <h1>Documentation for ./</h1>
      <h2>Generated by IDLdoc</h2>
    </div>
    
    
    <table class="navbar smaller" summary="Navigation header" cellspacing="0">
      <tr>
        <td >
          <a href="../overview.html">Overview</a>
        </td>
    
        <td >
          Directory
        </td>
    
        <td class="selected">File</td>
    
        
        <td >
          <a href="wfpc2_read-code.html" title="Chromocoded source">Source</a> <a href="wfpc2_read.pro" title=".pro file"><img src="../idldoc-resources/attach.png" alt="[attach.png]" align="top"/></a>
        </td>
        
    
        <td >Etc</td>
    
        <td >
        	<a href="../categories.html">Categories</a>
        </td>
    
        <td >
        	<a href="../search.html">Search</a>
        </td>
    
        
        <td >
          <a href="../idldoc-index.html">Index</a>
        </td>
        
    
        
    
        <td >
          <a href="../idldoc-help.html">Help</a>
        </td>
    
        <td class="flexible">
          User documentation
        </td>
      </tr>
    </table>
    
    
    
    <p class="localnavbar smallest"><a href="" target="_top">single page</a> | <a href="../index.html" target="_top">use frames</a> &nbsp;&nbsp;&nbsp; summary &nbsp;&nbsp;&nbsp; class &nbsp;&nbsp;&nbsp; fields &nbsp;&nbsp;&nbsp; <a href="#routine-details">routine details</a> &nbsp;&nbsp;&nbsp; <a href="#attributes">file attributes</a></p>
    
    
    
    
    
    
    
    
    

    <div class="content">
      <h2 class="directory">idlastro/</h2>
      <h1 class="basename">wfpc2_read.pro<span class="file-attributes"></span></h1>
      

      
      
      
      <br/>

      

      

      

      

      

      


      
      <div id="routine-details">
        

        
        <div class="routine-details details" id="wfpc2_read">
          <h2 class="routine-name"><a href="#root" class="top">top</a> <a href="wfpc2_read-code.html#wfpc2_read:source" class="top">source</a> wfpc2_read<span class="routine-attributes"></span></h2>

          

          <p class="syntax"><code>wfpc2_read<span class="argument">, <a href="#wfpc2_read:p:filename">filename</a></span><span class="argument">, <a href="#wfpc2_read:p:chip1">chip1</a></span><span class="argument">, <a href="#wfpc2_read:p:header1">header1</a></span><span class="argument">, <a href="#wfpc2_read:p:chip2">chip2</a></span><span class="argument">, <a href="#wfpc2_read:p:header2">header2</a></span><span class="argument">, <a href="#wfpc2_read:p:chip3">chip3</a></span><span class="argument">, <a href="#wfpc2_read:p:header3">header3</a></span><span class="argument">, <a href="#wfpc2_read:p:chip4">chip4</a></span><span class="argument">, <a href="#wfpc2_read:p:header4">header4</a></span><span class="argument">, <a href="#wfpc2_read:k:num_chip">num_chip</a>=<span class="var">num_chip</span></span><span class="argument">, <a href="#wfpc2_read:k:trim">trim</a>=<span class="var">trim</span></span><span class="argument">, <a href="#wfpc2_read:k:path">path</a>=<span class="var">path</span></span><span class="argument">, <a href="#wfpc2_read:k:batwing">batwing</a>=<span class="var">batwing</span></span></code></p>

          
          <div class="small "><p> NAME:
    WFPC2_READ
</p>

<p> PURPOSE:
   Read WFPC2 images in either FITS or STSDAS format into IDL variables.
</p>

<p> EXPLANATION:
   This a versatile procedure for reading Wide Field Planetary Camera 2
   (WFPC2) images.   One can read either multi-extension FITS or  STSDAS or
   STSDAS converted to FITS format, and specific
   chip or chips.    One can also read all four chips into a "batwing" mosaic--
   so-called because the PC chip (chip 1) has a plate scale of 0.045", while
   the other three WF chips have a plate scale of 0.1"
</p>

<p> CALLING SEQUENCE:
    WFPC2_READ,filename,chip1,hdr1,chip2,hdr2,chip3,hdr3,chip4,hdr4
                   or
    WFPC2_READ,filename,chip,hdr, NUM_CHIP = [1,2,3,4], [/TRIM, PATH = ]
                   or
    WFPC2_READ,filename,image,hdr,/BATWING
</p>

<p> INPUTS:
    filename - Name of FITS or STSDAS file with a stack of images from
            the four WF/PC-2 chips, followed by a FITS ASCII
            table with header parameters for each chip.    If the file
            name extension ends in 'h' then it is assumed to be an
            STSDAS file.   If no extension is supplied, and the file is
            is not found, then WFPC2_READ first tries appending a '.fits'
            extension, and then tries appending a '.c0h' extension.
</p>

<p>            The file may als be gzip compressed (with a .gz extension)
 INPUT KEYWORD PARAMETERS:
    NUM_CHIP - Integer scalar or vector, subset of 1, 2, 3, 4, specifying
               particular chip numbers to read.    Outputs will be in same
               order as specification of subset.   (See Example 2.)
    /TRIM   - If set, trim off areas with no image and re-orient so that
              all  the chips have a common orientation suitable for insertion
               into "bat-wing" mosaic (no image distortion removal, however).
    PATH   -   scalar string specifying a !PATH-like list of directories
               in which to search for the file.   Default is to look only
               in the current directory.
    /BATWING -  Return a 1600 x 1600 array containing all four chips in a
               "bat wing" mosaic formation.     This image is mainly for
               display  purposes, since the PC chip is compressed to match the plate
               scale of the WF chips.    In addition, a small astrometry error
               is introduced since chips do not have the same rotation, nor
               are they aligned at the integer pixel level.
 OUTPUTS:
    chipN    - 800 X 800 image from chip N.   If /TRIM is set then the output
               size is somewhat smaller (e.g. 756 x 757)
    headerN  - Individual FITS header for chip N with correct astrometry.
</p>

<p> PROCEDURES USED:
     For FITS I/O: FITS_CLOSE, FITS_OPEN, FITS_READ
     For STSDAS I/O: EXTGRP, FTGET(), SXOPEN, SXREAD()
     Other procedures:  CHECK_FITS, FDECOMP, FIND_WITH_DEF(), FREBIN, HEXTRACT,
           HROTATE, SXADDHIST, SXADDPAR, SXPAR()
 EXAMPLE:
    (1) Read all four chips of the FITS file u2ou0201t_c0f.fits
</p>

<p>    IDL&gt; wfpc2_read,'u2ou0201t_c0f',c1,h1,c2,h2,c3,h3,c4,h4
</p>

<p>     (2) Note that supplying the .fits extension is optional.   Now read only
     chips 1 (the PC chip) and 3.   Trim off portions of the arrays where
     there is no image.
</p>

<p>    IDL&gt; wfpc2_read,'u2ou0201t_c0f',c1,h1,c3,h3,num=[1,3],/trim
</p>

<p>      (3) Note that with the /TRIM option the output chip sizes are no longer
          800 x 800 but odd sizes such as 770 by 753.    Now read all 4 chips
          into a 1600 x 1600 "batwing" mosaic
</p>

<p>    IDL&gt; wfpc2_read,'u2ou0201t_c0f',im,h,/batwing
</p>

<p> MODIFICATION HISTORY:
     Written by W. Landsman, Raytheon STX, for IDL V5.0     June 1998
     Based on code by Robert Hill, Raytheon STX
     Better astrometry of PC image in "batwing" configuration, W. Landsman
                August 1999
     Use vector call to SXADDHIST  W. Landsman   March 2003
     Don't use EXECUTE() for V6.1 or later W. Landsman Dec 2006
     Assume since V6.1  W. Landsman  June 2009
     Ability to read multi-extension format FITS  W. Landsman May 2010
     Correct header in MEF form when only reading PC chip.  W.L. July 2010
</p>

</div>
          

          

          
          <h3>Parameters</h3>
            <dl>
              
              <dt id="wfpc2_read:p:filename">filename <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="wfpc2_read:p:chip1">chip1 <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="wfpc2_read:p:header1">header1 <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="wfpc2_read:p:chip2">chip2 <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="wfpc2_read:p:header2">header2 <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="wfpc2_read:p:chip3">chip3 <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="wfpc2_read:p:header3">header3 <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="wfpc2_read:p:chip4">chip4 <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="wfpc2_read:p:header4">header4 <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
            </dl>
          

          
          <h3>Keywords</h3>
            <dl>
              
              <dt id="wfpc2_read:k:num_chip">num_chip <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="wfpc2_read:k:trim">trim <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="wfpc2_read:k:path">path <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="wfpc2_read:k:batwing">batwing <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
            </dl>
          

          

          

          

          

        </div>
        

      </div>
      

      <div id="attributes">
        <h2>File attributes</h2>

        <table class="attribute small" summary="File attributes">
          <tr>
            <td class="name">Modification date:</td>
            <td>Tue Oct 23 10:15:49 2012</td>
          </tr>

          <tr>
            <td class="name">Lines:</td>
            <td>292</td>
          </tr>

          
        </table>
      </div>

      
    </div>

    <div class="footer">
    
      <table class="smaller" summary="footer">
        <tr>
          <td class="left">Produced by IDLdoc 3.5.1 on Mon Sep 30 16:58:13 2013</td>
          <td class="right"><a target="_top" href="http://idldoc.idldev.com">IDLdoc project information</a></td>
        </tr>
      </table>
    
    </div>
  </body>
</html>