<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Mon Sep 30 16:56:13 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>cgimageinfodescribevalues.pro (Documentation for ./)</title>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="cgimageinfodescribevalues.pro (Documentation for ./)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">
    <div class="content">
      <code class="source"><span class="comments">;========================================================================</span>
<span class="comments">; :Author: Matt Savoie  &lt;savoie@nsidc.org>  </span>
<span class="comments">;</span>
<span class="comments">; Created 05/18/2011 </span>
<span class="comments">;</span>
<span class="comments">;******************************************************************************************;</span>
<span class="comments">;  Copyright (c) 2011, by Fanning Software Consulting, Inc.                                ;</span>
<span class="comments">;  All rights reserved.                                                                    ;</span>
<span class="comments">;                                                                                          ;</span>
<span class="comments">;  Redistribution and use in source and binary forms, with or without                      ;</span>
<span class="comments">;  modification, are permitted provided that the following conditions are met:             ;</span>
<span class="comments">;                                                                                          ;</span>
<span class="comments">;      * Redistributions of source code must retain the above copyright                    ;</span>
<span class="comments">;        notice, this list of conditions and the following disclaimer.                     ;</span>
<span class="comments">;      * Redistributions in binary form must reproduce the above copyright                 ;</span>
<span class="comments">;        notice, this list of conditions and the following disclaimer in the               ;</span>
<span class="comments">;        documentation and/or other materials provided with the distribution.              ;</span>
<span class="comments">;      * Neither the name of Fanning Software Consulting, Inc. nor the names of its        ;</span>
<span class="comments">;        contributors may be used to endorse or promote products derived from this         ;</span>
<span class="comments">;        software without specific prior written permission.                               ;</span>
<span class="comments">;                                                                                          ;</span>
<span class="comments">;  THIS SOFTWARE IS PROVIDED BY FANNING SOFTWARE CONSULTING, INC. ''AS IS'' AND ANY        ;</span>
<span class="comments">;  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES    ;</span>
<span class="comments">;  OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT     ;</span>
<span class="comments">;  SHALL FANNING SOFTWARE CONSULTING, INC. BE LIABLE FOR ANY DIRECT, INDIRECT,             ;</span>
<span class="comments">;  INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED    ;</span>
<span class="comments">;  TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;         ;</span>
<span class="comments">;  LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND             ;</span>
<span class="comments">;  ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT              ;</span>
<span class="comments">;  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS           ;</span>
<span class="comments">;  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.                            ;</span>
<span class="comments">;******************************************************************************************;</span>
<span class="comments">;========================================================================*/</span>

<span class="comments">;</span>
<span class="comments">;  Display information about an image at a given location</span>
<span class="comments">;</span>
<span class="comments">; :Params:</span>
<span class="comments">;    image: in, required, type=image</span>
<span class="comments">;       A 2D or 3D image array</span>
<span class="comments">;    id: in, required, type=string</span>
<span class="comments">;       Prefix to display when showing information about the image.</span>
<span class="comments">;    xpixel: in, required, type=int</span>
<span class="comments">;       The X location on the image to fetch information from</span>
<span class="comments">;    ypixel: in, required, type=int</span>
<span class="comments">;       The y location on the image to fetch information from</span>
<span class="comments">;</span>
<span class="comments">;</span>
<a id="cgDescribeThisImgValues:source"></a>pro cgDescribeThisImgValues,  image,  id, xpixel,  ypixel
   COMPILE_OPT idl2, logical_predicate


   dims = Size( image, /Dimensions )
   trueIndex = Where( dims EQ 3 )

   <span class="comments">;; I guess a legit dimension could be three, too, but I</span>
   <span class="comments">;; don't know what to do in that case.</span>
   IF N_Elements( trueIndex ) GT 1 THEN $
      Message, 'Dude. This is one strange image! Returning.'

   IF trueIndex[ 0 ] EQ -1 THEN BEGIN
      
      value = image[ xpixel, ypixel ]
      IF Size( value, /TNAME ) EQ 'BYTE' THEN value = Fix( value )
      Print, id +' (' + StrTrim( xpixel, 2 ) + ',' + StrTrim( ypixel, 2 ) + ') is ', StrTrim( value, 2 )

   ENDIF ELSE BEGIN

      <span class="comments">;; 3D image processing here.</span>
      CASE trueindex[ 0 ] OF
         0: rgb = image[ *, xpixel, ypixel ]
         1: rgb = image[ xpixel, *, ypixel ]
         2: rgb = image[ xpixel, ypixel, * ]
      ENDCASE
      IF Size( rgb, /TNAME ) EQ 'BYTE' THEN rgb = Fix( rgb )
      value = '[' + StrTrim( rgb[ 0 ], 2 ) + ', ' + StrTrim( rgb[ 1 ], 2 ) + ', ' + StrTrim( rgb[ 2 ], 2 ) + ']'
      Print, id + ' (' + StrTrim( xpixel, 2 ) + ',' + StrTrim( ypixel, 2 ) + ') is ' + value
   ENDELSE

end


<span class="comments">;+</span>
<span class="comments">;  Provide information about the selected xy-pixel from an image, or a hash of</span>
<span class="comments">;  images.</span>
<span class="comments">;</span>
<span class="comments">; :Params:</span>
<span class="comments">;    iimage: in, required, type=image</span>
<span class="comments">;       A 2D or 3D image array</span>
<span class="comments">;    xpixel: in, required, type=int</span>
<span class="comments">;       The X location on the image to fetch information from</span>
<span class="comments">;    ypixel: in, required, type=int</span>
<span class="comments">;       The y location on the image to fetch information from</span>
<span class="comments">;    hsh: in, optional, type=HASH</span>
<span class="comments">;       If a valid HASH, it should contain key/Image (string/array) pairs that</span>
<span class="comments">;       will be described.</span>
<span class="comments">;       </span>
<span class="comments">;-</span>
<a id="cgImageInfoDescribeValues:source"></a>pro cgImageInfoDescribeValues,  iimage,  xpixel,  ypixel,   hsh
   compile_opt idl2, logical_predicate

   <span class="comments">;; If you've got a hash of images, display the information for those.</span>
   IF obj_valid( hsh ) &&  obj_isa( hsh, 'HASH' ) THEN BEGIN 
      keys =  hsh -> keys( )
      FOR k = 0, n_elements( keys ) - 1 DO BEGIN
         image =  hsh[ keys[ k ] ]
         cgDescribeThisImgValues,  image,  keys[ k ],  xpixel,  ypixel
      ENDFOR 
   ENDIF ELSE BEGIN
      <span class="comments">;; This was just a plain image input so use it.</span>
      cgDescribeThisImgValues,  iimage,  'Value at ',  xpixel,  ypixel      
   ENDELSE 
END
</code>
    </div>
  </body>
</html>