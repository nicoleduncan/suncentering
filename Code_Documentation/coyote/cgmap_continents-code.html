<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Mon Sep 30 16:56:19 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>cgmap_continents.pro (Documentation for ./)</title>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="cgmap_continents.pro (Documentation for ./)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">
    <div class="content">
      <code class="source"><span class="comments">; docformat = 'rst'</span>
<span class="comments">;</span>
<span class="comments">; NAME:</span>
<span class="comments">;   cgMap_Continents</span>
<span class="comments">;</span>
<span class="comments">; PURPOSE:</span>
<span class="comments">;   Provides a simple wrapper to the MAP_CONTINENTS command in IDL that can be used</span>
<span class="comments">;   to draw map continental outlines in a device and color independent way with </span>
<span class="comments">;   Coyote Graphics programs.</span>
<span class="comments">;</span>
<span class="comments">;******************************************************************************************;</span>
<span class="comments">;                                                                                          ;</span>
<span class="comments">;  Copyright (c) 2011, by Fanning Software Consulting, Inc. All rights reserved.           ;</span>
<span class="comments">;                                                                                          ;</span>
<span class="comments">;  Redistribution and use in source and binary forms, with or without                      ;</span>
<span class="comments">;  modification, are permitted provided that the following conditions are met:             ;</span>
<span class="comments">;                                                                                          ;</span>
<span class="comments">;      * Redistributions of source code must retain the above copyright                    ;</span>
<span class="comments">;        notice, this list of conditions and the following disclaimer.                     ;</span>
<span class="comments">;      * Redistributions in binary form must reproduce the above copyright                 ;</span>
<span class="comments">;        notice, this list of conditions and the following disclaimer in the               ;</span>
<span class="comments">;        documentation and/or other materials provided with the distribution.              ;</span>
<span class="comments">;      * Neither the name of Fanning Software Consulting, Inc. nor the names of its        ;</span>
<span class="comments">;        contributors may be used to endorse or promote products derived from this         ;</span>
<span class="comments">;        software without specific prior written permission.                               ;</span>
<span class="comments">;                                                                                          ;</span>
<span class="comments">;  THIS SOFTWARE IS PROVIDED BY FANNING SOFTWARE CONSULTING, INC. ''AS IS'' AND ANY        ;</span>
<span class="comments">;  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES    ;</span>
<span class="comments">;  OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT     ;</span>
<span class="comments">;  SHALL FANNING SOFTWARE CONSULTING, INC. BE LIABLE FOR ANY DIRECT, INDIRECT,             ;</span>
<span class="comments">;  INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED    ;</span>
<span class="comments">;  TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;         ;</span>
<span class="comments">;  LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND             ;</span>
<span class="comments">;  ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT              ;</span>
<span class="comments">;  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS           ;</span>
<span class="comments">;  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.                            ;</span>
<span class="comments">;******************************************************************************************;</span>
<span class="comments">;</span>
<span class="comments">;+--------------------------------------------------------------------------</span>
<span class="comments">;   Provides a simple wrapper to the MAP_CONTINENTS command in IDL that can be used</span>
<span class="comments">;   to draw map continental outlines in a device and color independent way with </span>
<span class="comments">;   Coyote Graphics programs.</span>
<span class="comments">;</span>
<span class="comments">; :Categories:</span>
<span class="comments">;    Graphics, Map Projections</span>
<span class="comments">;    </span>
<span class="comments">; :Examples:</span>
<span class="comments">;     To display a map of the Cuba and Haiti::</span>
<span class="comments">;         cgMap_Set, /Mercator, Limit=[5.0, -95, 35.0, -55.0]</span>
<span class="comments">;         cgMap_Continents, Background='dodger blue', /Continents, /Fill, Color='tan'</span>
<span class="comments">;         cgMap_Continents, /Countries, /USA, Color='navy', /Continents</span>
<span class="comments">;       </span>
<span class="comments">; :Keywords:</span>
<span class="comments">;     addcmd: in, optional, type=boolean, default=0</span>
<span class="comments">;        If this keyword is set, the object is added to the resizeable graphics</span>
<span class="comments">;        window, cgWindow. Note that a map projection command must be </span>
<span class="comments">;        added to the window before this command is added to be effective.</span>
<span class="comments">;     background: in, optional, type=string</span>
<span class="comments">;        The name of the background color. A polygon of this color is drawn</span>
<span class="comments">;        in the map space set up by the map projection before continents and</span>
<span class="comments">;        other items are drawn.</span>
<span class="comments">;     coasts: in, optional, type=boolean, default=0</span>
<span class="comments">;        Set this keyword if you want coasts to be drawn. This keyword is ignored if using FILENAME.</span>
<span class="comments">;     color: in, optional, type=string, default='opposite'</span>
<span class="comments">;        The name of the drawing color for the program.</span>
<span class="comments">;     continents: in, optional, type=boolean  </span>
<span class="comments">;        Set this keyword if you want continental outlines to be drawn. This will be</span>
<span class="comments">;        set automatically if COASTS, COUNTRIES, RIVERS, AND USA keywords are all set</span>
<span class="comments">;        to zero. This keyword is ignored if using FILENAME.</span>
<span class="comments">;     countries: in, optional, type=boolean, default=0</span>
<span class="comments">;        Set this keyword to draw political boundaries.</span>
<span class="comments">;     fill_continents: in, optional, type=boolean, default=0</span>
<span class="comments">;        Set this keyword to draw filled polygons rather than outlines. If the value is</span>
<span class="comments">;        2, the continents are filled with lines rather than colors.</span>
<span class="comments">;     hires: in, optional, type=boolean, default=0</span>
<span class="comments">;        Set this keyword to use the high-resolution data supplied with IDL for MAP_CONTINENTS.</span>
<span class="comments">;        This keyword is ignored if using FILENAME.</span>
<span class="comments">;     limits: in, optional, type=fltarr(4)</span>
<span class="comments">;        Set to a four-element vector, [Latmin, LonMin, LatMax, LonMax] that describes the </span>
<span class="comments">;        limit rectangle. Only plot line segments that pass through this rectangle.</span>
<span class="comments">;     linestyle:  in, optional, type=integer, default=0</span>
<span class="comments">;        Set to the type of linestyle in drawing outlines. Set solid lines by default.</span>
<span class="comments">;     map_structure: in, optional, type=struct/object</span>
<span class="comments">;        Set this keyword to a map structure as returned by Map_Proj_Init or to a map</span>
<span class="comments">;        coordinate object (i.e., cgMap) from which a map structure can be obtained.</span>
<span class="comments">;     mlinestyle:</span>
<span class="comments">;        This keyword depreciated in favor of LINESTYLE keyword.</span>
<span class="comments">;     mlinethick:</span>
<span class="comments">;        This keyword depreciated in favor of THICK keyword.</span>
<span class="comments">;     orientation: in, optional, type=float default=0.0</span>
<span class="comments">;        Set this keyword to the counterclockwise angle in degrees from horizontal that </span>
<span class="comments">;        the line fill should be drawn. Only applies if the FILL_CONTINENTS keyword is 2.</span>
<span class="comments">;     rivers: in, optional, type=boolean, default=0  </span>
<span class="comments">;        Set this keyword if you wish to draw rivers. This keyword is ignored if using FILENAME.</span>
<span class="comments">;     spacing: in, optional, type=float, default=0.5</span>
<span class="comments">;        Set this keyword to the spacing, in centimeters, for a line fill. This keyword only has </span>
<span class="comments">;        effect if the FILL_CONTINENTS keyword is set to 2.</span>
<span class="comments">;     t3d: in, optional, type=boolean, default=0  </span>
<span class="comments">;        Set this graphics keyword if you wish to draw outlines use the T3D transformation matrix.</span>
<span class="comments">;        This keyword is ignored if using FILENAME.</span>
<span class="comments">;     thick: in, optional, type=integer, default=!P.Thick</span>
<span class="comments">;        Set this keyword to the thickness of the lines that are drawn.</span>
<span class="comments">;     usa: in, optional, type=boolean, default=0  </span>
<span class="comments">;        Set this keyword if you wish do draw United States state boundaries. This keyword is </span>
<span class="comments">;        ignored if using FILENAME.</span>
<span class="comments">;     zvalue: in, optional, type=float, default=0.0  </span>
<span class="comments">;        Set this keyword to the ZVALUE where the outlines should be drawn. Set to 0 by default.</span>
<span class="comments">;        This keyword is ignored if using FILENAME.</span>
<span class="comments">;</span>
<span class="comments">; :Author:</span>
<span class="comments">;    FANNING SOFTWARE CONSULTING::</span>
<span class="comments">;       David W. Fanning </span>
<span class="comments">;       1645 Sheely Drive </span>
<span class="comments">;       Fort Collins, CO 80526 USA </span>
<span class="comments">;       Phone: 970-221-0438 </span>
<span class="comments">;       E-mail: david@idlcoyote.com </span>
<span class="comments">;       Coyote's Guide to IDL Programming: http://www.idlcoyote.com</span>
<span class="comments">;</span>
<span class="comments">; :History:</span>
<span class="comments">;    Change History::</span>
<span class="comments">;       Written by David W. Fanning, 7 November 2011.</span>
<span class="comments">;       Added an ERASE=0 to the /NOGRAPHICS keyword on the Draw method call to cgMap. 27 Dec 2011. DWF</span>
<span class="comments">;       Changed the default line thickness to !P.Thick to better support PostScript files. 28 Dec 2011. DWF.</span>
<span class="comments">;       Modified slightly to allow a three-element byte array to be used as the COLOR. 18 April 2012. DWF.</span>
<span class="comments">;       Added a BACKGROUND keyword. 31 Aug 2012. DWF.</span>
<span class="comments">;        </span>
<span class="comments">; :Copyright:</span>
<span class="comments">;    Copyright (c) 2011-2012, Fanning Software Consulting, Inc.</span>
<span class="comments">;---------------------------------------------------------------------------</span>
PRO cgMap_Continents, $
    ADDCMD=addcmd, $
    BACKGROUND=background, $
    COASTS=kcoasts, $
    COLOR=color, $
    CONTINENTS=kcont, $
    COUNTRIES=kcountries, $
    FILL_CONTINENTS=kfill_continents, $
    HIRES=khires, $
    LIMITS = lim_u, $
    LINESTYLE=linestyle, $
    MAP_STRUCTURE=mapStruct, $
    MLINESTYLE = mlinestyle, $
    MLINETHICK = mlinethick, $
    ORIENTATION=orientation, $
    OUTLINE=outline, $
    RIVERS=krivers, $
    SPACING=spacing, $
    T3D=T3D, $
    THICK=thick, $
    USA = kusa, $
    ZVALUE=zvalue, $
    _EXTRA=extra
    
    Catch, theError
    IF theError NE 0 THEN BEGIN
      Catch, /CANCEL
      void = Error_Message()
      IF N_Elements(thisState) NE 0 THEN SetDecomposedState, thisState
      RETURN
    ENDIF
      
    IF Keyword_Set(addcmd) THEN BEGIN
    
       cgWindow, 'cgMap_Continents', $
          COASTS=kcoasts, $
          BACKGROUND=background, $
          COLOR=color, $
          CONTINENTS=kcont, $
          COUNTRIES=kcountries, $
          FILL_CONTINENTS=kfill_continents, $
          HIRES=khires, $
          LIMITS = lim_u, $
          LINESTYLE=linestyle, $
          MAP_STRUCTURE=mapStruct, $
          MLINESTYLE = mlinestyle, $
          MLINETHICK = mlinethick, $
          ORIENTATION=orientation, $
          RIVERS=krivers, $
          SPACING=spacing, $
          T3D=T3D, $
          THICK=thick, $
          USA = kusa, $
          ZVALUE=zvalue, $
          _STRICT_EXTRA=extra, $
          ADDCMD=1
          
       RETURN
       
    ENDIF
    
    <span class="comments">; Sort out linestyle and keyword values.</span>
    IF (N_Elements(glinestyle) EQ 0) && (N_Elements(linestyle) EQ 0) THEN linestyle = 0
    IF (N_Elements(glinestyle) NE 0) && (N_Elements(linestyle) EQ 0) THEN linestyle = glinestyle
    IF N_Elements(linestyle) EQ 0 THEN linestyle = 0
    IF (N_Elements(glinethick) EQ 0) && (N_Elements(thick) EQ 0) THEN thick = !P.Thick
    IF (N_Elements(glinethick) NE 0) && (N_Elements(thick) EQ 0) THEN thick = glinethick
    IF N_Elements(thick) EQ 0 THEN thick = !P.Thick
    
    <span class="comments">; Need a color.</span>
    IF N_Elements(color) NE 0 THEN BEGIN
        CASE Size(color, /TNAME) OF
           'STRING':
           'LONG': 
           'BYTE': BEGIN
              IF N_Elements(color) NE 3 THEN color = StrTrim(Fix(color), 2)
              END
           ELSE: color = StrTrim(color,2)
        ENDCASE 
    ENDIF ELSE color = "opposite"

    <span class="comments">; Try to do this in decomposed color, if possible.</span>
    SetDecomposedState, 1, Current=thisState
    
    <span class="comments">; Change colors into appropriate values, if needed.</span>
    IF Size(color, /TNAME) EQ 'STRING' THEN color = cgColor(color)
    IF (Size(color, /TNAME) EQ 'BYTE') AND (N_Elements(color) EQ 3) THEN color = cgColor(color)
    
   <span class="comments">; If you got a map object, use it to recover a map structure</span>
   <span class="comments">; and to set up the map coordinate space.</span>
   IF N_Elements(mapStruct) NE 0 THEN BEGIN
       IF Obj_Valid(mapStruct) THEN BEGIN
          mapObj = mapStruct
          thisMapStruct = mapObj -> GetMapStruct()           
          mapObj -> Draw, /NoGraphics, Erase=0
       ENDIF ELSE thisMapStruct = mapStruct
   ENDIF 
   
   <span class="comments">; Need a background color?</span>
   IF Keyword_Set(background) NE 0 THEN BEGIN
      x = !X.Window
      y = !Y.Window
      cgColorFill, [x[0], x[1], x[1], x[0], x[0]], $
                   [y[0], y[0], y[1], y[1], y[0]], $
                   /NORMAL, Color=background
    ENDIF

    <span class="comments">; Call the IDL routine with default values.</span>
    Map_Continents, $
       COASTS=kcoasts, $
       COLOR=color, $
       CONTINENTS = kcont, $
       COUNTRIES=kcountries, $
       FILL_CONTINENTS=kfill_continents, $
       HIRES=khires, $
       LIMITS = lim_u, $
       MAP_STRUCTURE=thisMapStruct, $
       MLINESTYLE = linestyle, $
       MLINETHICK = thick, $
       ORIENTATION=orientation, $
       RIVERS=krivers, $
       SPACING=spacing, $
       T3D=T3D, $
       USA = kusa, $
       ZVALUE=zvalue
          
    <span class="comments">; Restore color state.</span>
    SetDecomposedState, thisState
    
END <span class="comments">;-------------------------------------------------------------------    </span>
</code>
    </div>
  </body>
</html>