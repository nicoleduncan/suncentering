<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Mon Sep 30 16:56:06 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>cggeomap.pro (Documentation for ./)</title>

    

    <script type="text/javascript" src="../idldoc-resources/js/jquery.js"></script>
    <script type="text/javascript" src="../idldoc-resources/js/copybutton.js"></script>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="cggeomap.pro (Documentation for ./)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">

    <div class="header">
      <h1>Documentation for ./</h1>
      <h2>Generated by IDLdoc</h2>
    </div>
    
    
    <table class="navbar smaller" summary="Navigation header" cellspacing="0">
      <tr>
        <td >
          <a href="../overview.html">Overview</a>
        </td>
    
        <td >
          Directory
        </td>
    
        <td class="selected">File</td>
    
        
        <td >
          <a href="cggeomap-code.html" title="Chromocoded source">Source</a> <a href="cggeomap.pro" title=".pro file"><img src="../idldoc-resources/attach.png" alt="[attach.png]" align="top"/></a>
        </td>
        
    
        <td >Etc</td>
    
        <td >
        	<a href="../categories.html">Categories</a>
        </td>
    
        <td >
        	<a href="../search.html">Search</a>
        </td>
    
        
        <td >
          <a href="../idldoc-index.html">Index</a>
        </td>
        
    
        
    
        <td >
          <a href="../idldoc-help.html">Help</a>
        </td>
    
        <td class="flexible">
          User documentation
        </td>
      </tr>
    </table>
    
    
    
    <p class="localnavbar smallest"><a href="" target="_top">single page</a> | <a href="../index.html" target="_top">use frames</a> &nbsp;&nbsp;&nbsp; summary &nbsp;&nbsp;&nbsp; class &nbsp;&nbsp;&nbsp; fields &nbsp;&nbsp;&nbsp; <a href="#routine-details">routine details</a> &nbsp;&nbsp;&nbsp; <a href="#attributes">file attributes</a></p>
    
    
    
    
    
    
    
    
    

    <div class="content">
      <h2 class="directory">coyote/</h2>
      <h1 class="basename">cggeomap.pro<span class="file-attributes"></span></h1>
      

      
      
      
      <br/>

      

      

      

      

      

      


      
      <div id="routine-details">
        

        
        <div class="routine-details details" id="cgGeoMap">
          <h2 class="routine-name"><a href="#root" class="top">top</a> <a href="cggeomap-code.html#cgGeoMap:source" class="top">source</a> cgGeoMap<span class="routine-attributes"></span></h2>

          
          <p class="small categories">Graphics, Map Projections</p>
          

          <p class="syntax"><code><span class="var">result</span> = cgGeoMap(<span class="argument"> [<a href="#cgGeoMap:p:image">image</a>]</span><span class="argument"> [, <a href="#cgGeoMap:k:BOUNDARY">BOUNDARY</a>=<span class="var">array</span>]</span><span class="argument"> [, /<a href="#cgGeoMap:k:CLIP">CLIP</a>]</span><span class="argument"> [, /<a href="#cgGeoMap:k:DISPLAY">DISPLAY</a>]</span><span class="argument"> [, <a href="#cgGeoMap:k:ELLIPSOID">ELLIPSOID</a>=<span class="var">string</span>]</span><span class="argument"> [, <a href="#cgGeoMap:k:GCOLOR">GCOLOR</a>=<span class="var">string</span>]</span><span class="argument"> [, <a href="#cgGeoMap:k:GEOTIFF">GEOTIFF</a>=<span class="var">structure</span>]</span><span class="argument"> [, /<a href="#cgGeoMap:k:GRID">GRID</a>]</span><span class="argument"> [, <a href="#cgGeoMap:k:CCOLOR">CCOLOR</a>=<span class="var">string</span>]</span><span class="argument"> [, /<a href="#cgGeoMap:k:CONTINENTS">CONTINENTS</a>]</span><span class="argument"> [, <a href="#cgGeoMap:k:IMAGE">IMAGE</a>=<span class="var">varies</span>]</span><span class="argument"> [, <a href="#cgGeoMap:k:LATLONBOX">LATLONBOX</a>=<span class="var">array</span>]</span><span class="argument"> [, <a href="#cgGeoMap:k:MAP_PROJECTION">MAP_PROJECTION</a>=<span class="var">string</span>]</span><span class="argument"> [, <a href="#cgGeoMap:k:MCOLOR">MCOLOR</a>=<span class="var">string</span>]</span><span class="argument"> [, /<a href="#cgGeoMap:k:ONIMAGE">ONIMAGE</a>]</span><span class="argument"> [, <a href="#cgGeoMap:k:PALETTE">PALETTE</a>=<span class="var">bytarr</span>]</span><span class="argument"> [, /<a href="#cgGeoMap:k:SILENT">SILENT</a>]</span><span class="argument"> [, <a href="#cgGeoMap:k:SUB_RECT">SUB_RECT</a>=<span class="var">integer</span>]</span><span class="argument"> [, /<a href="#cgGeoMap:k:SUCCESS">SUCCESS</a>]</span><span class="argument"> [, <a href="#cgGeoMap:k:TITLE">TITLE</a>=<span class="var">string</span>]</span><span class="argument"> [, <a href="#cgGeoMap:k:_EXTRA">_EXTRA</a>=<span class="var">_EXTRA</span>]</span>)</code></p>

          
          <div class="small "><p>   The purpose of this function is to translate a GEOTIFF structure
   (as returned by QUERY_TIFF or READ_TIFF) into a map coordinate
   object (cgMap) that can be used to georeference images with a
   map data coordinate system. The Coyote Library is required.
</p>

<p>   It is not possible to have a one-to-one mapping between every GeoTIFF file and a map projection
   in IDL, since IDL has a limited number of map projections and datums available. And, even at that,
   I have not implemented all of IDL's map projections or datums, only those that I thought were most
   likely to be encountered in my own work. If you run into a GeoTIFF file that does not work in this
   code (either because of an error in the code or because it is not supported), please contact me.
   I am interested in supporting as many GeoTIFF files as possible and I will take pains to do so if
   I know they are needed.
</p>

<p></p>

</div>
          

          
          <h3>Return value</h3>
            <div class="small"><p>     A cgMap coordinate object is returned containing the map projection information
     for the image.
</p>

<p></p>

</div>
          

          
          <h3>Parameters</h3>
            <dl>
              
              <dt id="cgGeoMap:p:image">image <span class="smaller">in optional type=various </span></dt>
              <dd class="small"><p>        A GeoTIFF image. This can optionally be the name of a GeoTiff file.
        If a filename is used, do not pass the geoTiff parameter, as this
        parameter will be obtained from the GeoTiff file.
</p>

<p></p>

</dd>
              
            </dl>
          

          
          <h3>Keywords</h3>
            <dl>
              
              <dt id="cgGeoMap:k:BOUNDARY">BOUNDARY <span class="smaller">out optional type=array </span></dt>
              <dd class="small"><p>        A four-element array giving the boundaries of the map projection in the form
        [x0,y0,x1,y1]. This is a more convenient way of expressing the range
        of the map space.
</p>

</dd>
              
              <dt id="cgGeoMap:k:CLIP">CLIP <span class="smaller">in optional type=boolean default=0</span></dt>
              <dd class="small"><p>         Set this keyword to display the image (assumes the <a href="../coyote/cggeomap.html#cgGeoMap:k:DISPLAY"><code>Display</code></a> keyword is set)
         with a two-precent histogram clipping.
</p>

</dd>
              
              <dt id="cgGeoMap:k:DISPLAY">DISPLAY <span class="smaller">in optional type=boolean default=0</span></dt>
              <dd class="small"><p>         Set this keyword to display the image with the map annotations in a
         resizeable cgWindow.
</p>

</dd>
              
              <dt id="cgGeoMap:k:ELLIPSOID">ELLIPSOID <span class="smaller">out optional type=string </span></dt>
              <dd class="small"><p>         The name of the ellipsoid used in the GeoTiff file.
</p>

</dd>
              
              <dt id="cgGeoMap:k:GCOLOR">GCOLOR <span class="smaller">in optional type=string default=Gray</span></dt>
              <dd class="small"><p>         The name of a color the map grid should be displayed with. The default
         is "gray". Color names are those supported by cgColor.
</p>

</dd>
              
              <dt id="cgGeoMap:k:GEOTIFF">GEOTIFF <span class="smaller">in optional type=structure </span></dt>
              <dd class="small"><p>        A GeoTIFF structure of geoTags. Normally obtained by calling
        QUERY_TIFF or READ_TIFF, but will be read from the file if a
        filename is passed as the first positional parameter. If the geotag
        is read from the file, it can be passed back to the user by setting
        this keyword to a named variable.
</p>

</dd>
              
              <dt id="cgGeoMap:k:GRID">GRID <span class="smaller">in optional type=boolean default=0</span></dt>
              <dd class="small"><p>         If a cgMap object is made successfully, then setting this keyword
         will add a cgMapGrid object to the cgMap object.
</p>

</dd>
              
              <dt id="cgGeoMap:k:CCOLOR">CCOLOR <span class="smaller">in optional type=string default=Charcoal</span></dt>
              <dd class="small"><p>        The name of a color the map continents should be displayed with. The default
        is "charcoal". Color names are those supported by cgColor.
</p>

</dd>
              
              <dt id="cgGeoMap:k:CONTINENTS">CONTINENTS <span class="smaller">in optional type=boolean default=0</span></dt>
              <dd class="small"><p>         If a cgMap object is made successfully, then setting this keyword
         will add a cgMapContinents object to the cgMap object.
</p>

</dd>
              
              <dt id="cgGeoMap:k:IMAGE">IMAGE <span class="smaller">out optional type=varies </span></dt>
              <dd class="small"><p>         Set this keyword to a named variable that on exit will contain the image data.
</p>

</dd>
              
              <dt id="cgGeoMap:k:LATLONBOX">LATLONBOX <span class="smaller">out optional type=array </span></dt>
              <dd class="small"><p>        A four-element array giving the boundaries of the map projection in the
        Google Map form of [north, south, east, west]. This is useful when you
        are creating image overlays to be added to Google Earth.
</p>

</dd>
              
              <dt id="cgGeoMap:k:MAP_PROJECTION">MAP_PROJECTION <span class="smaller">out optional type=string </span></dt>
              <dd class="small"><p>         The name of the map projection found in the GeoTiff file.
</p>

</dd>
              
              <dt id="cgGeoMap:k:MCOLOR">MCOLOR <span class="smaller">in optional type=string default=Black</span></dt>
              <dd class="small"><p>         The name of a color the map should be displayed in. (Normally the map
         border and map title are displayed in this color.)
</p>

</dd>
              
              <dt id="cgGeoMap:k:ONIMAGE">ONIMAGE <span class="smaller">in optional type=boolean default=0</span></dt>
              <dd class="small"><p>         Set this keword if the map object is to get its position from the last
         cgImage command issued.
</p>

</dd>
              
              <dt id="cgGeoMap:k:PALETTE">PALETTE <span class="smaller">out optional type=bytarr </span></dt>
              <dd class="small"><p>         If the GeoTiff file contains RGB color vectors, and keywords to cgGeoTiff cause the
         file to be read (e.g, IMAGE or DISPLAY), then this output keyword will contain those
         vectors in a 3-by-256 byte array.
</p>

</dd>
              
              <dt id="cgGeoMap:k:SILENT">SILENT <span class="smaller">in optional type=boolean default=0</span></dt>
              <dd class="small"><p>         IDL cannot map every GeoTiff image to a supported map projection or datum.
         Normally, if the GeoTIFF image is unsupported, an error message is issued.
         Setting this keyword will suppress such error messages. If you do this, you
         MUST check the SUCCESS keyword to see if the program ran successfully. (Of
         course, it is a good idea to check it in any case!)
</p>

</dd>
              
              <dt id="cgGeoMap:k:SUB_RECT">SUB_RECT <span class="smaller">in optional type=integer </span></dt>
              <dd class="small"><p>         Set this keyword to a four-element array, [x, y, width, height], that
         specifies a rectangular region within the file to extract. Only the
         rectangular portion of the image selected by this keyword is read and
         returned. The rectangle is measured in pixels from the lower left
         corner (right hand coordinate system). If this keyword is not use, the
         entire image is read.
</p>

</dd>
              
              <dt id="cgGeoMap:k:SUCCESS">SUCCESS <span class="smaller">out optional type=boolean default=0</span></dt>
              <dd class="small"><p>         An output variable that will contain a 1 if the map coordinate object was
         created successfully. Or to a 0 if it was not created successfully.
</p>

</dd>
              
              <dt id="cgGeoMap:k:TITLE">TITLE <span class="smaller">in optional type=string </span></dt>
              <dd class="small"><p>         The title of the map projection.
</p>

</dd>
              
              <dt id="cgGeoMap:k:_EXTRA">_EXTRA <span class="smaller">in optional </span></dt>
              <dd class="small"><p>         Any keyword appropriate for cgImage can be collected and passed along if
         the DISPLAY keyword is also set.
</p>

<p></p>

</dd>
              
            </dl>
          

          
          <h3>Examples</h3>
          <div><p>    To display a GeoTiff image in cgWindow with map annotations:
<div><div><code class="listing"><span class="code-output">  file = 'C:\IDL\data\tiff\AF03sep15b.n16-VIg.tif'</span>
<span class="code-output">  mapCoord = cgGeoMap(file, /Continents, /Grid, /Display)</span>
</code></div></div></p>

</div>
          

          
          <h3>Author information</h3>

            <dl class="attribute small" summary="Routine author information">
              
                <dt>Author:</dt>
                <dd><p>    FANNING SOFTWARE CONSULTING:
<div><div><code class="listing"><span class="code-output">   David W. Fanning</span>
<span class="code-output">   1645 Sheely Drive</span>
<span class="code-output">   Fort Collins, CO 80526 USA</span>
<span class="code-output">   Phone: 970-221-0438</span>
<span class="code-output">   E-mail: david@idlcoyote.com</span>
<span class="code-output">   Coyote's Guide to IDL Programming: http://www.idlcoyote.com/</span>
</code></div></div></p>

</dd>
              

              
                <dt>Copyright:</dt>
                <dd><p>     Copyright (c) 2011-2012, Fanning Software Consulting, Inc.
</p>

</dd>
              

              
                <dt>History:</dt>
                <dd><p>     Modification History:
<div><div><code class="listing"><span class="code-output">  Converted from old GeoTIff program in Catalyst Library to run with Coyote Graphics routines.</span>
<span class="code-output">     9 November 2011. David W. Fanning.</span>
<span class="code-output">   Assuming meters as unit length if can't find linear measure in file. 1 Dec 2011. DWF.</span>
<span class="code-output">   Added UTM Zone 18S (projection 29178) for LandSAT MSS images over Amazon. 1 Dec 2011. DWF.</span>
<span class="code-output">   Added the ability to pass cgImage keywords via the keyword inheritance mechanism. 1 Dec 2011. DWF.</span>
<span class="code-output">   Added SUB_RECT keyword. 5 Dec 2011. DWF.</span>
<span class="code-output">   Added ability to read GOES EAST and GOES WEST GeoTiff files  from this NOAA web site:</span>
<span class="code-output">      http://http://www.osdpd.noaa.gov/ml/gis/index.html. 26 Dec 2011. DWF.</span>
<span class="code-output">   Modified code to read GeoTiff files created by HEG v2.11 from HDF-EOS2 grid files. 30 Dec 2011. DWF.</span>
<span class="code-output">   Modified to read multi-dimensional GeoTiff images and reverse the images correct. 12 Jan 2012. DWF.</span>
<span class="code-output">   Write base filename as title for window if the DISPLAY keyword is set. 22 Feb 2012. DWF.</span>
<span class="code-output">   Had inexplicably left out CENTER_LATITUDE parameter in Equirectangular projection. 30 July 2012. DWF.</span>
<span class="code-output">   Added PALETTE keyword to return the RGB color palette present in the file, if any. 16 August 2012. DWF.</span>
<span class="code-output">   Moved the geotiff argument to a GEOTIFF keyword, as I always expect it to be this way. 6 Sept 2012. DWF.</span>
<span class="code-output">   Removed UTM/WGS84 warning message in IDL 8.2, as this problem has been fixed in IDL 8.2. 2 Oct 2012. DWF.</span>
<span class="code-output">   Added BOUNDARY, ELLIPSOID, LATLONBOX, and MAP_PROJECTION output keywords to facilitate</span>
<span class="code-output">      creating Google Earth overlays. 30 Oct 2012. DWF.</span>
</code></div></div></p>

</dd>
              

              
            </dl>
          

          

          

        </div>
        

      </div>
      

      <div id="attributes">
        <h2>File attributes</h2>

        <table class="attribute small" summary="File attributes">
          <tr>
            <td class="name">Modification date:</td>
            <td>Tue Jul  9 14:02:40 2013</td>
          </tr>

          <tr>
            <td class="name">Lines:</td>
            <td>1,378</td>
          </tr>

          
          <tr>
            <td class="name">Docformat:</td>
            <td>rst rst</td>
          </tr>
          
        </table>
      </div>

      
    </div>

    <div class="footer">
    
      <table class="smaller" summary="footer">
        <tr>
          <td class="left">Produced by IDLdoc 3.5.1 on Mon Sep 30 16:56:06 2013</td>
          <td class="right"><a target="_top" href="http://idldoc.idldev.com">IDLdoc project information</a></td>
        </tr>
      </table>
    
    </div>
  </body>
</html>