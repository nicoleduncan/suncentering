<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Mon Sep 30 16:57:01 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>ncdf_browser.pro (Documentation for ./)</title>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="ncdf_browser.pro (Documentation for ./)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">
    <div class="content">
      <code class="source"><span class="comments">;+</span>
<span class="comments">; NAME:</span>
<span class="comments">;       NCDF_BROWSER</span>
<span class="comments">;</span>
<span class="comments">; PURPOSE:</span>
<span class="comments">;</span>
<span class="comments">;       This program is designed to make it easier to browse and read the </span>
<span class="comments">;       data and metadata in netCDF and HDF files. The user can browse files, </span>
<span class="comments">;       and read the data and metadata into main-level IDL variables. New netCDF </span>
<span class="comments">;       and HDF files can be opened at any time. The user interacts with the </span>
<span class="comments">;       program via a browser window (GUI). This program is a wrapper for the</span>
<span class="comments">;       NCDF_DATA object (ncdf_data__define.pro), which must also be downloaded.</span>
<span class="comments">;       </span>
<span class="comments">;       Note that only HDF files with scientific datasets (SD) can be read currently.</span>
<span class="comments">;       There is no support for VDATA objects or other objects sometimes found in HDF</span>
<span class="comments">;       files. Also note that when variables are returned from HDF files, they are returned</span>
<span class="comments">;       in a calibrated form, if calibration information about the variable is present in the</span>
<span class="comments">;       file. Calibration information is presented as an extra variable attribute in the</span>
<span class="comments">;       browser.</span>
<span class="comments">;     </span>
<span class="comments">;          calibratedData = calData.cal * (uncalibratedData - calData.offset)</span>
<span class="comments">;          </span>
<span class="comments">; AUTHOR:</span>
<span class="comments">;</span>
<span class="comments">;       FANNING SOFTWARE CONSULTING</span>
<span class="comments">;       David Fanning, Ph.D.</span>
<span class="comments">;       1645 Sheely Drive</span>
<span class="comments">;       Fort Collins, CO 80526 USA</span>
<span class="comments">;       Phone: 970-221-0438</span>
<span class="comments">;       E-mail: david@idlcoyote.com</span>
<span class="comments">;       Coyote's Guide to IDL Programming: http://www.idlcoyote.com</span>
<span class="comments">;</span>
<span class="comments">; CATEGORY:</span>

<span class="comments">;       File I/O</span>
<span class="comments">;</span>
<span class="comments">; CALLING SEQUENCE:</span>
<span class="comments">;</span>
<span class="comments">;       IDL> NCDF_Browser, filename</span>
<span class="comments">;</span>
<span class="comments">; Arguments:</span>
<span class="comments">;</span>
<span class="comments">;       filename: The name of a netCDF and HDF file to open and browse.</span>
<span class="comments">;</span>
<span class="comments">; KEYWORD PARAMETERS:</span>
<span class="comments">;       </span>
<span class="comments">;       EXTENSION: In general, netCDF and HDF files use *.nc, *.ncf, *.ncdf and *.hdf file extensions to</span>
<span class="comments">;                  identify themselves as netCDF and HDF files. Some users have their own file extensions.</span>
<span class="comments">;                  You can use this keyword to identify the file extension you wish to use. If</span>
<span class="comments">;                  set here, it will be used as the file filter in place of the normal file </span>
<span class="comments">;                  extensions in DIALOG_PICKFILE.</span>
<span class="comments">;</span>
<span class="comments">;                      obj = ('NCDF_DATA', file, EXTENSION='*.bin')</span>
<span class="comments">;                      </span>
<span class="comments">;       NO_NEW_FILE: If this keyword is set, then the button that allows a new file to be open</span>
<span class="comments">;                  on the browser is not created.</span>
<span class="comments">;</span>
<span class="comments">;       NO_READ_ON_PARSE: Normally, when a file is opened it is parsed for information.</span>
<span class="comments">;                  One piece of information is the minimum and maximum values of the variables.</span>
<span class="comments">;                  This requires actually reading the variables. This can slow things down </span>
<span class="comments">;                  considerably is the variable is large. Setting this keyword will suppress </span>
<span class="comments">;                  the reading of the variables during the parsing of the data file, with the</span>
<span class="comments">;                  result that no minimum or maximum values will be reported.</span>
<span class="comments">;                  </span>
<span class="comments">;       TITLE:     Set this keyword to a string that is on the title bar of the browser.</span>
<span class="comments">;       </span>
<span class="comments">;       XOFFSET:   Set this keyword to the X offset in pixels of the top-left corner of the browser.</span>
<span class="comments">;</span>
<span class="comments">;       YOFFSET:   Set this keyword to the Y offset in pixels of the top-left corner of the browser.</span>
<span class="comments">;</span>
<span class="comments">; NOTES:</span>
<span class="comments">;       </span>
<span class="comments">;       This program is only a (useful) front-end for a more flexible</span>
<span class="comments">;       object program of class NCDF_DATA. In this front end, the NCDF_DATA</span>
<span class="comments">;       object is created and then destroyed when the GUI is destroyed.</span>
<span class="comments">;       The NCDF_DATA object can be used to read netCDF data in a non-interactive</span>
<span class="comments">;       way, if you prefer not to use a GUI to interact with the data file.</span>
<span class="comments">;</span>
<span class="comments">; REQUIRES:</span>
<span class="comments">;</span>
<span class="comments">;        The following programs are required from the Coyote Library.</span>
<span class="comments">;</span>
<span class="comments">;              http://www.idlcoyote.com/netcdf_data__define.pro</span>
<span class="comments">;              http://www.idlcoyote.com/error_message.pro</span>
<span class="comments">;              http://www.idlcoyote.com/undefine.pro</span>
<span class="comments">;              http://www.idlcoyote.com/textbox.pro</span>
<span class="comments">;              http://www.idlcoyote.com/cgRootName.pro</span>
<span class="comments">;              http://www.idlcoyote.com/textlineformat.pro</span>
<span class="comments">;</span>
<span class="comments">; MODIFICATION HISTORY:</span>
<span class="comments">;       Written by:  David W. Fanning, 03 Feb 2008. Used ideas from many</span>
<span class="comments">;           people, including Chris Torrence, Ken Bowman, Liam Gumely, </span>
<span class="comments">;           Andrew Slater, and Paul van Delst.</span>
<span class="comments">;       Added Extension keyword. DWF. 04 Feb 2008.</span>
<span class="comments">;       Added error handling and protection for NCDF variables that have a dimension of length zero. 22 April 2009. DWF.</span>
<span class="comments">;       Added NO_READ_ON_PARSE keyword. 22 April 2009. DWF.</span>
<span class="comments">;       Now convert NCDF CHAR type variables to strings on output. 22 April 2009. DWF</span>
<span class="comments">;       Made the default value of NO_READ_ON_PARSE set to 1. 25 June 2009. DWF.</span>
<span class="comments">;       Added NO_NEW_FILE keyword to suppress the Open File button. 3 February 2010. DWF.</span>
<span class="comments">;       Added TITLE, XOFFSET, and YOFFSET keywords. 5 February 2010. DWF.</span>
<span class="comments">;       Fixed a problem with memory leakage when the input file cannot be read. 1 May 2010. DWF.</span>
<span class="comments">;-</span>
<span class="comments">;******************************************************************************************;</span>
<span class="comments">;  Copyright (c) 2008-2010, by Fanning Software Consulting, Inc.                           ;</span>
<span class="comments">;  All rights reserved.                                                                    ;</span>
<span class="comments">;                                                                                          ;</span>
<span class="comments">;  Redistribution and use in source and binary forms, with or without                      ;</span>
<span class="comments">;  modification, are permitted provided that the following conditions are met:             ;</span>
<span class="comments">;                                                                                          ;</span>
<span class="comments">;      * Redistributions of source code must retain the above copyright                    ;</span>
<span class="comments">;        notice, this list of conditions and the following disclaimer.                     ;</span>
<span class="comments">;      * Redistributions in binary form must reproduce the above copyright                 ;</span>
<span class="comments">;        notice, this list of conditions and the following disclaimer in the               ;</span>
<span class="comments">;        documentation and/or other materials provided with the distribution.              ;</span>
<span class="comments">;      * Neither the name of Fanning Software Consulting, Inc. nor the names of its        ;</span>
<span class="comments">;        contributors may be used to endorse or promote products derived from this         ;</span>
<span class="comments">;        software without specific prior written permission.                               ;</span>
<span class="comments">;                                                                                          ;</span>
<span class="comments">;  THIS SOFTWARE IS PROVIDED BY FANNING SOFTWARE CONSULTING, INC. ''AS IS'' AND ANY        ;</span>
<span class="comments">;  EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES    ;</span>
<span class="comments">;  OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT     ;</span>
<span class="comments">;  SHALL FANNING SOFTWARE CONSULTING, INC. BE LIABLE FOR ANY DIRECT, INDIRECT,             ;</span>
<span class="comments">;  INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED    ;</span>
<span class="comments">;  TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS;         ;</span>
<span class="comments">;  LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND             ;</span>
<span class="comments">;  ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT              ;</span>
<span class="comments">;  (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS           ;</span>
<span class="comments">;  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.                            ;</span>
<span class="comments">;******************************************************************************************;</span>
PRO NCDF_BROWSER, filename, $
    EXTENSION=extension, $
    NO_NEW_FILE=no_new_file, $
    NO_READ_ON_PARSE=no_read_on_parse, $
    TITLE=title, $
    XOFFSET=xoffset, $
    YOFFSET=yoffset

   <span class="comments">; Error handling. </span>
   CATCH, theError
   IF theError NE 0 THEN BEGIN
      CATCH, /CANCEL
      void = Error_Message()
      RETURN
   ENDIF
   
   IF N_Elements(extension) EQ 0 THEN extension = '*.nc;*.ncd;*.ncdf;*.hdf'
   IF N_Elements(no_read_on_parse) EQ 0 THEN no_read_on_parse = 1

   <span class="comments">; Need a filename?</span>
   IF N_Elements(filename) EQ 0 THEN BEGIN
      filename = cgPickfile(/READ, TITLE='Select a File to Open', $
         FILTER=extension)
    ENDIF
    IF filename EQ "" THEN RETURN
    
   <span class="comments">; Create an nCDF_DATA browse object.</span>
   ncdfObj = Obj_New('NCDF_DATA', filename, /Destroy_From_Browser, EXTENSION=extension, $
        NO_READ_ON_PARSE=no_read_on_parse)
   IF Obj_Valid(ncdfObj) THEN BEGIN
        ncdfObj -> Browse, NO_NEW_FILE=Keyword_Set(no_new_file), $
            XOFFSET=xoffset, YOFFSET=yoffset, SUCCESS=success, TITLE=title
        IF ~success THEN Obj_Destroy, ncdfObj
   ENDIF
   
END
</code>
    </div>
  </body>
</html>