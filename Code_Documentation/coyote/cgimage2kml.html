<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Mon Sep 30 16:56:12 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>cgimage2kml.pro (Documentation for ./)</title>

    

    <script type="text/javascript" src="../idldoc-resources/js/jquery.js"></script>
    <script type="text/javascript" src="../idldoc-resources/js/copybutton.js"></script>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="cgimage2kml.pro (Documentation for ./)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">

    <div class="header">
      <h1>Documentation for ./</h1>
      <h2>Generated by IDLdoc</h2>
    </div>
    
    
    <table class="navbar smaller" summary="Navigation header" cellspacing="0">
      <tr>
        <td >
          <a href="../overview.html">Overview</a>
        </td>
    
        <td >
          Directory
        </td>
    
        <td class="selected">File</td>
    
        
        <td >
          <a href="cgimage2kml-code.html" title="Chromocoded source">Source</a> <a href="cgimage2kml.pro" title=".pro file"><img src="../idldoc-resources/attach.png" alt="[attach.png]" align="top"/></a>
        </td>
        
    
        <td >Etc</td>
    
        <td >
        	<a href="../categories.html">Categories</a>
        </td>
    
        <td >
        	<a href="../search.html">Search</a>
        </td>
    
        
        <td >
          <a href="../idldoc-index.html">Index</a>
        </td>
        
    
        
    
        <td >
          <a href="../idldoc-help.html">Help</a>
        </td>
    
        <td class="flexible">
          User documentation
        </td>
      </tr>
    </table>
    
    
    
    <p class="localnavbar smallest"><a href="" target="_top">single page</a> | <a href="../index.html" target="_top">use frames</a> &nbsp;&nbsp;&nbsp; summary &nbsp;&nbsp;&nbsp; class &nbsp;&nbsp;&nbsp; fields &nbsp;&nbsp;&nbsp; <a href="#routine-details">routine details</a> &nbsp;&nbsp;&nbsp; <a href="#attributes">file attributes</a></p>
    
    
    
    
    
    
    
    
    

    <div class="content">
      <h2 class="directory">coyote/</h2>
      <h1 class="basename">cgimage2kml.pro<span class="file-attributes"></span></h1>
      

      
      
      
      <br/>

      

      

      

      

      

      


      
      <div id="routine-details">
        

        
        <div class="routine-details details" id="cgImage2KML">
          <h2 class="routine-name"><a href="#root" class="top">top</a> <a href="cgimage2kml-code.html#cgImage2KML:source" class="top">source</a> cgImage2KML<span class="routine-attributes"></span></h2>

          
          <p class="small categories">Graphics, FileIO, Maps</p>
          

          <p class="syntax"><code>cgImage2KML<span class="argument"> [, <a href="#cgImage2KML:p:image">image</a>]</span><span class="argument"> [, <a href="#cgImage2KML:p:mapCoord">mapCoord</a>]</span><span class="argument"> [, <a href="#cgImage2KML:k:ADDTOFILE">ADDTOFILE</a>=<span class="var">object</span>]</span><span class="argument"> [, /<a href="#cgImage2KML:k:BREWER">BREWER</a>]</span><span class="argument"> [, <a href="#cgImage2KML:k:CTINDEX">CTINDEX</a>=<span class="var">integer</span>]</span><span class="argument"> [, <a href="#cgImage2KML:k:DESCRIPTION">DESCRIPTION</a>=<span class="var">string</span>]</span><span class="argument"> [, <a href="#cgImage2KML:k:DRAWORDER">DRAWORDER</a>=<span class="var">integer</span>]</span><span class="argument"> [, <a href="#cgImage2KML:k:GEOTIFF">GEOTIFF</a>=<span class="var">string</span>]</span><span class="argument"> [, <a href="#cgImage2KML:k:FILENAME">FILENAME</a>=<span class="var">string</span>]</span><span class="argument"> [, <a href="#cgImage2KML:k:FLYTO">FLYTO</a>=<span class="var">fltarr(3)</span>]</span><span class="argument"> [, /<a href="#cgImage2KML:k:KMZ">KMZ</a>]</span><span class="argument"> [, <a href="#cgImage2KML:k:LATLONBOX">LATLONBOX</a>=<span class="var">array</span>]</span><span class="argument"> [, <a href="#cgImage2KML:k:MAX_VALUE">MAX_VALUE</a>=<span class="var">MAX_VALUE</span>]</span><span class="argument"> [, <a href="#cgImage2KML:k:MIN_VALUE">MIN_VALUE</a>=<span class="var">MIN_VALUE</span>]</span><span class="argument"> [, <a href="#cgImage2KML:k:MISSING_VALUE">MISSING_VALUE</a>=<span class="var">various</span>]</span><span class="argument"> [, <a href="#cgImage2KML:k:PALETTE">PALETTE</a>=<span class="var">byte</span>]</span><span class="argument"> [, <a href="#cgImage2KML:k:PLACENAME">PLACENAME</a>=<span class="var">string</span>]</span><span class="argument"> [, <a href="#cgImage2KML:k:RESIZE_FACTOR">RESIZE_FACTOR</a>=<span class="var">float</span>]</span><span class="argument"> [, /<a href="#cgImage2KML:k:REVERSE">REVERSE</a>]</span><span class="argument"> [, <a href="#cgImage2KML:k:TRANSPARENT">TRANSPARENT</a>=<span class="var">integer</span>]</span></code></p>

          
          <div class="small "><p> This program creates a KML file that can be opened in Google Earth to display the
 image drapped over the Google Earth terrain. A corresponding image file is also
 produced. The KML and image file must be in the same directory to use them with
 Google Earth.
</p>

<p> <img src="cgimage2kml.png"/>
</p>

<p></p>

</div>
          

          

          
          <h3>Parameters</h3>
            <dl>
              
              <dt id="cgImage2KML:p:image">image <span class="smaller">in optional </span></dt>
              <dd class="small"><p>       A 2D image or a 24-bit image with or without an alpha channel. If an alpha
       channel is present, it will be modified by the program if the <a href="../coyote/cgimage2kml.html#cgImage2KML:k:TRANSPARENT"><code>Transparent</code></a>
       keyword is used. An image is required unless the <a href="../coyote/cgimage2kml.html#cgImage2KML:k:GEOTIFF"><code>GeoTiff</code></a> keyword is used
       to obtain an image.
</p>

<p></p>

</dd>
              
              <dt id="cgImage2KML:p:mapCoord">mapCoord <span class="smaller">in optional type=object </span></dt>
              <dd class="small"><p>       A map coordinate object (cgMap) from which map projection information and map
       boundaries for the image overlay can be obtained. This parameter is required
       unless the <a href="../coyote/cgimage2kml.html#cgImage2KML:k:GEOTIFF"><code>GeoTiff</code></a> keyword is used to obtain a map coordinate object.
</p>

<p></p>

</dd>
              
            </dl>
          

          
          <h3>Keywords</h3>
            <dl>
              
              <dt id="cgImage2KML:k:ADDTOFILE">ADDTOFILE <span class="smaller">in optional type=object </span></dt>
              <dd class="small"><p>       If this keyword contains a cgKML_File object, the image is added to the file
       as a &lt;GroundOverlay) element and a separate KML file is not created. In other
       words, the <a href="../coyote/cgimage2kml.html#cgImage2KML:k:FILENAME"><code>Filename</code></a> keyword is ignored and the image file created takes its
       name from the cgKML_File object.
</p>

<p></p>

</dd>
              
              <dt id="cgImage2KML:k:BREWER">BREWER <span class="smaller">in optional type=boolean default=0</span></dt>
              <dd class="small"><p>       This keyword is used only if the <a href="../coyote/cgimage2kml.html#cgImage2KML:k:CTINDEX"><code>CTIndex</code></a> keyword is used to select a color table number.
       Setting this keyword allows Brewer color tables to be used.
</p>

<p></p>

</dd>
              
              <dt id="cgImage2KML:k:CTINDEX">CTINDEX <span class="smaller">in optional type=integer </span></dt>
              <dd class="small"><p>       The index number of a color table. The <a href="../coyote/cgimage2kml.html#cgImage2KML:k:BREWER"><code>Brewer</code></a> and <a href="../coyote/cgimage2kml.html#cgImage2KML:k:REVERSE"><code>Reverse</code></a> keywords will be checked
       to see how to load the color table into the <a href="../coyote/cgimage2kml.html#cgImage2KML:k:PALETTE"><code>Palette</code></a> keyword. This keyword will take
       precidence over any colors that are loaded with the <a href="../coyote/cgimage2kml.html#cgImage2KML:k:PALETTE"><code>Palette</code></a> keyword. This keyword
       applies only to 2D images.
</p>

<p></p>

</dd>
              
              <dt id="cgImage2KML:k:DESCRIPTION">DESCRIPTION <span class="smaller">in optional type=string </span></dt>
              <dd class="small"><p>       A string that is used to describe the image in the Google Earth interface.
</p>

<p></p>

</dd>
              
              <dt id="cgImage2KML:k:DRAWORDER">DRAWORDER <span class="smaller">in optional type=integer default=0</span></dt>
              <dd class="small"><p>        The drawing order of image overlay. The first order is 0. Images with a higher
        order are drawn on top of images with a lower order.
</p>

<p></p>

</dd>
              
              <dt id="cgImage2KML:k:GEOTIFF">GEOTIFF <span class="smaller">in optional type=string </span></dt>
              <dd class="small"><p>       The name of a GeoTiff file from which the <a href="../coyote/cgimage2kml.html#cgImage2KML:p:image"><code>image</code></a>, <a href="../coyote/cgimage2kml.html#cgImage2KML:p:mapCoord"><code>mapcoord</code></a>, <a href="../coyote/cgimage2kml.html#cgImage2KML:k:PALETTE"><code>palette</code></a> (possibly),
       and <a href="../coyote/cgimage2kml.html#cgImage2KML:k:LATLONBOX"><code>latlonbox</code></a> values can be obtained.
</p>

<p></p>

</dd>
              
              <dt id="cgImage2KML:k:FILENAME">FILENAME <span class="smaller">in optional type=string default=kml_image.kml</span></dt>
              <dd class="small"><p>        The name of the KML file that will be created. The image file will have the same name,
        but with a *.png file extension. The KML file and the image file will be created in the
        same directory.
</p>

<p></p>

</dd>
              
              <dt id="cgImage2KML:k:FLYTO">FLYTO <span class="smaller">in optional type=fltarr(3) </span></dt>
              <dd class="small"><p>        A three-element array that gives the coordinates [longitude, latitude, elevation] where
        the "eye" should be located with respect to the Earth. This implements a LookAt element
        in KML file, so that when the KML file is open, it "flies to" the location represented
        here. Longitude must be in the range -180 to 180. Latitude must be in the range -90 to 90.
        And elevation is a number in kilometers. If a two-element array [longitude, latitude] is
        passed in, the default value for elevation is 11000 km above the surface of the Earth.
</p>

<p></p>

</dd>
              
              <dt id="cgImage2KML:k:KMZ">KMZ <span class="smaller">in optional type=boolean default=0</span></dt>
              <dd class="small"><p>        Set this keyword to move the KML file and support files to a KMZ compressed file.
        Note that this capability is ONLY available in versions of IDL starting with version 8.0.
</p>

<p></p>

</dd>
              
              <dt id="cgImage2KML:k:LATLONBOX">LATLONBOX <span class="smaller">out optional type=array </span></dt>
              <dd class="small"><p>        A four-element array giving the boundaries of the map projection in the
        Google Map form of [north, south, east, west]. Normally, this information
        is obtained from the mapCoord object and need not be passed in. The values
        are in latitude and longitude coordinates that go from -90 to 90 and -180 to
        180 degrees, respectively.
</p>

<p></p>

</dd>
              
              <dt id="cgImage2KML:k:MAX_VALUE">MAX_VALUE <span class="smaller">in optional </span></dt>
              <dd class="small"><p>        The value to use for the MAX value when the image is scaled with BYTSCL.
</p>

<p></p>

</dd>
              
              <dt id="cgImage2KML:k:MIN_VALUE">MIN_VALUE <span class="smaller">in optional </span></dt>
              <dd class="small"><p>        The value to use for the MIN value when the image is scaled with BYTSCL.
</p>

<p></p>

</dd>
              
              <dt id="cgImage2KML:k:MISSING_VALUE">MISSING_VALUE <span class="smaller">in optional type=various </span></dt>
              <dd class="small"><p>        The "color" of a pixel that will be treated as a "missing" color or value.
        Any pixels in the image with this color value will be set completely
        transparent. If <a href="../coyote/binary.html#BINARY:k:COLOR"><code>Color</code></a> is a string, use cgColor to obtain a color triple.
        If <a href="../coyote/binary.html#BINARY:k:COLOR"><code>Color</code></a> is a non-strint scalar, this value is taken to be the missing color index
        in a 2D image. Otherwise, this is assumed to be a color triple that indicates
        the "missing" color or value in the output image. The alpha channel in the output image
        is set to 0 for the "missing" color, which makes this value completely transparent.
        If the <a href="../coyote/cgimage2kml.html#cgImage2KML:k:TRANSPARENT"><code>Transparent</code></a> keyword is not used, it is set to 0 by using the <a href="../coyote/cgimage2kml.html#cgImage2KML:k:MISSING_VALUE"><code>Missing_Value</code></a>
        keyword.
</p>

<p></p>

</dd>
              
              <dt id="cgImage2KML:k:PALETTE">PALETTE <span class="smaller">in optional type=byte </span></dt>
              <dd class="small"><p>        Set this keyword to a 3x256 or 256x3 byte array containing the RGB color
        vectors to be loaded before the transparent image is created. Such vectors can be
        obtained, for example, from cgLoadCT with the RGB_TABLE keyword:
<div><div><code class="listing">       <span class="code-prompt">IDL&gt;</span> cgLoadCT, 4, /BREWER, /REVERSE, RGB_TABLE=palette
       <span class="code-prompt">IDL&gt;</span> tImage = cgTransparentImage( cgDemoData(7), PALETTE=palette)
</code></div></div>        The default is to use whatever colors are loaded in the current hardware color table.
        A palette applies only to 2D input images.
</p>

<p></p>

</dd>
              
              <dt id="cgImage2KML:k:PLACENAME">PLACENAME <span class="smaller">in optional type=string </span></dt>
              <dd class="small"><p>        This is the &lt;name&gt; element in a Feature object. It is user-defined text that is used as
        the label for an object in Google Earth.
</p>

<p></p>

</dd>
              
              <dt id="cgImage2KML:k:RESIZE_FACTOR">RESIZE_FACTOR <span class="smaller">in optional type=float </span></dt>
              <dd class="small"><p>        Setting this keyword to a value allows the user to resize the image prior to making the
        PNG image file that will be output with the KML file. This is especially helpful with
        very large images. Setting the factor to 0.5 will reduce the image to half it's normal
        size before processing. Setting the factor to 2.0 will increase the size by a factor
        of 2 before processing. The image is resized with nearest neighbor sampling.
</p>

<p></p>

</dd>
              
              <dt id="cgImage2KML:k:REVERSE">REVERSE <span class="smaller">in optional type=boolean default=0</span></dt>
              <dd class="small"><p>        Set this keyword to reverse the color table vectors selected with the <a href="../coyote/cgimage2kml.html#cgImage2KML:k:CTINDEX"><code>CTIndex</code></a> keyword.
</p>

<p></p>

</dd>
              
              <dt id="cgImage2KML:k:TRANSPARENT">TRANSPARENT <span class="smaller">in optional type=integer default=50</span></dt>
              <dd class="small"><p>        The percentage of transparency desired in the output image. A number
        between 0 and 100.
</p>

<p></p>

</dd>
              
            </dl>
          

          
          <h3>Examples</h3>
          <div><p>    Here is how you can put an AVHRR NDVI image of Africa on a Google Earth display:
<div><div><code class="listing"><span class="code-output">  ;; Download the image file from the Coyote web page.</span>
<span class="code-output">  netObject = Obj_New('IDLnetURL')</span>
<span class="code-output">  url = 'http://www.idlcoyote.com/data/AF03sep15b.n16-VIg.tif'</span>
<span class="code-output">  returnName = netObject -&gt; Get(URL=url, FILENAME='AF03sep15b.n16-VIg.tif')</span>
<span class="code-output">  Obj_Destroy, netObject</span>

<span class="code-output">  ;; Create the image overlay KML file.</span>
<span class="code-output">  cgImage2KML, GeoTiff='AF03sep15b.n16-VIg.tif', Min_Value=0, CTIndex=11, $</span>
<span class="code-output">     /Brewer, /Reverse, Transparent=50, Filename='avhrr_ndvi.kml', $</span>
<span class="code-output">     Description='AVHRR NDVI Data from Africa'</span>

<span class="code-output">  ;; Start Google Earth and open the KML file you just created.</span>
</code></div></div>    The output should look like the figure above.
</p>

<p></p>

</div>
          

          
          <h3>Author information</h3>

            <dl class="attribute small" summary="Routine author information">
              
                <dt>Author:</dt>
                <dd><p>    FANNING SOFTWARE CONSULTING:
<div><div><code class="listing"><span class="code-output">  David W. Fanning</span>
<span class="code-output">  1645 Sheely Drive</span>
<span class="code-output">  Fort Collins, CO 80526 USA</span>
<span class="code-output">  Phone: 970-221-0438</span>
<span class="code-output">  E-mail: david@idlcoyote.com</span>
<span class="code-output">  Coyote's Guide to IDL Programming: http://www.idlcoyote.com</span>
</code></div></div></p>

</dd>
              

              
                <dt>Copyright:</dt>
                <dd><p>     Copyright (c) 2012, Fanning Software Consulting, Inc.
</p>

</dd>
              

              
                <dt>History:</dt>
                <dd><p>     Change History:
<div><div><code class="listing"><span class="code-output">  Written, 30 October 2012 by David W. Fanning.</span>
<span class="code-output">  Added DRAWORDER keyword and fixed a typo concerning MISSING_VALUE. 31 Oct 2012. DWF.</span>
<span class="code-output">  Fixed a problem that was causing floating underflow warnings to be thrown. 5 Nov 2012. DWF.</span>
<span class="code-output">  Images with values between 0 and 255 were not getting scaled properly. Fixed. 30 Nov 2012. DWF.</span>
<span class="code-output">  Added a FlyTo keyword to allow the user to fly to a particular location on the Earth. 31 Dec 2012. DWF.</span>
<span class="code-output">  Was not handling 24- or 32-bit images correctly, nor was the MISSING_COLOR keyword being</span>
<span class="code-output">      interpreted correctly when expressed as a color string. 20 Feb 2013. DWF.</span>
<span class="code-output">  Have been writing the absolute path to the image file into the KML file, when I should</span>
<span class="code-output">      have been using a relative path. 22 Feb 2013. DWF.</span>
</code></div></div></p>

</dd>
              

              
            </dl>
          

          

          

        </div>
        

      </div>
      

      <div id="attributes">
        <h2>File attributes</h2>

        <table class="attribute small" summary="File attributes">
          <tr>
            <td class="name">Modification date:</td>
            <td>Fri Feb 22 15:29:24 2013</td>
          </tr>

          <tr>
            <td class="name">Lines:</td>
            <td>411</td>
          </tr>

          
          <tr>
            <td class="name">Docformat:</td>
            <td>rst rst</td>
          </tr>
          
        </table>
      </div>

      
    </div>

    <div class="footer">
    
      <table class="smaller" summary="footer">
        <tr>
          <td class="left">Produced by IDLdoc 3.5.1 on Mon Sep 30 16:56:12 2013</td>
          <td class="right"><a target="_top" href="http://idldoc.idldev.com">IDLdoc project information</a></td>
        </tr>
      </table>
    
    </div>
  </body>
</html>