<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Mon Sep 30 16:57:14 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>windbarb.pro (Documentation for ./)</title>

    

    <script type="text/javascript" src="../idldoc-resources/js/jquery.js"></script>
    <script type="text/javascript" src="../idldoc-resources/js/copybutton.js"></script>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="windbarb.pro (Documentation for ./)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">

    <div class="header">
      <h1>Documentation for ./</h1>
      <h2>Generated by IDLdoc</h2>
    </div>
    
    
    <table class="navbar smaller" summary="Navigation header" cellspacing="0">
      <tr>
        <td >
          <a href="../overview.html">Overview</a>
        </td>
    
        <td >
          Directory
        </td>
    
        <td class="selected">File</td>
    
        
        <td >
          <a href="windbarb-code.html" title="Chromocoded source">Source</a> <a href="windbarb.pro" title=".pro file"><img src="../idldoc-resources/attach.png" alt="[attach.png]" align="top"/></a>
        </td>
        
    
        <td >Etc</td>
    
        <td >
        	<a href="../categories.html">Categories</a>
        </td>
    
        <td >
        	<a href="../search.html">Search</a>
        </td>
    
        
        <td >
          <a href="../idldoc-index.html">Index</a>
        </td>
        
    
        
    
        <td >
          <a href="../idldoc-help.html">Help</a>
        </td>
    
        <td class="flexible">
          User documentation
        </td>
      </tr>
    </table>
    
    
    
    <p class="localnavbar smallest"><a href="" target="_top">single page</a> | <a href="../index.html" target="_top">use frames</a> &nbsp;&nbsp;&nbsp; summary &nbsp;&nbsp;&nbsp; class &nbsp;&nbsp;&nbsp; fields &nbsp;&nbsp;&nbsp; <a href="#routine-details">routine details</a> &nbsp;&nbsp;&nbsp; <a href="#attributes">file attributes</a></p>
    
    
    
    
    
    
    
    
    

    <div class="content">
      <h2 class="directory">coyote/</h2>
      <h1 class="basename">windbarb.pro<span class="file-attributes"></span></h1>
      

      
      
      
      <br/>

      
      <div id="file_comments">
        <div class="small "><p> NAME:
       WINDBARB
</p>

<p> PURPOSE:
</p>

<p>       This is routine for drawing wind barbs on a map.
</p>

<p> AUTHOR:
</p>

<p>       FANNING SOFTWARE CONSULTING
       David Fanning, Ph.D.
       1645 Sheely Drive
       Fort Collins, CO 80526 USA
       Phone: 970-221-0438
       E-mail: david@idlcoyote.com
       Coyote's Guide to IDL Programming: http://www.idlcoyote.com
</p>

<p> CATEGORY:
       Graphics.
</p>

<p> CALLING SEQUENCE:
</p>

<p>       Windbarb, x, y, speed, direction
</p>

<p> REQUIRED INPUTS:
</p>

<p>       x:            The X location of the wind barb, expressed in data coordinates.
                     Positive X is pointing in EAST direction.
</p>

<p>       y:            The Y location of the wind barb, expressed in data coordinates.
                     Positive Y is pointing in NORTH direction.
</p>

<p>       speed:        The wind speed, expressed in knots.
</p>

<p>       direction:    The wind direction in degrees clockwise from north. Winds from
                     the NE come at 45 degrees, and the wind "arrow" points in the
                     direction from which the window is blowing. (The wind arrow
                     points in the direction of the station circle, with the "barbs"
                     of the arrow at the end of the arrow from which the wind is coming.)
</p>

<p> KEYWORDS:
</p>

<p>      ASPECT:        The aspect ratio of the map or plot in the display window.
</p>

<p>      CLIP:          A four-element array in normalized coordinates [x0,y0,x1,y1] giving
                     the lower-left and upper-right corner of a cliping rectangle. This
                     is normally the extent of your plot. See the example below.
</p>

<p>      COLOR:         The name of the color to draw the wind barbs in. May be a vector
                     the same length as X.
</p>

<p>      LENGTH:        The approximate length of the wind barb in normalized coordinates.
                     Will be set to 0.066 of the plot distance in the X direction by default.
</p>

<p>      MAP_ROTATION:  The clockwise rotation in degrees of the map North from the
                     top of the plot. Will be set to 0.0 by default.
</p>

<p>      SOUTHERN_HEMISPHERE: Windbarb "feathers" are traditionally drawn in the clockwise
                     direction in the northern hemispere and countercolockwise in the
                     southern hemisphere. Default is "northern" type feathers. Set this
                     keyword to select "southern" type feathers.
</p>

<p>      STATION:       Set this keyword if you want to draw the wind barbs with station symbols.
                     (Requires STATIONPLOT from the Coyote Library.)
</p>

<p> RESTRICTIONS:
</p>

<p>       Requires cgColor and STATIONPLOT from the Coyote Library:
</p>

<p>           http://www.idlcoyote.com/programs/cgColor.pro
           http://www.idlcoyote.com/programs/stationplot.pro
</p>

<p> EXAMPLE:
</p>

<p>    Window, Title='Wind Barbs', /Free
    seed = -3L
    lon = Randomu(seed, 9) * 360 - 180
    lat = Randomu(seed, 9) * 180 - 90
    speed = Randomu(seed, 9) * 100 + 5.0
    direction = Indgen(9)*45
    Erase, Color=cgColor('Ivory', !P.Background)
    Polyfill,[0.1, 0.1, 0.9, 0.9, 0.1], [0.1, 0.9, 0.9, 0.1, 0.1], /Normal, Color=cgColor('light gray')
    Map_Set, /Cylindrical, Position=[0.1, 0.1, 0.9, 0.9], Color=cgColor('Steel Blue'), /NoErase
    Map_Grid, Color=cgColor('Charcoal', !D.Table_Size-2)
    Map_Continents, Color=cgColor('Sea Green', !D.Table_Size-3)
    Windbarb, lon, lat, speed, direction, /Station, Color='Indian Red', /Southern_Hemisphere
</p>

<p>    To clip the windbards that fall outside the plot, substitute these two lines
    for the last line in the example above:
</p>

<p>    clip = [0.1, 0.1, 0.9, 0.9]
    Windbarb, lon, lat, speed, direction, /Station, Color='Indian Red', Clip=clip
</p>

<p> MODIFICATION HISTORY:
</p>

<p>       Written by:  David W. Fanning, 20 May 2003.
       It has been called to my attention that the wind barbs are pointing
         in *exactly* the wrong direction. Sigh... Rotated by 180 degrees. DWF. 8 June 2004.
       Now someone complains that the *corrected* version is off by 180 degrees! Sheesh!
         Clearly, I'm no meteorologist. Both lines of code are in the file. Please use the one
         you like the best. :-) (Line 177-178) 20 July 2004. DWF.
       Added a CLIP keyword so you can clip the output to the extend of your graphics plot. 12 Nov 2004. DWF.
       Added THICK keyword 23 February 2005. DWF.
       After further research, I've reverted to the direction specified originally.
       And I have changed the "feathers" to point clockwise normally, and counterdlockwise
         if the SOUTHERN_HEMISPHERE keyword is set. Here are my sources (21 July 2005. DWF):
</p>

<p>            http://ww2010.atmos.uiuc.edu/(Gh)/guides/maps/sfcobs/wnd.rxml
            http://www.al.noaa.gov/WWWHD/pubdocs/windbarb.html
      Fixed a small CLIP problem. 21 July 2005. DWF.
</p>

<p></p>

</div>
      </div>
      

      

      

      

      

      


      
      <div id="routine-details">
        

        
        <div class="routine-details details" id="Windbarb">
          <h2 class="routine-name"><a href="#root" class="top">top</a> <a href="windbarb-code.html#Windbarb:source" class="top">source</a> Windbarb<span class="routine-attributes"></span></h2>

          

          <p class="syntax"><code>Windbarb<span class="argument">, <a href="#Windbarb:p:x">x</a></span><span class="argument">, <a href="#Windbarb:p:y">y</a></span><span class="argument">, <a href="#Windbarb:p:wspeed">wspeed</a></span><span class="argument">, <a href="#Windbarb:p:wdirection">wdirection</a></span><span class="argument">, <a href="#Windbarb:k:Aspect">Aspect</a>=<span class="var">Aspect</span></span><span class="argument">, <a href="#Windbarb:k:Clip">Clip</a>=<span class="var">Clip</span></span><span class="argument">, <a href="#Windbarb:k:Color">Color</a>=<span class="var">Color</span></span><span class="argument">, <a href="#Windbarb:k:Length">Length</a>=<span class="var">Length</span></span><span class="argument">, <a href="#Windbarb:k:Map_Rotation">Map_Rotation</a>=<span class="var">Map_Rotation</span></span><span class="argument">, <a href="#Windbarb:k:Station">Station</a>=<span class="var">Station</span></span><span class="argument">, <a href="#Windbarb:k:Southern_Hemisphere">Southern_Hemisphere</a>=<span class="var">Southern_Hemisphere</span></span><span class="argument">, <a href="#Windbarb:k:Thick">Thick</a>=<span class="var">Thick</span></span></code></p>

          

          

          
          <h3>Parameters</h3>
            <dl>
              
              <dt id="Windbarb:p:x">x <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="Windbarb:p:y">y <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="Windbarb:p:wspeed">wspeed <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="Windbarb:p:wdirection">wdirection <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
            </dl>
          

          
          <h3>Keywords</h3>
            <dl>
              
              <dt id="Windbarb:k:Aspect">Aspect <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="Windbarb:k:Clip">Clip <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="Windbarb:k:Color">Color <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="Windbarb:k:Length">Length <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="Windbarb:k:Map_Rotation">Map_Rotation <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="Windbarb:k:Station">Station <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="Windbarb:k:Southern_Hemisphere">Southern_Hemisphere <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
              <dt id="Windbarb:k:Thick">Thick <span class="smaller"></span></dt>
              <dd class="small"></dd>
              
            </dl>
          

          

          

          

          

        </div>
        

      </div>
      

      <div id="attributes">
        <h2>File attributes</h2>

        <table class="attribute small" summary="File attributes">
          <tr>
            <td class="name">Modification date:</td>
            <td>Tue Jul 17 09:13:10 2012</td>
          </tr>

          <tr>
            <td class="name">Lines:</td>
            <td>329</td>
          </tr>

          
        </table>
      </div>

      
    </div>

    <div class="footer">
    
      <table class="smaller" summary="footer">
        <tr>
          <td class="left">Produced by IDLdoc 3.5.1 on Mon Sep 30 16:57:14 2013</td>
          <td class="right"><a target="_top" href="http://idldoc.idldev.com">IDLdoc project information</a></td>
        </tr>
      </table>
    
    </div>
  </body>
</html>