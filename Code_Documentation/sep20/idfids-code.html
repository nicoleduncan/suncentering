<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Generated by IDLdoc 3.5.1 on Mon Sep 30 16:58:34 2013 -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>idfids.pro (Documentation for ./)</title>

    
    <link rel="stylesheet" type="text/css" media="all"
          href="../idldoc-resources/main.css" />
    <link rel="stylesheet" type="text/css" media="print"
          href="../idldoc-resources/main-print.css" />
    

    <script type="text/javascript">
      function setTitle() {
        parent.document.title="idfids.pro (Documentation for ./)";
      }
    </script>
  </head>

  <body onload="setTitle();" id="root">
    <div class="content">
      <code class="source"><a id="idfids:source"></a>function idfids, fidstruct

<span class="comments">; So, how do we know which fids are which?</span>

<span class="comments">; For each fiducial, assign a combination of distances as a letter. i.e.,</span>

<span class="comments">; beta = [A, B, C, D, E, F]</span>
<span class="comments">; beta = [0, 0, 0, 0, 0, 0]</span>

<span class="comments">; since we know the distances between certain points and which fiducials they belong to, we check if those distances line up with our fiducials</span>

<span class="comments">; If the distance between point alpha and beta is l, then we look up the distance l and see which fiducials they correspond to. In the table, l is the distance between fiducials A and D. e go to our matrix and for the beta fiducial, we say that it can be either A or D. Now the array looks like:</span>

<span class="comments">; beta = [A, B, C, D, E, F]</span>
<span class="comments">; beta = [1, 0, 0, 1, 0, 0]</span>

<span class="comments">; Great. Now we look up the distance between beta and phi and find the distance to be d. We look up the distance d and see that it links fiducials D and F. Now the array looks like:</span>

<span class="comments">; beta = [A, B, C, D, E, F]</span>
<span class="comments">; beta = [1, 0, 0, 2, 0, 1]</span>

<span class="comments">; we're incrementing by 1 for each possible fiducial it could be. Technically we can stop at 2 but for robustness we do 3. We look up the distance between beta and omicron and find the distance to be w. w marks the distance between the C and D fiducial. Now the array looks like:</span>

<span class="comments">; beta = [A, B, C, D, E, F]</span>
<span class="comments">; beta = [1, 0, 1, 3, 0, 0]</span>

<span class="comments">; After enough iterations, we deduce beta (which holds no meaning) is fiducial D on the grid. Done.</span>


<span class="comments">; Assuming that the list is a list of fid chords</span>
a=posscomb(4)

<span class="comments">; fidstruct[0].fidarr[0].x,fidstruct[0].fidarr[0].y = 1 fid coord</span>
n=4
i = REBIN(LINDGEN(n), n, n)           
j = REBIN(TRANSPOSE(LINDGEN(n)), n, n)
mask = i gt j

dx = fan(fidstruct[0].fidarr.subx,4)
tdx = transpose(dx)
x = (dx - tdx)^2

dy = fan(fidstruct[0].fidarr.suby,4)
tdy = transpose(dy)
y = (dy - tdy)^2

d = sqrt(x + y) * mask

print,d


<span class="comments">; Assuming that the is a list of fid coords:</span>







stop
RETURN, 1s
end
</code>
    </div>
  </body>
</html>